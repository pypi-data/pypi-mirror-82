[bumpversion]
parse = (?P<major>\d+)\.(?P<minor>\d+)(\.(?P<patch>\d+))?
current_version = 0.2.0
commit = True
commit_args = -S
message = New version: {new_version}
tag = True
tag_name = v{new_version}
sign_tags = True

[bumpversion:file:src/valerie/__init__.py]
search = __version__ = "{current_version}"
replace = __version__ = "{new_version}"

[bumpversion:file:docs/conf.py]
search = release = "{current_version}"
replace = release = "{new_version}"

[bumpversion:file:./docs/conf.py]
parse = (?P<major>\d+)\.(?P<minor>\d+)
serialize = {major}.{minor}
search = version = "{current_version}"
replace = version = "{new_version}"

[bumpversion:file:CHANGELOG.rst]
search = 
	Latest
	------
replace = 
	Latest
	------
	
	{new_version} ({now:%%Y-%%m-%%d})
	------------------

[bumpversion:file:setup.py]
search = version="{current_version}"
replace = version="{new_version}"

[flake8]
max-line-length = 88
ignore = E123,E128,E203,E501,W503
exclude = 
	.git,
	.tox,
	venv,
	build

[tool:pytest]
django_settings_module = settings
addopts = --black --flake8 --cov=src --cov-report=term --cov-report=html
python_files = 
	test_*.py
testpaths = 
	tests

[tox:tox]
envlist = 
	{py36,py37,py38}-django{22,30,31}
minversion = 3.4.0

[testenv]
commands = pytest
deps = -r requirements/tests.txt
setenv = 
	PYTHONPATH = src

[testenv:docs]
basepython = python
changedir = docs
deps = -r requirements/docs.txt
commands = 
	sphinx-build -b html -d {envtmpdir}/doctrees . {envtmpdir}/html

[isort]
multi_line_output = 3
line_length = 88
known_django = django
known_first_party = valerie
default_section = THIRDPARTY
sections = FUTURE,STDLIB,DJANGO,THIRDPARTY,FIRSTPARTY,LOCALFOLDER
include_trailing_comma = True
lines_after_imports = 2
skip = .git,venv,migrations

[egg_info]
tag_build = 
tag_date = 0

