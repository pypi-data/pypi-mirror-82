


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual &#8212; ms3 unknown documentation</title>
    <link rel="stylesheet" href="_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&amp;display=swap" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>

    
    
     
        <script src="_static/jquery.cookie.js"></script>
    

    
     
        <script src="_static/cloud.base.js"></script>
    

    
     
        <script src="_static/cloud.js"></script>
    

    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Developers’ Reference" href="reference.html" />
    <link rel="prev" title="Quick Reference" href="quick.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="reference.html" title="Developers’ Reference"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="quick.html" title="Quick Reference"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">ms3 unknown documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Manual</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="manual">
<h1>Manual<a class="headerlink" href="#manual" title="Permalink to this headline">¶</a></h1>
<p>This page is a detailed guide for using ms3 for different tasks. It supposes you are working in an interactive Python
interpreter such as IPython, Jupyter, Google Colab, or just the console.</p>
<div class="section" id="good-to-know">
<h2>Good to know<a class="headerlink" href="#good-to-know" title="Permalink to this headline">¶</a></h2>
<div class="section" id="terminology">
<h3>Terminology<a class="headerlink" href="#terminology" title="Permalink to this headline">¶</a></h3>
<div class="section" id="measure-counts-mc-vs-measure-numbers-mn">
<span id="mc-vs-mn"></span><h4>Measure counts (MC) vs. measure numbers (MN)<a class="headerlink" href="#measure-counts-mc-vs-measure-numbers-mn" title="Permalink to this headline">¶</a></h4>
<p>Measure counts are strictly increasing numbers for all &lt;measure&gt; nodes in the score, regardless of their length. This
information is crucial for correctly addressing positions in a MuseScore file and are shown in the software’s status
bar. The first measure is always counted as 1 (following MuseScore’s convention), even if it is an anacrusis.</p>
<p>Measure numbers are the traditional way by which humans refer to positions in a score. They follow a couple of
conventions which can be summarised as counting complete bars. Quite often, a complete bar (MN) can be made up of
two &lt;measure&gt; nodes (MC). In the context of this library, score addressability needs to be maintained for humans and
computers, therefore a mapping MC -&gt; MN is preserved in the score information DataFrames.</p>
</div>
<div class="section" id="quarter-beats">
<span id="id1"></span><h4>Quarter Beats<a class="headerlink" href="#quarter-beats" title="Permalink to this headline">¶</a></h4>
<p>A quarter beat always has the length of a quarter note. It is used as a standard unit to express positions and durations
independently of the beat size suggested by the <a class="reference internal" href="#timesig"><span class="std std-ref">time signature</span></a> (e.g. three eighths), and can be
<a class="reference internal" href="#converting-quarter-beats"><span class="std std-ref">converted to a different beat size</span></a>.</p>
<p>If the guidelines say <em>“xy is expressed as/in quarter beats”</em>,
it <strong>actually</strong> means “as fractions of a whole note”. So the duration of a half note, for example, is expressed
as <code class="docutils literal notranslate"><span class="pre">1/2</span></code>, and not as <code class="docutils literal notranslate"><span class="pre">2</span></code> (which but be the multiplier of quarter beats, or understanding quarter beats as unit).
This is simply a terminological convention to speak consistently of beat sizes.</p>
</div>
</div>
<div class="section" id="functionality">
<h3>Functionality<a class="headerlink" href="#functionality" title="Permalink to this headline">¶</a></h3>
<div class="section" id="converting-quarter-beats">
<span id="id2"></span><h4>Converting <a class="reference internal" href="#quarter-beats"><span class="std std-ref">Quarter Beats</span></a><a class="headerlink" href="#converting-quarter-beats" title="Permalink to this headline">¶</a></h4>
<p><em>TODO</em></p>
</div>
<div class="section" id="read-only-mode">
<span id="read-only"></span><h4>Read-only mode<a class="headerlink" href="#read-only-mode" title="Permalink to this headline">¶</a></h4>
<p>For parsing faster using less memory.</p>
</div>
</div>
</div>
<div class="section" id="using-the-library">
<h2>Using the library<a class="headerlink" href="#using-the-library" title="Permalink to this headline">¶</a></h2>
<div class="section" id="parsing-a-single-score">
<h3>Parsing a single score<a class="headerlink" href="#parsing-a-single-score" title="Permalink to this headline">¶</a></h3>
<ol class="bignums arabic">
<li><p>Locate the <a class="reference external" href="https://musescore.org/en/download">MuseScore 3</a> score you want to parse.</p>
<blockquote>
<div><p>Make sure it is uncompressed. i.e. it has the extension <code class="docutils literal notranslate"><span class="pre">.mscx</span></code> and not <code class="docutils literal notranslate"><span class="pre">.mscz</span></code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>MSCZ files are ZIP files containing the uncompressed MSCX. A later version of ms3 will be able to deal with MSCZ, too.</p>
</div>
<p>In the examples, we parse the annotated first page of Giovanni
Battista Pergolesi’s influential <em>Stabat Mater</em>. The file is called <code class="docutils literal notranslate"><span class="pre">stabat.mscx</span></code> and can be downloaded from
<a class="reference external" href="https://raw.githubusercontent.com/johentsch/ms3/master/docs/stabat.mscx">here</a> (open link and key <code class="docutils literal notranslate"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">S</span></code> to save the file
or right-click on the link to <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">link</span> <span class="pre">as...</span></code>).</p>
</div></blockquote>
</li>
<li><p>Import the library.</p>
<blockquote>
<div><p>To parse a single score, we will use the class <code class="docutils literal notranslate"><span class="pre">ms3.Score</span></code>. We could import the whole library:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ms3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">ms3</span><span class="o">.</span><span class="n">Score</span><span class="p">()</span>
</pre></div>
</div>
<p>or simply import the class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ms3</span> <span class="kn">import</span> <span class="n">Score</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Score</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">ms3.Score</span></code> object.</p>
<blockquote>
<div><p>In the example, the MuseScore 3 file is located at <code class="docutils literal notranslate"><span class="pre">~/ms3/docs/stabat.mscx</span></code> so we can simply create the object
and bind it to the variable <code class="docutils literal notranslate"><span class="pre">s</span></code> like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ms3</span> <span class="kn">import</span> <span class="n">Score</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;~/ms3/docs/stabat.mscx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Inspect the object.</p>
<blockquote>
<div><p>To have a look at the created object we can simply evoke its variable:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">MuseScore file</span>
<span class="go">--------------</span>

<span class="go">~/ms3/docs/stabat.mscx</span>

<span class="go">Attached annotations</span>
<span class="go">--------------------</span>

<span class="go">48 labels:</span>
<span class="go">staff  voice  label_type</span>
<span class="go">3      2      dcml          48</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="parsing-options">
<h3>Parsing options<a class="headerlink" href="#parsing-options" title="Permalink to this headline">¶</a></h3>
<dl class="py method">
<dt>
<code class="sig-prename descclassname">Score.</code><code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mscx_src</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">infer_label_types</span><span class="o">=</span><span class="default_value">['dcml']</span></em>, <em class="sig-param"><span class="n">read_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">logger_name</span><span class="o">=</span><span class="default_value">'Score'</span></em>, <em class="sig-param"><span class="n">level</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parser</span><span class="o">=</span><span class="default_value">'bs4'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ms3/score.html#Score.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mscx_src</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – Path to the MuseScore file to be parsed.</p></li>
<li><p><strong>infer_label_types</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> or <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – Determine which label types are determined automatically. Defaults to [‘dcml’].
Pass <code class="docutils literal notranslate"><span class="pre">[]</span></code> to infer only main types 0 - 3.
Pass <code class="docutils literal notranslate"><span class="pre">{'type_name':</span> <span class="pre">r&quot;^(regular)(Expression)$&quot;}</span></code> to call <code class="xref py py-meth docutils literal notranslate"><span class="pre">ms3.Score.new_type()</span></code>.</p></li>
<li><p><strong>read_only</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>, meaning that the parsing is slower and uses more memory in order to allow for manipulations
of the score, such as adding and deleting labels. Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you’re only extracting information.</p></li>
<li><p><strong>logger_name</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – If you have defined a logger, pass its name. Otherwise, the MSCX filename is used.</p></li>
<li><p><strong>level</strong> (<em>{'W'</em><em>, </em><em>'D'</em><em>, </em><em>'I'</em><em>, </em><em>'E'</em><em>, </em><em>'C'</em><em>, </em><em>'WARNING'</em><em>, </em><em>'DEBUG'</em><em>, </em><em>'INFO'</em><em>, </em><em>'ERROR'</em><em>, </em><em>'CRITICAL'}</em><em>, </em><em>optional</em>) – Pass a level name for which (and above which) you want to see log records.</p></li>
<li><p><strong>parser</strong> (<em>{'bs4'}</em><em>, </em><em>optional</em>) – The only XML parser currently implemented is BeautifulSoup 4.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="column-names">
<h2>Column Names<a class="headerlink" href="#column-names" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general-columns">
<h3>General Columns<a class="headerlink" href="#general-columns" title="Permalink to this headline">¶</a></h3>
<div class="section" id="mc-measure-counts">
<span id="mc"></span><h4><strong>mc</strong> Measure Counts<a class="headerlink" href="#mc-measure-counts" title="Permalink to this headline">¶</a></h4>
<p>Measure count, identifier for the measure units in the XML encoding.
Always starts with 1 for correspondence to MuseScore’s status bar.</p>
</div>
<div class="section" id="mn-measure-numbers">
<span id="mn"></span><h4><strong>mn</strong> Measure Numbers<a class="headerlink" href="#mn-measure-numbers" title="Permalink to this headline">¶</a></h4>
<p>Measure number, continuous count of complete measures as used in printed editions.
Starts with 1 except for pieces beginning with a pickup measure, numbered as 0.</p>
</div>
<div class="section" id="onsets">
<span id="onset"></span><h4><strong>onsets</strong><a class="headerlink" href="#onsets" title="Permalink to this headline">¶</a></h4>
<p>The value for <code class="docutils literal notranslate"><span class="pre">onset</span></code> represents, expressed as <a class="reference internal" href="#quarter-beats"><span class="std std-ref">quarter beats</span></a>, a position in a measure where <code class="docutils literal notranslate"><span class="pre">0</span></code>
corresponds to the earliest possible position (in most cases beat 1), and some other fraction corresponds to an onset’s offset from <code class="docutils literal notranslate"><span class="pre">0</span></code>.
<a class="reference internal" href="#quarter-beats"><span class="std std-ref">Quarter beats</span></a> can be <a class="reference internal" href="#converting-quarter-beats"><span class="std std-ref">converted to beats</span></a>, e.g. to half beats or dotted eighth beats;
However, the operation may rely on the value of <a class="reference internal" href="#mc-offset"><span class="std std-ref">mc_offset</span></a>.</p>
<div class="topic">
<p class="topic-title">Developers</p>
<p>When loading a table from a file, it is recommended to parse the text of this
column with <code class="docutils literal notranslate"><span class="pre">fractions.Fraction()</span></code> to be able to calculate with the values.
MS3 does this automatically.</p>
</div>
</div>
</div>
<div class="section" id="measures">
<h3>Measures<a class="headerlink" href="#measures" title="Permalink to this headline">¶</a></h3>
<div class="section" id="act-dur-actual-duration-of-a-measure">
<span id="act-dur"></span><h4><strong>act_dur</strong> Actual duration of a measure<a class="headerlink" href="#act-dur-actual-duration-of-a-measure" title="Permalink to this headline">¶</a></h4>
<p>The value of <code class="docutils literal notranslate"><span class="pre">act_dur</span></code> in most cases equals the time signature, expressed as a fraction; meaning for example that
a “normal” measure in 6/8 has <code class="docutils literal notranslate"><span class="pre">act_dur</span> <span class="pre">=</span> <span class="pre">3/4</span></code>. If the measure has an irregular length, for example a pickup measure
of length 1/8, would have <code class="docutils literal notranslate"><span class="pre">act_dur</span> <span class="pre">=</span> <span class="pre">1/8</span></code>.</p>
<p>The value of <code class="docutils literal notranslate"><span class="pre">act_dur</span></code> plays an important part in inferring <a class="reference internal" href="#mn"><span class="std std-ref">MNs</span></a>
from <a class="reference internal" href="#mc"><span class="std std-ref">MCs</span></a>. See also the columns <a class="reference internal" href="#dont-count"><span class="std std-ref">dont_count</span></a> and <a class="reference internal" href="#numbering-offset"><span class="std std-ref">numbering_offset</span></a>.</p>
</div>
<div class="section" id="barline">
<span id="id3"></span><h4><strong>barline</strong><a class="headerlink" href="#barline" title="Permalink to this headline">¶</a></h4>
<p>The column <code class="docutils literal notranslate"><span class="pre">barline</span></code> encodes information about the measure’s final bar line.</p>
</div>
<div class="section" id="breaks">
<span id="id4"></span><h4><strong>breaks</strong><a class="headerlink" href="#breaks" title="Permalink to this headline">¶</a></h4>
<p>The column <code class="docutils literal notranslate"><span class="pre">breaks</span></code> may include three different values: <code class="docutils literal notranslate"><span class="pre">{'line',</span> <span class="pre">'page',</span> <span class="pre">'section'}</span></code> which represent the different
breaks types. In the case of section breaks, MuseScore</p>
</div>
<div class="section" id="dont-count-measures-excluded-from-bar-count">
<span id="dont-count"></span><h4><strong>dont_count</strong> Measures excluded from bar count<a class="headerlink" href="#dont-count-measures-excluded-from-bar-count" title="Permalink to this headline">¶</a></h4>
<p>This is a binary value that corresponds to MuseScore’s setting <code class="docutils literal notranslate"><span class="pre">Exclude</span> <span class="pre">from</span> <span class="pre">bar</span> <span class="pre">count</span></code> from the <code class="docutils literal notranslate"><span class="pre">Bar</span> <span class="pre">Properties</span></code> menu.
The value is <code class="docutils literal notranslate"><span class="pre">1</span></code> for pickup bars, second <a class="reference internal" href="#mc"><span class="std std-ref">MCs</span></a> of divided <a class="reference internal" href="#mn"><span class="std std-ref">MNs</span></a> and some volta measures,
and <code class="docutils literal notranslate"><span class="pre">NaN</span></code> otherwise.</p>
</div>
<div class="section" id="keysig-key-signatures">
<span id="keysig"></span><h4><strong>keysig</strong> Key Signatures<a class="headerlink" href="#keysig-key-signatures" title="Permalink to this headline">¶</a></h4>
<p>The feature <code class="docutils literal notranslate"><span class="pre">keysig</span></code> represents the key signature of a particular measure.
It is an integer which, if positive, represents the number of sharps, and if
negative, the number of flats. E.g.: <code class="docutils literal notranslate"><span class="pre">3</span></code>: three sharps, <code class="docutils literal notranslate"><span class="pre">-2</span></code>: two flats,
<code class="docutils literal notranslate"><span class="pre">0</span></code>: no accidentals.</p>
</div>
<div class="section" id="mc-offset-offset-of-a-mc">
<span id="mc-offset"></span><h4><strong>mc_offset</strong> Offset of a MC<a class="headerlink" href="#mc-offset-offset-of-a-mc" title="Permalink to this headline">¶</a></h4>
<p>The column <code class="docutils literal notranslate"><span class="pre">mc_offset</span></code> , in most cases, has the value <code class="docutils literal notranslate"><span class="pre">0</span></code> because it expresses the deviation of this MC’s
<a class="reference internal" href="#onset"><span class="std std-ref">onset</span></a> <code class="docutils literal notranslate"><span class="pre">0</span></code> (beginning of the MC)
from beat 1 of the corresponding MN. If the value is a fraction &gt; 0, it means that this MC is part of a MN which is
composed of at least two MCs, and it expresses the current MC’s offset in terms of the duration of all (usually 1) preceding MCs
which are also part of the corresponding MN. In the standard case that one MN would be split in two MCs, the first MC
would have mc_offset = <code class="docutils literal notranslate"><span class="pre">0</span></code> , and the second one mc_offset = <code class="docutils literal notranslate"><span class="pre">the</span> <span class="pre">previous</span> <span class="pre">MC's</span></code> <a class="reference internal" href="#act-dur"><span class="std std-ref">act_dur</span></a> .</p>
</div>
<div class="section" id="next">
<span id="id5"></span><h4><strong>next</strong><a class="headerlink" href="#next" title="Permalink to this headline">¶</a></h4>
<p>Every cell in this column has at least one integer, namely the MC of the subsequent bar, or <code class="docutils literal notranslate"><span class="pre">-1</span></code> in the cast of the last.
In the case of repetitions, measures can have more than one subsequent MCs, in which case the integers are separated by
<code class="docutils literal notranslate"><span class="pre">',</span> <span class="pre">'</span></code> .</p>
<p>The column is used for checking whether <a class="reference internal" href="#act-dur"><span class="std std-ref">irregular measure lengths</span></a> even themselves out because otherwise
the inferred MNs might be wrong. Also, it is needed for MS3’s unfold repeats functionality (TODO).</p>
<div class="topic">
<p class="topic-title">Developers</p>
<p>Within MS3, the <code class="docutils literal notranslate"><span class="pre">next</span></code> column holds tuples, which MS3 should normally store as strings without paranthesis. For
example, the tuple <code class="docutils literal notranslate"><span class="pre">(17,</span> <span class="pre">1)</span></code> is stored as <code class="docutils literal notranslate"><span class="pre">'17,</span> <span class="pre">1'</span></code>. However, users might have extracted and stored a raw DataFrame
from a <code class="xref py py-obj docutils literal notranslate"><span class="pre">Score</span></code> object and MS3 needs to handle both formats.</p>
</div>
</div>
<div class="section" id="numbering-offset-offsetting-mns">
<span id="numbering-offset"></span><h4><strong>numbering_offset</strong> Offsetting MNs<a class="headerlink" href="#numbering-offset-offsetting-mns" title="Permalink to this headline">¶</a></h4>
<p>MuseScore’s measure number counter can be reset at a given MC by using the <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">to</span> <span class="pre">bar</span> <span class="pre">number</span></code> setting from the
<code class="docutils literal notranslate"><span class="pre">Bar</span> <span class="pre">Properties</span></code> menu. If <code class="docutils literal notranslate"><span class="pre">numbering_offset</span></code> ≠ 0, the counting offset is added to the current MN and all subsequent
MNs are inferred accordingly.</p>
<p>Scores which include several pieces (e.g. in variations or a suite),
sometimes, instead of using section <a class="reference internal" href="#breaks"><span class="std std-ref">breaks</span></a>, use <code class="docutils literal notranslate"><span class="pre">numbering_offset</span></code> to simulate a restart for counting
<a class="reference internal" href="#mn"><span class="std std-ref">MNs</span></a> at every new section. This leads to ambiguous MNs.</p>
</div>
<div class="section" id="repeats">
<span id="id6"></span><h4><strong>repeats</strong><a class="headerlink" href="#repeats" title="Permalink to this headline">¶</a></h4>
<p>The column <code class="docutils literal notranslate"><span class="pre">repeats</span></code> indicates the presence of repeat signs and can have the values
<code class="docutils literal notranslate"><span class="pre">{'start',</span> <span class="pre">'end',</span> <span class="pre">'startend',</span> <span class="pre">'firstMeasure',</span> <span class="pre">'lastMeasure'}</span></code>. MS3 performs a test on the
repeat signs’ plausibility and throws warnings when some inference is required for this.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">repeats</span></code> column needs to have the correct repeat sign structure in order to have a correct <a class="reference internal" href="#next"><span class="std std-ref">next</span></a>
column which, in return, is required for MS3’s unfolding repetitions functionality. (TODO)</p>
</div>
<div class="section" id="timesig-time-signatures">
<span id="timesig"></span><h4><strong>timesig</strong> Time Signatures<a class="headerlink" href="#timesig-time-signatures" title="Permalink to this headline">¶</a></h4>
<p>The time signature <code class="docutils literal notranslate"><span class="pre">timesig</span></code> of a particular measure is expressed as a string, e.g. <code class="docutils literal notranslate"><span class="pre">'2/2'</span></code>.
The <a class="reference internal" href="#act-dur"><span class="std std-ref">actual duration</span></a> of a measure can deviate from the time signature for notational reasons: For example,
a pickup bar could have an actual duration of <code class="docutils literal notranslate"><span class="pre">1/4</span></code>  but still be part of a <code class="docutils literal notranslate"><span class="pre">'3/8'</span></code> meter, which usually
has an actual duration of <code class="docutils literal notranslate"><span class="pre">3/8</span></code>.</p>
<div class="topic">
<p class="topic-title">Developers</p>
<p>When loading a table from a file, time signatures are not parsed as fractions because then both
<code class="docutils literal notranslate"><span class="pre">'2/2'</span></code> and <code class="docutils literal notranslate"><span class="pre">'4/4'</span></code>, for example, would become <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</div>
</div>
<div class="section" id="volta">
<span id="id7"></span><h4><strong>volta</strong><a class="headerlink" href="#volta" title="Permalink to this headline">¶</a></h4>
<p>In the case of first and second (third etc.) endings, this column holds the number of every “bracket”, “house”, or <em>volta</em>,
which should increase from 1. This is required for MS3’s unfold repeats function (TODO) to work.</p>
<p>The MNs for all voltas except those of the first one need to be amended to match those of the
first volta. In the case where these voltas have only one measure each, the <a class="reference internal" href="#dont-count"><span class="std std-ref">dont_count</span></a> option suffices. If
the voltas have more than one measure, the <a class="reference internal" href="#numbering-offset"><span class="std std-ref">numbering_offset</span></a> setting needs to be used.</p>
</div>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div class="sphinx-toc sphinxglobaltoc">
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick.html">Quick Reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#good-to-know">Good to know</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#terminology">Terminology</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#measure-counts-mc-vs-measure-numbers-mn">Measure counts (MC) vs. measure numbers (MN)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#quarter-beats">Quarter Beats</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#functionality">Functionality</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#converting-quarter-beats">Converting <span class="xref std std-ref">quarter_beats</span></a></li>
<li class="toctree-l4"><a class="reference internal" href="#read-only-mode">Read-only mode</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-library">Using the library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parsing-a-single-score">Parsing a single score</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parsing-options">Parsing options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#column-names">Column Names</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-columns">General Columns</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mc-measure-counts"><strong>mc</strong> Measure Counts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mn-measure-numbers"><strong>mn</strong> Measure Numbers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#onsets"><strong>onsets</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#measures">Measures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#act-dur-actual-duration-of-a-measure"><strong>act_dur</strong> Actual duration of a measure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#barline"><strong>barline</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#breaks"><strong>breaks</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dont-count-measures-excluded-from-bar-count"><strong>dont_count</strong> Measures excluded from bar count</a></li>
<li class="toctree-l4"><a class="reference internal" href="#keysig-key-signatures"><strong>keysig</strong> Key Signatures</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mc-offset-offset-of-a-mc"><strong>mc_offset</strong> Offset of a MC</a></li>
<li class="toctree-l4"><a class="reference internal" href="#next"><strong>next</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#numbering-offset-offsetting-mns"><strong>numbering_offset</strong> Offsetting MNs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#repeats"><strong>repeats</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#timesig-time-signatures"><strong>timesig</strong> Time Signatures</a></li>
<li class="toctree-l4"><a class="reference internal" href="#volta"><strong>volta</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Developers' Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
</div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="quick.html"
                          title="Previous page">&larr; Quick Reference</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="reference.html"
                          title="Next page">&rarr; Developers’ Reference</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/manual.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="reference.html" title="Developers’ Reference"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="quick.html" title="Quick Reference"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">ms3 unknown documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Manual</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, johentsch.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>