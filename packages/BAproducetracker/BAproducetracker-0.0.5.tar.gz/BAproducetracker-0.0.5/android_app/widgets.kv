#kivy 1.11.1
#:import utils kivy.utils
#:import ScrollEffect kivy.effects.scroll.ScrollEffect
#:import Factory kivy.factory.Factory

# Image Button
# For button alone define image attributes immediately below 'ImageButton' declaration.
# For button and label declare 'ImageButton' within the context of a BoxLayout with a
# vertical orientation, followed by a 'Label' declaration at equal indentation level.
<ImageButton@ButtonBehavior+Image+BoxLayout>:
    orientation: 'horizontal'


# Navigation Bar
# Do not change the order of the objects within each BoxLayout. Doing so will break the
# button color-changing functionality as the path to each widget is dependent on the
# ordering of their objects.
<ButtonBar@BoxLayout>:
    orientation: 'horizontal'

    # Landing Button
    BoxLayout:
        id: landing_button
        orientation: 'vertical'

        # Background
        canvas.before:
            Color:
                rgba: utils.get_color_from_hex('#73AB84')
            Rectangle:
                pos: self.pos
                size: self.size
        ImageButton:
            source: 'resources/receipt_icon.png'
            size_hint_y: .7
            on_release: app.root.current = 'landing'
        Label:
            text: 'Scan'
            color: utils.get_color_from_hex("#000000")
            size_hint_y: .3
            font_size: 14

    # Pantry Button
    BoxLayout:
        id: pantry_button
        orientation: 'vertical'

        # Background
        canvas.before:
            Color:
                rgba: utils.get_color_from_hex('#73AB84')
            Rectangle:
                pos: self.pos
                size: self.size
        ImageButton:
            source: 'resources/apple_icon.png'
            size_hint_y: .7
            on_release: app.root.current = 'pantry'
        Label:
            text: 'Pantry'
            color: utils.get_color_from_hex("#000000")
            size_hint_y: .3
            font_size: 14

    # Ideas Button
    BoxLayout:
        id: ideas_button
        orientation: 'vertical'

        # Background
        canvas.before:
            Color:
                rgba: utils.get_color_from_hex('#73AB84')
            Rectangle:
                pos: self.pos
                size: self.size
        ImageButton:
            source: 'resources/light_icon.png'
            size_hint_y: .7
            on_release: app.root.current = 'ideas'
        Label:
            text: 'Ideas'
            color: utils.get_color_from_hex("#000000")
            size_hint_y: .3
            font_size: 14

    # Settings Button
    BoxLayout:
        id: settings_button
        orientation: 'vertical'

        # Background
        canvas.before:
            Color:
                rgba: utils.get_color_from_hex('#73AB84')
            Rectangle:
                pos: self.pos
                size: self.size
        ImageButton:
            source: 'resources/settings_icon.png'
            size_hint_y: .7
            on_release: app.root.current = 'settings'
        Label:
            text: 'Settings'
            color: utils.get_color_from_hex("#000000")
            size_hint_y: .3
            font_size: 14

    # About Button
    BoxLayout:
        id: about_button
        orientation: 'vertical'

        # Background
        canvas.before:
            Color:
                rgba: utils.get_color_from_hex('#73AB84')
            Rectangle:
                pos: self.pos
                size: self.size
        ImageButton:
            source: 'resources/about_icon.png'
            size_hint_y: .7
            on_release: app.root.current = 'about'
        Label:
            text: 'About'
            color: utils.get_color_from_hex("#000000")
            size_hint_y: .3
            font_size: 14


# Menu Item
# Widget to be added to the ScrollMenu. Has two labels that can be accessed to display text.
<MenuItem@BoxLayout>:
    orientation: 'horizontal'
    size_hint_y: None
    height: dp(30)

    # Padding
    Label:
        size_hint_x: .1

    # Used Apple Button
    ImageButton:
        source: 'resources/red_apple_icon.png'
        on_release: root.remove()
        size_hint_x: .075

    # Expired Apple Button
    ImageButton:
        source: 'resources/brown_apple_icon.png'
        on_release: root.remove()
        size_hint_x: .075

    # Padding
    Label:
        size_hint_x: .05

    # Produce Label
    Label:
        id: produce_label
        text: "ProduceName (Quantity)"
        color: utils.get_color_from_hex("#000000")
        font_size: 18
        size_hint_x: .7

    # Expiration Label
    Label:
        id: expiration_label
        text: "TimeUntilExpired"
        color: utils.get_color_from_hex("#000000")
        font_size: 18
        size_hint_x: .2

    # Padding
    Label:
        size_hint_x: .1


# Scroll Menu
# Modification of ScrollView widget that allows for greater than one children.
<ScrollMenu@ScrollView>:
    GridLayout:
        id: grid_layout
        size_hint_y: None
        cols: 1
