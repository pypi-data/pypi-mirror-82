(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[185],{1822:function(e,t,r){"use strict";r.d(t,"a",(function(){return R}));var n=r(5),a=r.n(n),o=r(7),i=r.n(o),s=r(15),c=r.n(s),u=r(10),l=r.n(u),f=r(11),p=r.n(f),b=r(12),d=r.n(b),h=r(13),O=r.n(h),y=r(6),j=r.n(y),v=r(1),g=r.n(v);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=r(1810),D=r(0);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=j()(e);if(t){var a=j()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return O()(this,r)}}var R=function(e){d()(r,e);var t=E(r);function r(){return l()(this,r),t.apply(this,arguments)}return p()(r,[{key:"render",value:function(){var e=this.props,t=e.series,r=e.stacked,n=e.xAxis,o=c()(e,["series","stacked","xAxis"]);return Object(D.f)(w.a,a()({},o,{xAxis:null!==n?x({},n||{},{boundaryGap:!0}):null,series:t.map((function(e){var t=e.seriesName,n=e.data,a=c()(e,["seriesName","data"]);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return S({},e,{type:"bar"})}(x({name:t,stack:r?"stack1":null,data:n.map((function(e){var t=e.value,r=e.name,n=e.itemStyle;return void 0===n?[r,t]:{value:[r,t],itemStyle:n}}))},a))}))}))}}]),r}(g.a.Component);R.displayName="BarChart"},1834:function(e,t,r){"use strict";var n=r(4),a=Object(n.a)("div",{target:"esa86kh0",label:"ErrorPanel"})("display:flex;justify-content:center;align-items:center;flex:1;flex-shrink:0;overflow:hidden;height:",(function(e){return e.height||"200px"}),";position:relative;border-color:transparent;margin-bottom:0;");t.a=a},1931:function(e,t,r){"use strict";r.d(t,"e",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return u})),r.d(t,"d",(function(){return l}));var n=r(674),a=r.n(n),o=r(488),i=function(e){return a()(e,e>60?0:3)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:95,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return a()(e,e>t?r:0)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:95,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(isNaN(e))return"―";if(e<1&&e>0)return"<1%";var n=s(e,t,r);return"".concat(n,"%")},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Math.ceil(e*t/100)},l=function(e,t,r){return{pathname:"/organizations/".concat(e,"/issues/"),query:{project:t,query:Object(o.b)(new o.a(["firstRelease:".concat(r)]))}}}},1938:function(e,t,r){"use strict";var n=r(5),a=r.n(n),o=r(15),i=r.n(o),s=(r(1),r(30)),c=r(140),u=r(0);function l(e){var t=e.children,r=i()(e,["children"]);return Object(u.f)(c.a,{features:["organizations:discover-basic"]},(function(e){var n=e.hasFeature;return Object(u.f)(s.a,a()({disabled:!n},r),t)}))}l.displayName="DiscoverButton",t.a=l},2002:function(e,t,r){"use strict";var n=r(7),a=r.n(n),o=r(5),i=r.n(o),s=r(26),c=r.n(s),u=r(15),l=r.n(u),f=r(10),p=r.n(f),b=r(11),d=r.n(b),h=r(12),O=r.n(h),y=r(13),j=r.n(y),v=r(6),g=r.n(v),m=r(1),S=r.n(m),w=r(57),D=r.n(w),P=r(3),x=r(1796),E=r(1869),R=r(1827),k=r(1822),C=r(1812),N=r(1892),A=r(1939),I=r(18),T=r(25),L=r(1893),q=r(1834),U=r(1850),F=r(55),z=r(1849),_=r(0);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var a=g()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return j()(this,r)}}var W=function(e){O()(r,e);var t=B(r);function r(){var e;p()(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={seriesSelection:{},forceUpdate:!1},e.handleLegendSelectChanged=function(t){var r=t.selected,n=Object.keys(r).reduce((function(e,t){return e[t]="Releases"!==t||r[t],e}),{});e.setState({seriesSelection:n,forceUpdate:!0},(function(){return e.setState({forceUpdate:!1})}))},e}return d()(r,[{key:"shouldComponentUpdate",value:function(e,t){return!!t.forceUpdate||(!D()(this.state.seriesSelection,t.seriesSelection)||!(e.reloading||!e.timeseriesData)&&!(D()(this.props.timeseriesData,e.timeseriesData)&&D()(this.props.releaseSeries,e.releaseSeries)&&D()(this.props.previousTimeseriesData,e.previousTimeseriesData)))}},{key:"getChartComponent",value:function(){var e=this.props,t=e.showDaily,r=e.timeseriesData,n=e.yAxis;if(t)return k.a;if(r.length>1)switch(Object(F.f)(n)){case"line":return C.a;case"area":return R.a;default:throw new Error("Unknown multi plot type for ".concat(n))}return R.a}},{key:"render",value:function(){var e=this.props,t=(e.loading,e.reloading,e.yAxis),r=e.releaseSeries,n=e.zoomRenderProps,a=e.timeseriesData,o=e.previousTimeseriesData,s=e.showLegend,u=e.currentSeriesName,f=e.previousSeriesName,p=l()(e,["loading","reloading","yAxis","releaseSeries","zoomRenderProps","timeseriesData","previousTimeseriesData","showLegend","currentSeriesName","previousSeriesName"]),b=this.state.seriesSelection,d=[null!=u?u:Object(P.b)("Current"),null!=f?f:Object(P.b)("Previous")];Array.isArray(r)&&d.push(Object(P.b)("Releases"));var h=s&&{right:16,top:12,icon:"circle",itemHeight:8,itemWidth:8,itemGap:12,align:"left",textStyle:{verticalAlign:"top",fontSize:11,fontFamily:"Rubik"},data:d,selected:b},O={colors:T.a.charts.getColorPalette(a.length-2),grid:{left:"24px",right:"24px",top:"32px",bottom:"12px"},seriesOptions:{showSymbol:!1},tooltip:{trigger:"axis",truncate:80,valueFormatter:function(e){return Object(U.b)(e,t)}},yAxis:{axisLabel:{color:T.a.gray400,formatter:function(e){return Object(U.a)(e,t)}}}},y=this.getChartComponent(),j=Array.isArray(r)?[].concat(c()(a),c()(r)):a;return Object(_.f)(y,i()({},p,n,O,{legend:h,onLegendSelectChanged:this.handleLegendSelectChanged,series:j,previousPeriod:o?[o]:null}))}}]),r}(S.a.Component);W.displayName="Chart";var V=function(e){O()(r,e);var t=B(r);function r(){return p()(this,r),t.apply(this,arguments)}return d()(r,[{key:"render",value:function(){var e=this.props,t=e.api,r=e.period,n=e.utc,a=e.query,o=e.router,s=e.start,c=e.end,u=e.projects,f=e.environments,p=e.showLegend,b=e.yAxis,d=e.disablePrevious,h=e.disableReleases,O=e.currentSeriesName,y=e.previousSeriesName,j=e.field,v=e.interval,g=e.showDaily,m=e.topEvents,S=e.orderby,w=e.confirmedQuery,D=l()(e,["api","period","utc","query","router","start","end","projects","environments","showLegend","yAxis","disablePrevious","disableReleases","currentSeriesName","previousSeriesName","field","interval","showDaily","topEvents","orderby","confirmedQuery"]),R=!d&&!s&&!c,k=(null!=y?y:b)?Object(P.b)("previous %s",b):void 0,C=null!=O?O:b,T=g?"1d":v||Object(x.c)(this.props,!0),U=function(e){var t=e.zoomRenderProps,r=e.releaseSeries,a=e.errored,o=e.loading,s=e.reloading,c=e.results,u=e.timeseriesData,l=e.previousTimeseriesData;if(a)return Object(_.f)(q.a,null,Object(_.f)(I.Ib,{color:"gray500",size:"lg"}));var f=c||u;return Object(_.f)(N.a,{loading:o,reloading:s},Object(_.f)(L.a,{visible:s}),Object(_.f)(W,i()({},t,{loading:o,reloading:s,utc:n,showLegend:p,releaseSeries:r||[],timeseriesData:f,previousTimeseriesData:l,currentSeriesName:C,previousSeriesName:k,stacked:"number"==typeof m&&m>0,yAxis:b,showDaily:g})))};if(!h){var F=U;U=function(e){return Object(_.f)(A.a,{utc:n,period:r,start:s,end:c,projects:u,environments:f},(function(t){var r=t.releaseSeries;return F(M({},e,{releaseSeries:r}))}))}}return Object(_.f)(E.a,i()({router:o,period:r,utc:n,projects:u,environments:f},D),(function(e){return Object(_.f)(z.a,i()({},D,{api:t,period:r,project:u,environment:f,start:s,end:c,interval:T,query:a,includePrevious:R,currentSeriesName:C,previousSeriesName:k,yAxis:b,field:j,orderby:S,topEvents:m,confirmedQuery:w}),(function(t){return U(M({},t,{zoomRenderProps:e}))}))}))}}]),r}(S.a.Component);V.displayName="EventsChart",t.a=V},2004:function(e,t,r){"use strict";r(1);var n=r(281),a=r(199),o=r(0),i=function(e){var t=e.withIcon,r=e.children;return Object(o.f)(a.a,null,Object(o.f)(a.c,null,Object(o.f)(n.a,{small:!0,withIcon:t},r)))};i.displayName="EmptyState",t.a=i},2109:function(e,t,r){"use strict";var n=r(5),a=r.n(n),o=r(10),i=r.n(o),s=r(11),c=r.n(s),u=r(12),l=r.n(u),f=r(13),p=r.n(f),b=r(6),d=r.n(b),h=r(1),O=r.n(h),y=r(1827),j=r(0);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var a=d()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var g=function(e){l()(r,e);var t=v(r);function r(){return i()(this,r),t.apply(this,arguments)}return c()(r,[{key:"render",value:function(){return Object(j.f)(y.a,a()({tooltip:{filter:function(e){return e>0}}},this.props,{stacked:!0}))}}]),r}(O.a.Component);g.displayName="StackedAreaChart",t.a=g},2202:function(e,t,r){"use strict";var n=r(7),a=r.n(n),o=r(57),i=r.n(o),s=r(2),c=r.n(s),u=r(1),l=r.n(u),f=r(23),p=r.n(f),b=r(32),d=r.n(b),h=r(8),O=r(88),y=r(199),j=r(335),v=r(3),g=r(281),m=r(65),S=r(184),w=r(47),D=r(686),P=r(677),x=r(50),E=r(618),R=r(173),k=r(0),C=function(e){var t=e.withChart,r=void 0===t||t;return Object(k.f)(y.e,{disablePadding:!0},Object(k.f)(R.Box,{width:[8/12,8/12,.5],mx:2,flex:"1",className:"toolbar-header"},Object(v.b)("Issue")),r&&Object(k.f)(R.Box,{width:160,mx:2,className:"toolbar-header hidden-xs hidden-sm"},Object(v.b)("Last 24 hours")),Object(k.f)(R.Flex,{width:80,mx:2,justifyContent:"flex-end",className:"toolbar-header"},Object(v.b)("events")),Object(k.f)(R.Flex,{width:80,mx:2,justifyContent:"flex-end",className:"toolbar-header"},Object(v.b)("users")),Object(k.f)(R.Flex,{width:80,mx:2,justifyContent:"flex-end",className:"hidden-xs hidden-sm toolbar-header"},Object(v.b)("Assignee")))};C.displayName="GroupListHeader";var N=C;function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=d()({displayName:"GroupList",contextTypes:{location:c.a.object},mixins:[p.a.listenTo(m.a,"onGroupChange")],getInitialState:function(){return{loading:!0,error:!1,groups:[]}},componentWillMount:function(){this._streamManager=new P.a(m.a),this.fetchData()},shouldComponentUpdate:function(e,t){return!i()(this.state,t)||e.endpointPath!==this.props.endpointPath||e.query!==this.props.query||!i()(e.queryParams,this.props.queryParams)},componentDidUpdate:function(e){e.orgId===this.props.orgId&&e.endpointPath===this.props.endpointPath&&e.query===this.props.query&&i()(e.queryParams,this.props.queryParams)||this.fetchData()},componentWillUnmount:function(){m.a.loadInitialData([])},fetchData:function(){var e=this;m.a.loadInitialData([]);var t=this.props,r=t.api,n=t.orgId;this.setState({loading:!0,error:!1}),Object(j.a)(r,n).then((function(t){e.setState({memberList:Object(j.c)(t)})})),r.request(this.getGroupListEndpoint(),{success:function(t,r,n){e._streamManager.push(t),e.setState({error:!1,loading:!1,pageLinks:n.getResponseHeader("Link")})},error:function(){e.setState({error:!0,loading:!1})}})},getGroupListEndpoint:function(){var e=this.props,t=e.orgId,r=e.endpointPath,n=e.queryParams,a=null!=r?r:"/organizations/".concat(t,"/issues/"),o=null!=n?n:this.getQueryParams();return"".concat(a,"?").concat(O.stringify(o))},getQueryParams:function(){var e=this.props.query,t=this.context.location.query;return t.limit=50,t.sort="new",t.query=e,t},onCursorChange:function(e,t,r,n){var a=parseInt(r.page,10),o=isNaN(a)?n:a+n;o<=0&&(e=void 0,o=void 0),h.browserHistory.push({pathname:t,query:I({},r,{cursor:e})})},onGroupChange:function(){var e=this._streamManager.getAllItems();i()(e,this.state.groups)||this.setState({groups:e})},render:function(){var e=this.props,t=e.orgId,r=e.canSelectGroups,n=e.withChart,a=e.renderEmptyMessage,o=e.withPagination,i=this.state,s=i.loading,c=i.error,u=i.groups,f=i.memberList,p=i.pageLinks;return s?Object(k.f)(w.default,null):c?Object(k.f)(S.a,{onRetry:this.fetchData}):0===u.length?"function"==typeof a?a():Object(k.f)(y.a,null,Object(k.f)(y.c,null,Object(k.f)(g.a,null,Object(k.f)("p",null,Object(v.b)("There don't seem to be any events fitting the query."))))):Object(k.f)(l.a.Fragment,null,Object(k.f)(y.a,null,Object(k.f)(N,{withChart:n}),Object(k.f)(y.c,null,u.map((function(e){var a=e.id,o=e.project,i=f&&f.hasOwnProperty(o.slug)?f[o.slug]:null;return Object(k.f)(D.a,{key:a,id:a,orgId:t,canSelect:r,withChart:n,memberList:i})})))),o&&Object(k.f)(E.a,{pageLinks:p,onCursor:this.onCursorChange}))}});T.defaultProps={canSelectGroups:!0,withChart:!0,withPagination:!0};t.a=Object(x.a)(T)},2316:function(e,t,r){var n=r(2707);e.exports=function(e,t){var r=null==e?0:e.length;return r?n(e,t)/r:NaN}},2706:function(e,t,r){var n=r(221),a=r(2316);e.exports=function(e,t){return a(e,n(t,2))}},2707:function(e,t){e.exports=function(e,t){for(var r,n=-1,a=e.length;++n<a;){var o=t(e[n]);void 0!==o&&(r=void 0===r?o:r+o)}return r}},2708:function(e,t,r){var n=r(2316),a=r(224);e.exports=function(e){return n(e,a)}},2928:function(e,t,r){"use strict";r.r(t);var n,a=r(5),o=r.n(a),i=r(15),s=r.n(i),c=r(7),u=r.n(c),l=r(10),f=r.n(l),p=r(11),b=r.n(p),d=r(12),h=r.n(d),O=r(13),y=r.n(O),j=r(6),v=r.n(j),g=r(4),m=r(1),S=r.n(m),w=r(9),D=r(3),P=r(1710),x=r(69),E=r(282),R=r(50),k=r(97),C=r(1715),N=r(1747),A=r(199),I=r(2002),T=r(77),L=r.n(T),q=r(1746),U=r(2053),F=r(986),z=r(0);function _(){var e=L()(["\n  @media (max-width: ",") {\n    display: grid;\n    grid-gap: ",";\n    padding-bottom: ",";\n    button {\n      font-size: ",";\n    }\n  }\n"]);return _=function(){return e},e}!function(e){e.SESSIONS="sessions",e.USERS="users",e.CRASH_FREE="crashFree",e.SESSION_DURATION="sessionDuration",e.EVENTS="events"}(n||(n={}));var H=function(e){var t=e.summary,r=e.yAxis,a=e.onYAxisChange,o=e.hasHealthData,i=e.hasDiscover,s=o?void 0:Object(D.b)("This view is only available with release health data."),c=i?void 0:Object(D.b)("This view is only available with Discover feature."),u=[{value:n.SESSIONS,label:Object(D.b)("Session Count"),disabled:!o,tooltip:s},{value:n.SESSION_DURATION,label:Object(D.b)("Session Duration"),disabled:!o,tooltip:s},{value:n.USERS,label:Object(D.b)("User Count"),disabled:!o,tooltip:s},{value:n.CRASH_FREE,label:Object(D.b)("Crash Free Rate"),disabled:!o,tooltip:s},{value:n.EVENTS,label:Object(D.b)("Event Count"),disabled:!i,tooltip:c}];return Object(z.f)(M,null,Object(z.f)(q.b,null,Object(z.f)(q.c,{key:"total-label"},function(){switch(r){case n.USERS:return Object(D.b)("Total Active Users");case n.CRASH_FREE:return Object(D.b)("Average Rate");case n.SESSION_DURATION:return Object(D.b)("Average Duration");case n.EVENTS:return Object(D.b)("Total Events");case n.SESSIONS:default:return Object(D.b)("Total Sessions")}}()),Object(z.f)(q.d,{key:"total-value"},t)),Object(z.f)(U.a,{title:Object(D.b)("Y-Axis"),selected:r,options:u,onChange:a,menuWidth:"150px"}))};H.displayName="ReleaseChartControls";var M=Object(F.default)(q.a)(_(),(function(e){return e.theme.breakpoints[0]}),Object(w.a)(1),Object(w.a)(1.5),(function(e){return e.theme.fontSizeSmall})),B=H,W=r(1869),V=r(18),G=r(1892),Y=r(1893),Q=r(1834),X=r(57),J=r.n(X),K=r(1812),Z=r(1827),$=r(2109),ee=r(25),te=r(27);function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var a=v()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return y()(this,r)}}var ne=function(e){h()(r,e);var t=re(r);function r(){var e;f()(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).formatTooltipValue=function(t){switch(e.props.yAxis){case n.SESSION_DURATION:return"number"==typeof t?Object(k.k)(t,!0):"―";case n.CRASH_FREE:return Object(te.d)(t)?"".concat(t,"%"):"―";case n.SESSIONS:case n.USERS:default:return"number"==typeof t?t.toLocaleString():t}},e.configureYAxis=function(){switch(e.props.yAxis){case n.CRASH_FREE:return{max:100,scale:!0,axisLabel:{formatter:"{value}%",color:ee.a.gray400}};case n.SESSION_DURATION:return{scale:!0};case n.SESSIONS:case n.USERS:default:return}},e.getChart=function(){switch(e.props.yAxis){case n.SESSION_DURATION:return Z.a;case n.SESSIONS:case n.USERS:return $.a;case n.CRASH_FREE:default:return K.a}},e}return b()(r,[{key:"shouldComponentUpdate",value:function(e){return!(e.reloading||!e.timeseriesData)&&!J()(this.props.timeseriesData,e.timeseriesData)}},{key:"render",value:function(){var e=this.props,t=e.utc,r=e.timeseriesData,n=e.zoomRenderProps,a=this.getChart(),i={right:16,top:12,selectedMode:!1,icon:"circle",itemHeight:8,itemWidth:8,itemGap:12,align:"left",textStyle:{verticalAlign:"top",fontSize:11,fontFamily:"Rubik"},data:r.map((function(e){return e.seriesName}))};return Object(z.f)(a,o()({legend:i,utc:t},n,{series:r,isGroupedByDate:!0,seriesOptions:{showSymbol:!1},grid:{left:"24px",right:"24px",top:"32px",bottom:"12px"},yAxis:this.configureYAxis(),tooltip:{valueFormatter:this.formatTooltipValue}}))}}]),r}(S.a.Component);ne.displayName="HealthChart";var ae=ne,oe=function(e){var t=e.loading,r=e.errored,n=e.reloading,a=e.chartData,o=e.selection,i=e.yAxis,s=e.router,c=o.datetime,u=c.utc,l=c.period,f=c.start,p=c.end;return Object(z.f)(S.a.Fragment,null,Object(z.f)(W.a,{router:s,period:l,utc:u,start:f,end:p},(function(e){return r?Object(z.f)(Q.a,null,Object(z.f)(V.Ib,{color:"gray500",size:"lg"})):Object(z.f)(G.a,{loading:t,reloading:n},Object(z.f)(Y.a,{visible:n}),Object(z.f)(ae,{utc:u,timeseriesData:a,zoomRenderProps:e,reloading:n,yAxis:i}))})))};oe.displayName="ReleaseChartContainer";var ie=oe,se=r(1796),ce=r(376),ue=r(53),le=r(488);function fe(e,t){var r=e.projects,n=e.environments,a=e.datetime,o=a.start,i=a.end,s=a.period,c={id:void 0,version:2,name:"".concat(Object(D.b)("Release")," ").concat(Object(k.i)(t)),fields:["title","count()","event.type","issue","last_seen()"],query:Object(le.b)(new le.a(["release:".concat(t),"!event.type:transaction"])),orderby:"-last_seen",range:s,environment:n,projects:r,start:o?Object(ue.j)(o):void 0,end:i?Object(ue.j)(i):void 0};return ce.a.fromSavedQuery(c)}var pe=function(e){var t=e.loading,r=e.errored,a=e.reloading,o=e.chartData,i=e.chartSummary,s=e.selection,c=e.yAxis,u=e.onYAxisChange,l=e.router,f=e.organization,p=e.hasHealthData,b=e.location,d=e.api,h=e.version,O=e.hasDiscover,y=s.projects,j=s.environments,v=s.datetime,g=v.start,m=v.end,S=v.period,w=v.utc,P=fe(s,h);return Object(z.f)(A.a,null,O&&c===n.EVENTS?Object(z.f)(I.a,{router:l,organization:f,showLegend:!0,yAxis:P.getYAxis(),query:P.getEventsAPIPayload(b).query,api:d,projects:y,environments:j,start:g,end:m,period:S,utc:w,disablePrevious:!0,disableReleases:!0,currentSeriesName:Object(D.b)("Events")}):Object(z.f)(ie,{loading:t,errored:r,reloading:a,chartData:o,selection:s,yAxis:c,router:l}),Object(z.f)(B,{summary:i,yAxis:c,onYAxisChange:u,hasDiscover:O,hasHealthData:p}))};pe.displayName="ReleaseChartContainer";var be,de=pe,he=r(26),Oe=r.n(he),ye=r(254),je=r.n(ye),ve=r(332),ge=r(380),me=r(30),Se=r(1938),we=r(2202),De=r(29),Pe=r(140),xe=r(83),Ee=r(164),Re=r(2004);function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var a=v()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return y()(this,r)}}!function(e){e.NEW="new",e.UNHANDLED="unhandled",e.RESOLVED="resolved",e.ALL="all"}(be||(be={}));var Ae=function(e){h()(r,e);var t=Ne(r);function r(){var e;f()(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={issuesType:be.NEW},e.handleIssuesTypeSelection=function(t){e.setState({issuesType:t})},e.renderEmptyMessage=function(){var t=e.props.selection,r=e.state.issuesType,n=De.l[t.datetime.period],a=n?n.toLowerCase():Object(D.b)("given timeframe");return Object(z.f)(Re.a,{withIcon:!1},Object(z.f)(S.a.Fragment,null,r===be.NEW&&Object(D.c)("No new issues in this release for the [timePeriod].",{timePeriod:a}),r===be.UNHANDLED&&Object(D.c)("No unhandled issues in this release for the [timePeriod].",{timePeriod:a}),r===be.RESOLVED&&Object(D.b)("No resolved issues in this release."),r===be.ALL&&Object(D.c)("No issues in this release for the [timePeriod].",{timePeriod:a})))},e}return b()(r,[{key:"getDiscoverUrl",value:function(){var e=this.props,t=e.version,r=e.orgId;return fe(e.selection,t).getResultsViewUrlTarget(r)}},{key:"getIssuesUrl",value:function(){var e=this.props,t=e.version,r=e.orgId,n=this.state.issuesType,a=this.getIssuesEndpoint().queryParams,o=new le.a([]);switch(n){case be.NEW:o.setTagValues("firstRelease",[t]);break;case be.UNHANDLED:o.setTagValues("release",[t]),o.setTagValues("error.handled",["0"]);break;case be.RESOLVED:case be.ALL:default:o.setTagValues("release",[t])}return{pathname:"/organizations/".concat(r,"/issues/"),query:Ce({},a,{query:Object(le.b)(o)})}}},{key:"getIssuesEndpoint",value:function(){var e=this.props,t=e.version,r=e.orgId,n=e.location,a=this.state.issuesType,o=Ce({},je()(n.query,[].concat(Oe()(Object.values(xe.e)),["cursor"])),{limit:50,sort:"new"});switch(a){case be.ALL:return{path:"/organizations/".concat(r,"/issues/"),queryParams:Ce({},o,{query:Object(le.b)(new le.a(["release:".concat(t)]))})};case be.RESOLVED:return{path:"/organizations/".concat(r,"/releases/").concat(t,"/resolved/"),queryParams:Ce({},o,{query:""})};case be.UNHANDLED:return{path:"/organizations/".concat(r,"/issues/"),queryParams:Ce({},o,{query:Object(le.b)(new le.a(["release:".concat(t),"error.handled:0"]))})};case be.NEW:default:return{path:"/organizations/".concat(r,"/issues/"),queryParams:Ce({},o,{query:Object(le.b)(new le.a(["first-release:".concat(t)]))})}}}},{key:"render",value:function(){var e=this,t=this.state.issuesType,r=this.props.orgId,n=this.getIssuesEndpoint(),a=n.path,i=n.queryParams,s=[{value:be.NEW,label:Object(D.b)("New Issues")},{value:be.RESOLVED,label:Object(D.b)("Resolved Issues")},{value:be.UNHANDLED,label:Object(D.b)("Unhandled Issues")},{value:be.ALL,label:Object(D.b)("All Issues")}];return Object(z.f)(S.a.Fragment,null,Object(z.f)(Ie,null,Object(z.f)(ve.b,{button:function(e){var r,n=e.isOpen,a=e.getActorProps;return Object(z.f)(Le,o()({},a(),{isOpen:n,prefix:Object(D.b)("Filter"),size:"small"}),null===(r=s.find((function(e){return e.value===t})))||void 0===r?void 0:r.label)}},s.map((function(r){var n=r.value,a=r.label;return Object(z.f)(qe,{key:n,onSelect:e.handleIssuesTypeSelection,"data-test-id":"filter-".concat(n),eventKey:n,isActive:n===t},a)}))),Object(z.f)(Te,{gap:1},Object(z.f)(Pe.a,{features:["discover-basic"]},Object(z.f)(Se.a,{to:this.getDiscoverUrl(),size:"small","data-test-id":"discover-button"},Object(D.b)("Open in Discover"))),Object(z.f)(me.a,{to:this.getIssuesUrl(),size:"small","data-test-id":"issues-button"},Object(D.b)("Open in Issues")))),Object(z.f)(Ue,{"data-test-id":"release-wrapper"},Object(z.f)(we.a,{orgId:r,endpointPath:a,queryParams:i,query:"",canSelectGroups:!1,withChart:!1,renderEmptyMessage:this.renderEmptyMessage})))}}]),r}(S.a.Component);Ae.displayName="Issues";var Ie=Object(g.a)("div",{target:"eqh4a6f0",label:"ControlsWrapper"})("display:flex;align-items:center;justify-content:space-between;margin-bottom:",Object(w.a)(1),";@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){display:block;}"),Te=Object(g.a)(Ee.a,{target:"eqh4a6f1",label:"OpenInButtonBar"})("@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){margin-top:",Object(w.a)(1),";}"),Le=Object(g.a)(ge.a,{target:"eqh4a6f2",label:"StyledDropdownButton"})({name:"65q47m",styles:"min-width:145px;"}),qe=Object(g.a)(ve.a,{target:"eqh4a6f3",label:"StyledDropdownItem"})({name:"epvm6",styles:"white-space:nowrap;"}),Ue=Object(g.a)("div",{target:"eqh4a6f4",label:"TableWrapper"})("margin-bottom:",Object(w.a)(4),";",A.a,"{margin-bottom:-",Object(w.a)(1),";}"),Fe=Ae,ze=r(139),_e=r.n(ze),He=r(166),Me=r(58),Be=r(1712),We=Object(g.a)("div",{target:"e1cijvrg0",label:"Wrapper"})("margin-bottom:",Object(w.a)(4),";"),Ve=Object(g.a)(q.c,{target:"e1cijvrg1",label:"SectionHeading"})("margin:0 0 ",Object(w.a)(1.5)," 0;");function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var a=v()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return y()(this,r)}}var Qe=function(e){h()(r,e);var t=Ye(r);function r(){var e;f()(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onCollapseToggle=function(){e.setState((function(e){return{collapsed:!e.collapsed}}))},e}return b()(r,[{key:"getDefaultState",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},_e()(v()(r.prototype),"getDefaultState",this).call(this),{collapsed:!0})}},{key:"getEndpoints",value:function(){var e=this.props,t=e.orgId,r=e.projectSlug,n=e.version;return[["commits","/projects/".concat(t,"/").concat(r,"/releases/").concat(encodeURIComponent(n),"/commits/")]]}},{key:"getDisplayPercent",value:function(e){var t=this.state.commits,r=Math.round(Object(te.t)(e,t.length));return"".concat(r<1?"<1":r,"%")}},{key:"renderBody",value:function(){var e,t=this,n=this.state.collapsed,a=null===(e=this.state.commits)||void 0===e?void 0:e.reduce((function(e,t){var r,n,a=null!==(r=null===(n=t.author)||void 0===n?void 0:n.email)&&void 0!==r?r:"unknown";return e.hasOwnProperty(a)?e[a].commitCount+=1:e[a]={commitCount:1,author:t.author},e}),{}),o=Object.values(a).sort((function(e,t){return t.commitCount-e.commitCount}));if(!o.length)return null;var i=r.MAX_WHEN_COLLAPSED,s=o.length,c=s>i;n&&c&&(o=o.slice(0,i));var u=s-o.length;return Object(z.f)(We,null,Object(z.f)(Ve,null,Object(D.b)("Commit Author Breakdown")),o.map((function(e){var r=e.commitCount,n=e.author;return Object(z.f)(Xe,{key:null==n?void 0:n.email},Object(z.f)(Je,null,Object(z.f)(Ke,{user:n,size:20,hasTooltip:!0}),Object(z.f)(Ze,null,Object(k.l)(n||{},!1))),Object(z.f)($e,null,Object(z.f)(et,null,Object(D.d)("%s commit","%s commits",r)),Object(z.f)(tt,null,t.getDisplayPercent(r))))})),u>0&&Object(z.f)(rt,{priority:"link",onClick:this.onCollapseToggle},Object(D.d)("Show %s collapsed author","Show %s collapsed authors",u)),0===u&&c&&Object(z.f)(rt,{priority:"link",onClick:this.onCollapseToggle},Object(D.b)("Collapse")))}}]),r}(Be.a);Qe.MAX_WHEN_COLLAPSED=5;var Xe=Object(g.a)("div",{target:"e1trurpl0",label:"AuthorLine"})("display:flex;justify-content:space-between;margin-bottom:",Object(w.a)(.5),";font-size:",(function(e){return e.theme.fontSizeSmall}),";"),Je=Object(g.a)("div",{target:"e1trurpl1",label:"Author"})({name:"1i8k9lp",styles:"display:flex;flex:1;align-items:center;overflow:hidden;"}),Ke=Object(g.a)(He.a,{target:"e1trurpl2",label:"StyledUserAvatar"})("margin-right:",Object(w.a)(1),";"),Ze=Object(g.a)("div",{target:"e1trurpl3",label:"AuthorName"})("font-weight:600;color:",(function(e){return e.theme.gray700}),";padding-right:",Object(w.a)(.5),";",Me.a,";"),$e=Object(g.a)("div",{target:"e1trurpl4",label:"Stats"})({name:"zsk5ho",styles:"display:flex;align-items:center;justify-content:space-between;width:115px;"}),et=Object(g.a)("div",{target:"e1trurpl5",label:"Commits"})("color:",(function(e){return e.theme.gray500}),";"),tt=Object(g.a)("div",{target:"e1trurpl6",label:"Percent"})("min-width:40px;text-align:right;color:",(function(e){return e.theme.gray600}),";"),rt=Object(g.a)(me.a,{target:"e1trurpl7",label:"StyledButton"})({name:"8atqhb",styles:"width:100%;"}),nt=Qe,at=r(377),ot=r(253),it=r(620),st=r(70),ct=r(174),ut=function(e){var t=e.release,r=e.releaseMeta,n=e.orgSlug,a=e.projectSlug,o=t.version,i=t.dateCreated,s=t.firstEvent,c=t.lastEvent;return Object(z.f)(We,null,Object(z.f)(Ve,null,Object(D.b)("Project Release Details")),Object(z.f)(lt,null,Object(z.f)("tbody",null,Object(z.f)(ft,null,Object(z.f)(pt,null,Object(D.b)("Created")),Object(z.f)(bt,null,Object(z.f)(it.a,{date:i,seconds:!1}))),Object(z.f)(ft,null,Object(z.f)(pt,null,Object(D.b)("Version")),Object(z.f)(bt,null,Object(z.f)(at.a,{version:o,anchor:!1}))),Object(z.f)(ft,null,Object(z.f)(pt,null,Object(D.b)("First Event")),Object(z.f)(bt,null,s?Object(z.f)(ot.a,{date:s}):"-")),Object(z.f)(ft,null,Object(z.f)(pt,null,Object(D.b)("Last Event")),Object(z.f)(bt,null,c?Object(z.f)(ot.a,{date:c}):"-")),Object(z.f)(ft,null,Object(z.f)(pt,null,Object(D.b)("Source Maps")),Object(z.f)(bt,null,Object(z.f)(st.a,{to:"/settings/".concat(n,"/projects/").concat(a,"/source-maps/").concat(encodeURIComponent(o),"/")},Object(z.f)(ct.a,{value:r.releaseFileCount})," ",Object(D.d)("artifact","artifacts",r.releaseFileCount)))))))};ut.displayName="ProjectReleaseDetails";var lt=Object(g.a)("table",{target:"e1w50bd50",label:"StyledTable"})({name:"i0dd0x",styles:"table-layout:fixed;width:100%;max-width:100%;"}),ft=Object(g.a)("tr",{target:"e1w50bd51",label:"StyledTr"})("&:nth-child(2n + 1) td{background-color:",(function(e){return e.theme.gray100}),";}"),pt=Object(g.a)("td",{target:"e1w50bd52",label:"TagKey"})("color:",(function(e){return e.theme.gray700}),";padding:",Object(w.a)(.5)," ",Object(w.a)(1),";font-size:",(function(e){return e.theme.fontSizeMedium}),";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"),bt=Object(g.a)(pt,{target:"e1w50bd53",label:"TagValue"})("text-align:right;color:",(function(e){return e.theme.gray600}),";@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){width:160px;}"),dt=ut,ht=r(225);function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var a=v()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return y()(this,r)}}var vt=function(e){h()(r,e);var t=jt(r);function r(){var e;f()(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={collapsed:!0},e.onCollapseToggle=function(){e.setState((function(e){return{collapsed:!e.collapsed}}))},e}return b()(r,[{key:"render",value:function(){var e=this.props,t=e.projects,n=e.location,a=this.state.collapsed,o=t.length>r.MAX_WHEN_COLLAPSED,i=t;a&&o&&(i=t.slice(0,r.MAX_WHEN_COLLAPSED));var s=t.length-i.length;return Object(z.f)(We,null,Object(z.f)(Ve,null,Object(D.d)("Other Project for This Release","Other Projects for This Release",t.length)),i.map((function(e){return Object(z.f)(gt,{key:e.id},Object(z.f)(mt,{to:{pathname:n.pathname,query:yt({},n.query,{project:e.id,yAxis:void 0})}},Object(z.f)(ht.a,{project:e,avatarSize:16})))})),s>0&&Object(z.f)(St,{priority:"link",onClick:this.onCollapseToggle},Object(D.d)("Show %s collapsed project","Show %s collapsed projects",s)),0===s&&o&&Object(z.f)(St,{priority:"link",onClick:this.onCollapseToggle},Object(D.b)("Collapse")))}}]),r}(S.a.Component);vt.displayName="OtherProjects",vt.MAX_WHEN_COLLAPSED=5;var gt=Object(g.a)("div",{target:"epdr51c0",label:"Row"})("margin-bottom:",Object(w.a)(.25),";font-size:",(function(e){return e.theme.fontSizeMedium}),";color:",(function(e){return e.theme.blue400}),";",Me.a),mt=Object(g.a)(st.a,{target:"epdr51c1",label:"StyledLink"})({name:"1baulvz",styles:"display:inline-block;"}),St=Object(g.a)(me.a,{target:"epdr51c2",label:"CollapseToggle"})({name:"8atqhb",styles:"width:100%;"}),wt=vt,Dt=r(43),Pt=r.n(Dt),xt=r(1931),Et=function(e){var t=e.crashFreeTimeBreakdown;if(!(null==t?void 0:t.length))return null;var r=t.map((function(e,t,r){var n=e.date,a=e.crashFreeUsers,o=e.totalUsers,i=Math.round((null!=a?a:0)*o/100),s=0===t?Object(D.b)("Release created"):"".concat(Pt()(r[0].date).from(n,!0)," ").concat(Object(D.b)("later"));return{date:Pt()(n),dateLabel:s,crashFreeUsers:a,crashFreeUserCount:i}})).filter((function(e){return e.date.isBefore()})).reverse();return r.length?Object(z.f)(We,null,Object(z.f)(Ve,null,Object(D.b)("Total Crash Free Users")),Object(z.f)(Rt,null,r.map((function(e){return Object(z.f)(kt,{key:e.date.toString()},Object(z.f)(Ct,null,Object(z.f)(Nt,{bold:!0},e.date.format("MMMM D")),Object(z.f)(Nt,{bold:!0,right:!0},Object(z.f)(ct.a,{value:e.crashFreeUserCount})," ",Object(D.d)("user","users",e.crashFreeUserCount))),Object(z.f)(Ct,null,Object(z.f)(Nt,null,e.dateLabel),Object(z.f)(Nt,{right:!0},Object(te.d)(e.crashFreeUsers)?Object(xt.b)(e.crashFreeUsers):"-")))})))):null};Et.displayName="TotalCrashFreeUsers";var Rt=Object(g.a)("div",{target:"edy17k50",label:"Timeline"})("font-size:",(function(e){return e.theme.fontSizeSmall}),";color:",(function(e){return e.theme.gray600}),";line-height:1;"),kt=Object(g.a)("div",{target:"edy17k51",label:"Row"})("border-left:1px solid ",(function(e){return e.theme.borderLight}),";padding-left:",Object(w.a)(2),";padding-bottom:",Object(w.a)(1),";margin-left:",Object(w.a)(1),";position:relative;&:before{content:'';width:",10,"px;height:",10,"px;border-radius:100%;background-color:",(function(e){return e.theme.purple400}),";position:absolute;top:0;left:-",Math.floor(5),"px;}&:last-child{border-left:0;}"),Ct=Object(g.a)("div",{target:"edy17k52",label:"InnerRow"})("display:grid;grid-column-gap:",Object(w.a)(2),";grid-auto-flow:column;grid-auto-columns:1fr;padding-bottom:",Object(w.a)(.5),";"),Nt=Object(g.a)("div",{target:"edy17k53",label:"Text"})("font-weight:",(function(e){return e.bold?600:400}),";text-align:",(function(e){return e.right?"right":"left"}),";color:",(function(e){return e.bold?e.theme.gray600:e.theme.gray500}),";padding-bottom:",Object(w.a)(.25),";",Me.a,";"),At=Et,It=r(2052),Tt=r(252),Lt=function(e){var t=e.version,r=e.orgSlug,n=e.projectId,a=e.deploys;return Object(z.f)(We,null,Object(z.f)(Ve,null,Object(D.b)("Deploys")),a.map((function(e){return Object(z.f)(qt,{key:e.id},Object(z.f)(Ut,{deploy:e,orgSlug:r,version:t,projectId:n}),Object(z.f)(Tt.b,null,Object(z.f)(ot.a,{date:e.dateFinished})))})))};Lt.displayName="Deploys";var qt=Object(g.a)("div",{target:"ep08he10",label:"Row"})("display:flex;align-items:center;justify-content:space-between;margin-bottom:",Object(w.a)(1),";font-size:",(function(e){return e.theme.fontSizeMedium}),";color:",(function(e){return e.theme.gray600}),";"),Ut=Object(g.a)(It.a,{target:"ep08he11",label:"StyledDeployBadge"})("margin-right:",Object(w.a)(1),";"),Ft=Lt,zt=r(37),_t=r.n(zt),Ht=r(21),Mt=r.n(Ht),Bt=r(28),Wt=r.n(Bt),Vt=r(1890),Gt=r.n(Vt),Yt=r(2706),Qt=r.n(Yt),Xt=r(2708),Jt=r.n(Xt),Kt=r(31),Zt=r(149),$t=r(1833),er=r(365);function tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var a=v()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return y()(this,r)}}var ar=function(e){return Gt()(e,(function(e,t){return["api","version","orgId","projectSlug","location","children"].includes(t)}))},or=function(e){h()(r,e);var t=nr(r);function r(){var e;f()(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={reloading:!1,errored:!1,data:null},e.unmounting=!1,e.fetchData=Wt()(Mt.a.mark((function t(){var r,a,o,i,s;return Mt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null,a=e.props,o=a.yAxis,i=a.hasHealthData,s=a.hasDiscover,i||s){t.next=4;break}return t.abrupt("return");case 4:if(e.setState((function(e){return{reloading:null!==e.data,errored:!1}})),t.prev=5,o!==n.CRASH_FREE){t.next=12;break}return t.next=9,e.fetchRateData();case 9:r=t.sent,t.next=21;break;case 12:if(o!==n.EVENTS){t.next=18;break}return t.next=15,e.fetchEventData();case 15:r=t.sent,t.next=21;break;case 18:return t.next=20,e.fetchCountData(o===n.SESSION_DURATION?n.SESSIONS:o);case 20:r=t.sent;case 21:t.next=27;break;case 23:t.prev=23,t.t0=t.catch(5),Object(Kt.a)(Object(D.b)("Error loading chart data")),e.setState({errored:!0,data:null});case 27:if(!e.unmounting){t.next=29;break}return t.abrupt("return");case 29:e.setState({reloading:!1,data:r});case 30:case"end":return t.stop()}}),t,null,[[5,23]])}))),e.fetchCountData=function(){var t=Wt()(Mt.a.mark((function t(r){var a,o,i,s,c;return Mt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,o=a.api,i=a.yAxis,t.next=3,o.requestPromise(e.statsPath,{query:rr({},e.baseQueryParams,{type:r})});case 3:return s=t.sent,c=i===n.SESSION_DURATION?e.transformSessionDurationData(s.stats):e.transformCountData(s.stats,i,s.statTotals),t.abrupt("return",rr({},c,{crashFreeTimeBreakdown:s.usersBreakdown}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fetchRateData=Wt()(Mt.a.mark((function t(){var r,a,o,i,s,c;return Mt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.api,t.next=3,Promise.all([r.requestPromise(e.statsPath,{query:rr({},e.baseQueryParams,{type:n.USERS})}),r.requestPromise(e.statsPath,{query:rr({},e.baseQueryParams,{type:n.SESSIONS})})]);case 3:return a=t.sent,o=_t()(a,2),i=o[0],s=o[1],c=e.transformRateData(i.stats,s.stats),t.abrupt("return",rr({},c,{crashFreeTimeBreakdown:i.usersBreakdown}));case 9:case"end":return t.stop()}}),t)}))),e.fetchEventData=Wt()(Mt.a.mark((function t(){var r,a,o,i,s,c,u,l,f,p,b,d,h,O,y,j,v;return Mt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.props,i=o.api,s=o.orgId,c=o.location,u=o.selection,l=o.version,f=o.hasHealthData,p=e.state.data||{},!(b=p.crashFreeTimeBreakdown)&&f){t.next=8;break}return t.next=5,Object($t.c)(i,s,fe(u,l).getEventsAPIPayload(c));case 5:h=t.sent,t.next=14;break;case 8:return t.next=10,Promise.all([i.requestPromise(e.statsPath,{query:rr({},e.baseQueryParams,{type:n.USERS})}),Object($t.c)(i,s,fe(u,l).getEventsAPIPayload(c))]);case 10:O=t.sent,y=_t()(O,2),d=y[0],h=y[1];case 14:return j=null!==(r=null===(a=d)||void 0===a?void 0:a.usersBreakdown)&&void 0!==r?r:b,v=h.toLocaleString(),t.abrupt("return",{chartData:[],crashFreeTimeBreakdown:j,chartSummary:v});case 17:case"end":return t.stop()}}),t)}))),e}return b()(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){J()(ar(e),ar(this.props))||this.fetchData()}},{key:"componentWillUnmount",value:function(){this.unmounting=!0}},{key:"transformCountData",value:function(e,t,r){var n={crashed:{seriesName:Object(D.b)("Crashed"),data:[],color:er.a[3][0],areaStyle:{color:er.a[3][0],opacity:1},lineStyle:{opacity:0,width:.4}},abnormal:{seriesName:Object(D.b)("Abnormal"),data:[],color:er.a[3][1],areaStyle:{color:er.a[3][1],opacity:1},lineStyle:{opacity:0,width:.4}},errored:{seriesName:Object(D.b)("Errored"),data:[],color:er.a[3][2],areaStyle:{color:er.a[3][2],opacity:1},lineStyle:{opacity:0,width:.4}},healthy:{seriesName:Object(D.b)("Healthy"),data:[],color:er.a[3][3],areaStyle:{color:er.a[3][3],opacity:1},lineStyle:{opacity:0,width:.4}}};return e.forEach((function(e){var r=_t()(e,2),a=r[0],o=r[1],i=1e3*a,s=o["".concat(t,"_crashed")],c=o["".concat(t,"_abnormal")],u=o["".concat(t,"_errored")],l=o[t]-s-c-u;n.crashed.data.push({name:i,value:s}),n.abnormal.data.push({name:i,value:c}),n.errored.data.push({name:i,value:u}),n.healthy.data.push({name:i,value:l>=0?l:0})})),{chartData:Object.values(n),chartSummary:r[t].toLocaleString()}}},{key:"transformRateData",value:function(e,t){var r={users:{seriesName:Object(D.b)("Crash Free Users"),data:[],color:er.a[1][0]},sessions:{seriesName:Object(D.b)("Crash Free Sessions"),data:[],color:er.a[1][1]}},a=function(e,t){var r=e.map((function(e){var r=_t()(e,2),n=r[0],a=r[1];return{name:1e3*n,value:0!==a[t]?Object(xt.c)(100-Object(te.t)(a["".concat(t,"_crashed")],a[t])):null}}));return{averagePercent:Object(xt.b)(Qt()(r.filter((function(e){return Object(te.d)(e.value)})),"value")),percentageData:r}},o=a(e,n.USERS);r.users.data=o.percentageData;var i=a(t,n.SESSIONS);r.sessions.data=i.percentageData;var s=Object(D.c)("[usersPercent] users, [sessionsPercent] sessions",{usersPercent:o.averagePercent,sessionsPercent:i.averagePercent});return{chartData:Object.values(r),chartSummary:s}}},{key:"transformSessionDurationData",value:function(e){var t={seriesName:Object(D.b)("Session Duration"),data:[],lineStyle:{opacity:0}},r=Jt()(e.map((function(e){var r=_t()(e,2),n=r[0],a=r[1];return t.data.push({name:1e3*n,value:Object(xt.e)(a.duration_p50)}),a.duration_p50})).filter((function(e){return Object(te.d)(e)})))||0,n=Object(k.k)(Object(xt.e)(r));return{chartData:[t],chartSummary:n}}},{key:"render",value:function(){var e,t,r,n=this.props.children,a=this.state,o=a.data;return n({loading:null===o,reloading:a.reloading,errored:a.errored,chartData:null!==(e=null==o?void 0:o.chartData)&&void 0!==e?e:[],chartSummary:null!==(t=null==o?void 0:o.chartSummary)&&void 0!==t?t:"",crashFreeTimeBreakdown:null!==(r=null==o?void 0:o.crashFreeTimeBreakdown)&&void 0!==r?r:[]})}},{key:"statsPath",get:function(){var e=this.props,t=e.orgId,r=e.projectSlug,n=e.version;return"/projects/".concat(t,"/").concat(r,"/releases/").concat(n,"/stats/")}},{key:"baseQueryParams",get:function(){var e,t=this.props,r=t.location,n=t.selection;return rr({},Object(Zt.a)(je()(r.query,Oe()(Object.values(xe.e)))),{interval:(e=n.datetime,Object(se.b)(e)>20160?"6h":"1h")})}}]),r}(S.a.Component);or.displayName="ReleaseStatsRequest";var ir=or,sr=r(2065);function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var a=v()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return y()(this,r)}}var fr=function(e){h()(r,e);var t=lr(r);function r(){var e;f()(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleYAxisChange=function(t){var r=e.props,n=r.location;r.router.push(ur({},n,{query:ur({},n.query,{yAxis:t})}))},e}return b()(r,[{key:"getTitle",value:function(){var e=this.props,t=e.params,r=e.organization;return Object(C.a)(Object(D.b)("Release %s",Object(k.i)(t.release)),r.slug,!1)}},{key:"getYAxis",value:function(e){var t=this.props.location.query.yAxis;return"string"==typeof t?t:e?n.SESSIONS:n.EVENTS}},{key:"render",value:function(){var e=this,t=this.props,r=t.organization,n=t.selection,a=t.location,i=t.api,c=t.router;return Object(z.f)(sr.ReleaseContext.Consumer,null,(function(t){var u=t.release,l=t.project,f=t.deploys,p=t.releaseMeta,b=u.commitCount,d=u.version,h=(l.healthData||{}).hasHealthData,O=r.features.includes("discover-basic"),y=e.getYAxis(h);return Object(z.f)(ir,{api:i,orgId:r.slug,projectSlug:l.slug,version:d,selection:n,location:a,yAxis:y,hasHealthData:h,hasDiscover:O},(function(t){var j=t.crashFreeTimeBreakdown,v=s()(t,["crashFreeTimeBreakdown"]);return Object(z.f)(pr,null,Object(z.f)(N.e,null,(O||h)&&Object(z.f)(de,o()({},v,{selection:n,yAxis:y,onYAxisChange:e.handleYAxisChange,router:c,organization:r,hasHealthData:h,location:a,api:i,version:d,hasDiscover:O})),Object(z.f)(Fe,{orgId:r.slug,selection:n,version:d,location:a})),Object(z.f)(N.f,null,Object(z.f)(dt,{release:u,releaseMeta:p,orgSlug:r.slug,projectSlug:l.slug}),b>0&&Object(z.f)(nt,{version:d,orgId:r.slug,projectSlug:l.slug}),p.projects.length>1&&Object(z.f)(wt,{projects:p.projects.filter((function(e){return e.slug!==l.slug})),location:a}),h&&Object(z.f)(At,{crashFreeTimeBreakdown:j}),f.length>0&&Object(z.f)(Ft,{version:d,orgSlug:r.slug,deploys:f,projectId:l.id})))}))}))}}]),r}(P.a);fr.displayName="ReleaseOverview";t.default=Object(R.a)(Object(E.a)(Object(x.a)(fr)));var pr=Object(g.a)(N.a,{target:"e1d2jw1q0",label:"StyledBody"})("margin:-",Object(w.a)(2)," -",Object(w.a)(4),";")}}]);
//# sourceMappingURL=ReleasesDetailOverview.js.map