(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[85],{1710:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r(10),a=r.n(n),o=r(11),i=r.n(o),s=r(12),c=r.n(s),u=r(13),l=r.n(u),f=r(6),p=r.n(f),d=r(278),v=r.n(d),h=(r(1),r(1712)),y=r(0);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p()(e);if(t){var a=p()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l()(this,r)}}var b=function(e){c()(r,e);var t=g(r);function r(){return a()(this,r),t.apply(this,arguments)}return i()(r,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(y.f)(v.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),r}(h.a);b.displayName="AsyncView"},1736:function(e,t,r){"use strict";var n=r(4),a=(r(1),r(9)),o=r(0),i=Object(n.a)((function(e){var t=e.className,r=e.children,n=e.error;return Object(o.f)("div",{"data-test-id":"loading-placeholder",className:t},n||r)}),{target:"e1xygdhp0",label:"Placeholder"})("display:flex;flex-direction:column;flex-shrink:0;justify-content:center;background-color:",(function(e){return e.error?e.theme.red100:e.theme.gray200}),";",(function(e){return e.error&&"color: ".concat(e.theme.red300,";")})," width:",(function(e){return e.width}),";height:",(function(e){return e.height}),";",(function(e){return"circle"===e.shape?"border-radius: 100%;":""})," ",(function(e){return"number"==typeof e.bottomGutter&&e.bottomGutter>0?"margin-bottom: ".concat(Object(a.a)(e.bottomGutter),";"):""}));i.defaultProps={shape:"rect",bottomGutter:0,width:"100%",height:"60px"},t.a=i},1822:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n=r(5),a=r.n(n),o=r(7),i=r.n(o),s=r(15),c=r.n(s),u=r(10),l=r.n(u),f=r(11),p=r.n(f),d=r(12),v=r.n(d),h=r(13),y=r.n(h),g=r(6),b=r.n(g),m=r(1),O=r.n(m);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=r(1810),w=r(0);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b()(e);if(t){var a=b()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return y()(this,r)}}var x=function(e){v()(r,e);var t=R(r);function r(){return l()(this,r),t.apply(this,arguments)}return p()(r,[{key:"render",value:function(){var e=this.props,t=e.series,r=e.stacked,n=e.xAxis,o=c()(e,["series","stacked","xAxis"]);return Object(w.f)(D.a,a()({},o,{xAxis:null!==n?S({},n||{},{boundaryGap:!0}):null,series:t.map((function(e){var t=e.seriesName,n=e.data,a=c()(e,["seriesName","data"]);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return P({},e,{type:"bar"})}(S({name:t,stack:r?"stack1":null,data:n.map((function(e){var t=e.value,r=e.name,n=e.itemStyle;return void 0===n?[r,t]:{value:[r,t],itemStyle:n}}))},a))}))}))}}]),r}(O.a.Component);x.displayName="BarChart"},1833:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return j}));var n=r(21),a=r.n(n),o=r(28),i=r.n(o),s=r(7),c=r.n(s),u=r(37),l=r.n(u),f=r(254),p=r.n(f),d=r(83),v=r(1796),h=r(1917);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=function(e,t){var r=t.organization,n=t.project,a=t.environment,o=t.period,i=t.start,s=t.end,c=t.interval,u=t.includePrevious,f=t.query,p=t.yAxis,d=t.field,y=t.keyTransactions,b=t.topEvents,m=t.orderby,O=Object(v.a)(u,o),j=Object.fromEntries(Object.entries({interval:c,project:n,environment:a,query:f,yAxis:p,field:d,topEvents:b,orderby:m}).filter((function(e){return void 0!==l()(e,2)[1]}))),P=Object(h.a)({period:o,start:i,end:s},{shouldDoublePeriod:O});return e.requestPromise("".concat(function(e,t){return"/organizations/".concat(e.slug,t?"/key-transactions-stats/":"/events-stats/")}(r,y)),{query:g({},j,{},P)})};function m(e,t,r){return O.apply(this,arguments)}function O(){return(O=i()(a.a.mark((function e(t,r,n){var o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=p()(n,Object.values(d.e)),i=g({},o,{query:n.query}),e.abrupt("return",t.requestPromise("/organizations/".concat(r,"/events-facets/"),{query:i}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,r){return P.apply(this,arguments)}function P(){return(P=i()(a.a.mark((function e(t,r,n){var o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=p()(n,Object.values(d.e)),i=g({},o,{query:n.query}),e.abrupt("return",t.requestPromise("/organizations/".concat(r,"/events-meta/"),{query:i}).then((function(e){return e.count})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1834:function(e,t,r){"use strict";var n=r(4),a=Object(n.a)("div",{target:"esa86kh0",label:"ErrorPanel"})("display:flex;justify-content:center;align-items:center;flex:1;flex-shrink:0;overflow:hidden;height:",(function(e){return e.height||"200px"}),";position:relative;border-color:transparent;margin-bottom:0;");t.a=a},1849:function(e,t,r){"use strict";var n=r(7),a=r.n(n),o=r(37),i=r.n(o),s=r(21),c=r.n(s),u=r(15),l=r.n(u),f=r(28),p=r.n(f),d=r(10),v=r.n(d),h=r(11),y=r.n(h),g=r(12),b=r.n(g),m=r(13),O=r.n(m),j=r(6),P=r.n(j),D=r(57),w=r.n(D),k=r(1890),S=r.n(k),R=r(1),x=r.n(R),z=r(1853),T=r(1833),E=r(1796),N=r(31),C=r(3),q=r(0);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=P()(e);if(t){var a=P()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return O()(this,r)}}var F=["api","children","organization","loading"],M=function(e){return S()(e,(function(e,t){return F.includes(t)}))};var J=function(e){b()(r,e);var t=U(r);function r(){var e;v()(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={reloading:!!e.props.loading,errored:!1,timeseriesData:null},e.unmounting=!1,e.fetchData=p()(c.a.mark((function t(){var r,n,a,o,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,n=r.api,a=r.confirmedQuery,o=l()(r,["api","confirmedQuery"]),i=null,!1!==a){t.next=4;break}return t.abrupt("return");case 4:return e.setState((function(e){return{reloading:null!==e.timeseriesData,errored:!1}})),t.prev=5,n.clear(),t.next=9,Object(T.a)(n,o);case 9:i=t.sent,t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),t.t0&&t.t0.responseJSON&&t.t0.responseJSON.detail?Object(N.a)(t.t0.responseJSON.detail):Object(N.a)(Object(C.b)("Error loading chart data")),e.setState({errored:!0});case 16:if(!e.unmounting){t.next=18;break}return t.abrupt("return");case 18:e.setState({reloading:!1,timeseriesData:i});case 19:case"end":return t.stop()}}),t,null,[[5,12]])}))),e.getData=function(t){var r=e.props,n=r.period,a=r.includePrevious,o=Object(E.a)(a,n),i=Math.floor(t.length/2);return{current:o?t.slice(i):t,previous:o?t.slice(0,i):null}},e}return y()(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){w()(M(e),M(this.props))||this.fetchData()}},{key:"componentWillUnmount",value:function(){this.unmounting=!0}},{key:"calculateTotalsPerTimestamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 1e3*e};return e.map((function(e,r){var n=i()(e,2),a=n[0],o=n[1];return{name:t(a,o,r),value:o.reduce((function(e,t){return e+t.count}),0)}}))}},{key:"transformPreviousPeriodData",value:function(e,t){var r;return t?{seriesName:null!==(r=this.props.previousSeriesName)&&void 0!==r?r:"Previous",data:this.calculateTotalsPerTimestamp(t,(function(t,r,n){return 1e3*e[n][0]}))}:null}},{key:"transformAggregatedTimeseries",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{seriesName:t,data:this.calculateTotalsPerTimestamp(e)}}},{key:"transformTimeseriesData",value:function(e,t){return[{seriesName:t||"Current",data:e.map((function(e){var t=i()(e,2);return{name:1e3*t[0],value:t[1].reduce((function(e,t){return e+t.count}),0)}}))}]}},{key:"processData",value:function(e){if(!e)return{};var t=e.data,r=e.totals,n=this.props,a=n.includeTransformedData,o=n.includeTimeAggregation,i=n.timeAggregationSeriesName,s=this.getData(t),c=s.current,u=s.previous;return{data:a?this.transformTimeseriesData(c,this.props.currentSeriesName):[],allData:t,originalData:c,totals:r,originalPreviousData:u,previousData:a?this.transformPreviousPeriodData(c,u):null,timeAggregatedData:o?this.transformAggregatedTimeseries(c,i||""):{}}}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.children,a=r.showLoading,o=l()(r,["children","showLoading"]),i=this.state,s=i.timeseriesData,c=i.reloading,u=i.errored,f=this.props.loading||null===s;if(a&&f)return Object(q.f)(z.a,{"data-test-id":"events-request-loading"});if(null!==(e=s)&&void 0===e.data&&void 0===e.totals)return n(L({loading:f,reloading:c,errored:u,results:Object.keys(s).map((function(e){var r=s[e],n=t.transformTimeseriesData(r.data,e)[0];return[r.order||0,n]})).sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]}))},o));var p=this.processData(s);return n(L({loading:f,reloading:c,errored:u,timeseriesData:p.data,allTimeseriesData:p.allData,originalTimeseriesData:p.originalData,timeseriesTotals:p.totals,originalPreviousTimeseriesData:p.originalPreviousData,previousTimeseriesData:p.previousData,timeAggregatedData:p.timeAggregatedData},o))}}]),r}(x.a.PureComponent);J.displayName="EventsRequest",J.defaultProps={period:void 0,start:null,end:null,interval:"1d",limit:15,query:"",includePrevious:!0,includeTransformedData:!0},t.a=J},1850:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return s}));var n=r(97),a=r(3),o=r(55);function i(e,t){switch(Object(o.g)(t)){case"integer":case"number":return e.toLocaleString();case"percentage":return Object(n.h)(e,2);case"duration":return Object(n.j)(e/1e3,2,!0);default:return e.toString()}}function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(Object(o.g)(t)){case"integer":case"number":return r?Object(n.f)(e):e.toLocaleString();case"percentage":return Object(n.h)(e,0);case"duration":return c(e);default:return e.toString()}}function c(e){if(0===e)return"0";if(e>=n.e){var t=(e/n.e).toFixed(0);return Object(a.b)("%swk",t)}if(e>=n.a){var r=(e/n.a).toFixed(0);return Object(a.b)("%sd",r)}if(e>=n.b){var o=(e/n.b).toFixed(0);return Object(a.b)("%shr",o)}if(e>=n.c){var i=(e/n.c).toFixed(0);return Object(a.b)("%smin",i)}if(e>=n.d){var s=(e/n.d).toFixed(0);return Object(a.b)("%ss",s)}var c=(e/n.d).toFixed(1);return Object(a.b)("%ss",c)}},1890:function(e,t,r){var n=r(221),a=r(1930),o=r(337);e.exports=function(e,t){return o(e,a(n(t)))}},1892:function(e,t,r){"use strict";var n=r(10),a=r.n(n),o=r(11),i=r.n(o),s=r(12),c=r.n(s),u=r(13),l=r.n(u),f=r(6),p=r.n(f),d=r(1),v=r.n(d),h=r(1853),y=r(0);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p()(e);if(t){var a=p()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l()(this,r)}}var b=function(e){c()(r,e);var t=g(r);function r(){var e;a()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={prevReloading:e.props.reloading,prevLoading:e.props.loading,key:1},e}return i()(r,[{key:"render",value:function(){var e=this.props,t=e.height,r=e.loading,n=e.reloading;return r&&!n?Object(y.f)(h.a,{height:t,"data-test-id":"events-request-loading"}):Object(y.f)(v.a.Fragment,{key:String(this.state.key)},this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=t.prevReloading,n=e.reloading,a=t.prevLoading,o=e.loading;return a!==o?{prevReloading:n,prevLoading:o,key:t.key+1}:o?{prevReloading:n,prevLoading:o,key:t.key}:r&&!n?{prevReloading:n,prevLoading:o,key:t.key+1}:{prevReloading:n,prevLoading:o,key:t.key}}}]),r}(v.a.Component);b.displayName="TransitionChart",b.defaultProps={height:"200px"},t.a=b},1893:function(e,t,r){"use strict";var n=r(4),a=r(1936),o=Object(n.a)(a.a,{target:"ecv1fy50",label:"TransparentLoadingMask"})((function(e){return!e.visible&&"display: none;"}),";opacity:0.4;z-index:1;");t.a=o},1930:function(e,t){e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},2002:function(e,t,r){"use strict";var n=r(7),a=r.n(n),o=r(5),i=r.n(o),s=r(26),c=r.n(s),u=r(15),l=r.n(u),f=r(10),p=r.n(f),d=r(11),v=r.n(d),h=r(12),y=r.n(h),g=r(13),b=r.n(g),m=r(6),O=r.n(m),j=r(1),P=r.n(j),D=r(57),w=r.n(D),k=r(3),S=r(1796),R=r(1869),x=r(1827),z=r(1822),T=r(1812),E=r(1892),N=r(1939),C=r(18),q=r(25),A=r(1893),L=r(1834),U=r(1850),F=r(55),M=r(1849),J=r(0);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O()(e);if(t){var a=O()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var H=function(e){y()(r,e);var t=G(r);function r(){var e;p()(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={seriesSelection:{},forceUpdate:!1},e.handleLegendSelectChanged=function(t){var r=t.selected,n=Object.keys(r).reduce((function(e,t){return e[t]="Releases"!==t||r[t],e}),{});e.setState({seriesSelection:n,forceUpdate:!0},(function(){return e.setState({forceUpdate:!1})}))},e}return v()(r,[{key:"shouldComponentUpdate",value:function(e,t){return!!t.forceUpdate||(!w()(this.state.seriesSelection,t.seriesSelection)||!(e.reloading||!e.timeseriesData)&&!(w()(this.props.timeseriesData,e.timeseriesData)&&w()(this.props.releaseSeries,e.releaseSeries)&&w()(this.props.previousTimeseriesData,e.previousTimeseriesData)))}},{key:"getChartComponent",value:function(){var e=this.props,t=e.showDaily,r=e.timeseriesData,n=e.yAxis;if(t)return z.a;if(r.length>1)switch(Object(F.f)(n)){case"line":return T.a;case"area":return x.a;default:throw new Error("Unknown multi plot type for ".concat(n))}return x.a}},{key:"render",value:function(){var e=this.props,t=(e.loading,e.reloading,e.yAxis),r=e.releaseSeries,n=e.zoomRenderProps,a=e.timeseriesData,o=e.previousTimeseriesData,s=e.showLegend,u=e.currentSeriesName,f=e.previousSeriesName,p=l()(e,["loading","reloading","yAxis","releaseSeries","zoomRenderProps","timeseriesData","previousTimeseriesData","showLegend","currentSeriesName","previousSeriesName"]),d=this.state.seriesSelection,v=[null!=u?u:Object(k.b)("Current"),null!=f?f:Object(k.b)("Previous")];Array.isArray(r)&&v.push(Object(k.b)("Releases"));var h=s&&{right:16,top:12,icon:"circle",itemHeight:8,itemWidth:8,itemGap:12,align:"left",textStyle:{verticalAlign:"top",fontSize:11,fontFamily:"Rubik"},data:v,selected:d},y={colors:q.a.charts.getColorPalette(a.length-2),grid:{left:"24px",right:"24px",top:"32px",bottom:"12px"},seriesOptions:{showSymbol:!1},tooltip:{trigger:"axis",truncate:80,valueFormatter:function(e){return Object(U.b)(e,t)}},yAxis:{axisLabel:{color:q.a.gray400,formatter:function(e){return Object(U.a)(e,t)}}}},g=this.getChartComponent(),b=Array.isArray(r)?[].concat(c()(a),c()(r)):a;return Object(J.f)(g,i()({},p,n,y,{legend:h,onLegendSelectChanged:this.handleLegendSelectChanged,series:b,previousPeriod:o?[o]:null}))}}]),r}(P.a.Component);H.displayName="Chart";var W=function(e){y()(r,e);var t=G(r);function r(){return p()(this,r),t.apply(this,arguments)}return v()(r,[{key:"render",value:function(){var e=this.props,t=e.api,r=e.period,n=e.utc,a=e.query,o=e.router,s=e.start,c=e.end,u=e.projects,f=e.environments,p=e.showLegend,d=e.yAxis,v=e.disablePrevious,h=e.disableReleases,y=e.currentSeriesName,g=e.previousSeriesName,b=e.field,m=e.interval,O=e.showDaily,j=e.topEvents,P=e.orderby,D=e.confirmedQuery,w=l()(e,["api","period","utc","query","router","start","end","projects","environments","showLegend","yAxis","disablePrevious","disableReleases","currentSeriesName","previousSeriesName","field","interval","showDaily","topEvents","orderby","confirmedQuery"]),x=!v&&!s&&!c,z=(null!=g?g:d)?Object(k.b)("previous %s",d):void 0,T=null!=y?y:d,q=O?"1d":m||Object(S.c)(this.props,!0),U=function(e){var t=e.zoomRenderProps,r=e.releaseSeries,a=e.errored,o=e.loading,s=e.reloading,c=e.results,u=e.timeseriesData,l=e.previousTimeseriesData;if(a)return Object(J.f)(L.a,null,Object(J.f)(C.Ib,{color:"gray500",size:"lg"}));var f=c||u;return Object(J.f)(E.a,{loading:o,reloading:s},Object(J.f)(A.a,{visible:s}),Object(J.f)(H,i()({},t,{loading:o,reloading:s,utc:n,showLegend:p,releaseSeries:r||[],timeseriesData:f,previousTimeseriesData:l,currentSeriesName:T,previousSeriesName:z,stacked:"number"==typeof j&&j>0,yAxis:d,showDaily:O})))};if(!h){var F=U;U=function(e){return Object(J.f)(N.a,{utc:n,period:r,start:s,end:c,projects:u,environments:f},(function(t){var r=t.releaseSeries;return F(I({},e,{releaseSeries:r}))}))}}return Object(J.f)(R.a,i()({router:o,period:r,utc:n,projects:u,environments:f},w),(function(e){return Object(J.f)(M.a,i()({},w,{api:t,period:r,project:u,environment:f,start:s,end:c,interval:q,query:a,includePrevious:x,currentSeriesName:T,previousSeriesName:z,yAxis:d,field:b,orderby:P,topEvents:j,confirmedQuery:D}),(function(t){return U(I({},t,{zoomRenderProps:e}))}))}))}}]),r}(P.a.Component);W.displayName="EventsChart",t.a=W},2966:function(e,t,r){"use strict";r.r(t),r.d(t,"Events",(function(){return be})),r.d(t,"parseRowFromLinks",(function(){return ye}));var n=r(21),a=r.n(n),o=r(28),i=r.n(o),s=r(139),c=r.n(s),u=r(7),l=r.n(u),f=r(15),p=r.n(f),d=r(10),v=r.n(d),h=r(11),y=r.n(h),g=r(12),b=r.n(g),m=r(13),O=r.n(m),j=r(6),P=r.n(j),D=r(4),w=r(8),k=r(57),S=r.n(k),R=r(1),x=r.n(R),z=r(42),T=r(199),E=r(31),N=r(3),C=r(1712),q=r(1710),A=r(140),L=r(618),U=r(209),F=r(69),M=r(149),J=r(620),B=r(281),I=r(283),G=r(47),H=r(1736),W=r(58),Q=r(9),X=r(255),Z=r(0);function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=P()(e);if(t){var a=P()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return O()(this,r)}}var V=function(e){b()(r,e);var t=K(r);function r(){return v()(this,r),t.apply(this,arguments)}return y()(r,[{key:"render",value:function(){var e=this.props,t=e.events,r=e.organization,n=e.utc,a=e.projectsMap;return t.map((function(e,t){var o=a.get(e.projectID),i=e.title||e.message.split("\n")[0].substr(0,100),s=o?"/organizations/".concat(r.slug,"/projects/").concat(null==o?void 0:o.slug,"/events/").concat(e.eventID,"/"):"";return Object(Z.f)(re,{key:"".concat(null==o?void 0:o.slug,"-").concat(e.eventID),first:0===t},Object(Z.f)(ne,null,Object(Z.f)(ae,null,o?Object(Z.f)(w.Link,{to:s},i):i)),Object(Z.f)(ne,null,e["event.type"]),Object(Z.f)(ne,null,o?Object(Z.f)(I.a,{project:o,avatarSize:16,displayName:Object(Z.f)("span",null,null==o?void 0:o.slug),avatarProps:{consistentWidth:!0}}):Object(Z.f)(H.a,{height:"16px",width:"50px"})),Object(Z.f)(ne,null,e&&e.user&&Object(Z.f)(I.a,{user:e.user,hideEmail:!0,avatarSize:16})),Object(Z.f)(ne,null,Object(Z.f)(oe,{utc:n,date:new Date(e.dateCreated)})))}))}}]),r}(x.a.PureComponent);V.displayName="EventsTableBody";var Y=function(e){b()(r,e);var t=K(r);function r(){return v()(this,r),t.apply(this,arguments)}return y()(r,[{key:"shouldComponentUpdate",value:function(e){return this.props.reloading!==e.reloading||this.props.zoomChanged!==e.zoomChanged||this.props.loading!==e.loading||this.props.loadingProjects!==e.loadingProjects||(this.props.organization!==e.organization||this.props.events!==e.events)}},{key:"componentDidUpdate",value:function(e){this.props.onUpdateComplete&&e.zoomChanged&&this.props.reloading&&this.props.onUpdateComplete()}},{key:"render",value:function(){var e=this.props,t=e.events,r=e.organization,n=e.loading,a=e.reloading,o=e.zoomChanged,i=e.utc,s=t&&!!t.length;return Object(Z.f)(T.a,null,Object(Z.f)(T.e,null,Object(Z.f)(ee,null,Object(Z.f)("div",null,Object(N.b)("Event")),Object(Z.f)("div",null,Object(N.b)("Event Type")),Object(Z.f)("div",null,Object(N.b)("Project")),Object(Z.f)("div",null,Object(N.b)("User")),Object(Z.f)("div",null,Object(N.b)("Time")))),n&&Object(Z.f)(G.default,null),!n&&!s&&Object(Z.f)(B.a,null,Object(Z.f)("p",null,Object(N.b)("No events"))),s&&Object(Z.f)(_,null,(a||o)&&Object(Z.f)(te,{overlay:!0}),Object(Z.f)(V,{projectsMap:this.projectsMap,events:t,organization:r,utc:i})))}},{key:"projectsMap",get:function(){var e=this.props,t=e.organization,r=e.loadingProjects,n=e.projects,a=!r&&n||t.projects||[];return new Map(a.map((function(e){return[e.id,e]})))}}]),r}(x.a.Component);Y.displayName="EventsTable";var $=Object(X.a)(Object(w.withRouter)(Y)),_=Object(D.a)(T.c,{target:"e1n2302f0",label:"StyledPanelBody"})({name:"1npn4o",styles:"overflow-x:auto;padding:0;"}),ee=Object(D.a)("div",{target:"e1n2302f1",label:"TableLayout"})("display:grid;grid-template-columns:0.8fr 0.15fr 0.15fr 0.25fr 200px;grid-column-gap:",Object(Q.a)(1.5),";width:100%;"),te=Object(D.a)(G.default,{target:"e1n2302f2",label:"StyledLoadingIndicator"})({name:"mycoky",styles:"padding-top:10vh;z-index:1;&.loading.overlay{align-items:flex-start;}"}),re=Object(D.a)(ee,{target:"e1n2302f3",label:"TableRow"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";border-top:1px solid ",(function(e){return e.first?"transparent":e.theme.borderLight}),";align-items:center;padding:",Object(Q.a)(1)," ",Object(Q.a)(2),";"),ne=Object(D.a)("div",{target:"e1n2302f4",label:"TableData"})({name:"i6bazn",styles:"overflow:hidden;"}),ae=Object(D.a)(ne,{target:"e1n2302f5",label:"EventTitle"})("padding-right:",Object(Q.a)(2),";",W.a,";"),oe=Object(D.a)(J.a,{target:"e1n2302f6",label:"StyledDateTime"})("color:",(function(e){return e.theme.gray500}),";",W.a,";"),ie=r(5),se=r.n(ie),ce=r(2002),ue=r(50),le=r(282);function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=P()(e);if(t){var a=P()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return O()(this,r)}}var pe=Object(le.a)(Object(ue.a)(function(e){b()(r,e);var t=fe(r);function r(){return v()(this,r),t.apply(this,arguments)}return y()(r,[{key:"render",value:function(){var e=this.props,t=e.selection,r=p()(e,["selection"]),n=t.datetime,a=t.projects,o=t.environments;return Object(Z.f)(ce.a,se()({},n,{projects:a||[],environments:o||[]},r))}}]),r}(x.a.Component)));function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=P()(e);if(t){var a=P()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return O()(this,r)}}var ye=function(e,t){if(!(e=Object(U.a)(e)).previous.results)return"1-".concat(t);var r=(Number(e.previous.cursor.split(":")[1])+Number(e.next.cursor.split(":")[1]))/2+1;return"".concat(r,"-").concat(r+t-1)},ge=function(e){b()(r,e);var t=he(r);function r(){return v()(this,r),t.apply(this,arguments)}return y()(r,[{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,r=e.location.query,n=r.statsPeriod,a=p()(r,["statsPeriod"]);return[["eventsMeta","/organizations/".concat(t.slug,"/events-meta/"),{query:Object(M.a)(ve({statsPeriod:n},a))}]]}},{key:"onRequestError",value:function(){z.c(new Error('Unable to fetch "total event count"'))}},{key:"renderError",value:function(){return null}},{key:"renderBody",value:function(){var e=this.state.eventsMeta,t=this.props,r=t.isAllResults,n=t.numRows,a=r?n:e.count;return Object(N.b)(" of ".concat(a.toLocaleString()).concat(r?"":" (estimated)"))}}]),r}(C.a),be=function(e){b()(n,e);var t,r=he(n);function n(){var e;v()(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).shouldReload=!0,e.handleZoom=function(){return e.setState({zoomed:!0})},e.handleTableUpdateComplete=function(){return e.setState({zoomed:!1})},e}return y()(n,[{key:"shouldComponentUpdate",value:function(e,t){var r=this;return this.state!==t||!!["path","search"].find((function(t){return!S()(r.props.location[t],e.location[t])}))}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,r=e.location.query,n=r.statsPeriod,a=p()(r,["statsPeriod"]);return[["events","/organizations/".concat(t.slug,"/events/"),{query:Object(M.a)(ve({statsPeriod:n},a))}]]}},{key:"getTitle",value:function(){return"Events - ".concat(this.props.organization.slug)}},{key:"handleRequestSuccess",value:(t=i()(a.a.mark((function e(t){var r,o,i,s,u,l,f,p,d,v,h,y=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.stateKey,i=t.data,"1"!==(s=t.jqXHR).getResponseHeader("X-Sentry-Direct-Hit")){e.next=11;break}return u=this.props.organization,l=i[0],e.next=6,this.api.requestPromise("/organizations/".concat(u.slug,"/projects/"),{query:{query:"id:".concat(l.projectID)}});case 6:if(!((f=e.sent)&&f.length>0)){e.next=11;break}return p=f[0],w.browserHistory.replace("/organizations/".concat(u.slug,"/projects/").concat(p.slug,"/events/").concat(l.eventID,"/")),e.abrupt("return");case 11:for(d=y.length,v=new Array(d>1?d-1:0),h=1;h<d;h++)v[h-1]=y[h];(r=c()(P()(n.prototype),"handleRequestSuccess",this)).call.apply(r,[this,{stateKey:o,data:i,jqXHR:s}].concat(v));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"onRequestError",value:function(e){e&&e.responseJSON&&e.responseJSON.detail&&Object(E.a)(e.responseJSON.detail)}},{key:"renderRowCounts",value:function(){var e=this.state,t=e.events,r=e.eventsPageLinks;return r?ye(r,t.length):null}},{key:"renderError",value:function(){return this.renderBody()}},{key:"renderLoading",value:function(){return this.renderBody()}},{key:"renderBody",value:function(){var e=this.props,t=e.organization,r=e.location,a=e.router,o=this.state,i=o.error,s=o.loading,u=o.reloading,l=o.events,f=o.eventsPageLinks,p=s||i||!f?{}:Object(U.a)(f);return Object(Z.f)(x.a.Fragment,null,i&&c()(P()(n.prototype),"renderError",this).call(this,new Error("Unable to load all required endpoints"),!1,!0),Object(Z.f)(T.a,null,Object(Z.f)(pe,{router:a,query:r.query.query,organization:t,onZoom:this.handleZoom})),Object(Z.f)($,{loading:!u&&s,reloading:u,zoomChanged:this.state.zoomed,events:l,organization:t,onUpdateComplete:this.handleTableUpdateComplete}),!s&&!u&&!i&&Object(Z.f)(Oe,null,Object(Z.f)(je,null,l.length?Object(N.b)("Results ".concat(this.renderRowCounts())):Object(N.b)("No Results"),!!l.length&&f&&Object(Z.f)(A.a,{features:["internal-catchall"]},Object(Z.f)(ge,{organization:t,location:r,isAllResults:!p.previous.results&&!p.next.results,numRows:l.length}))),Object(Z.f)(me,{pageLinks:f})))}}]),n}(q.a),me=Object(D.a)(L.a,{target:"e1nvp54h0",label:"PaginationNoMargin"})({name:"1uk1gs8",styles:"margin:0;"}),Oe=Object(D.a)("div",{target:"e1nvp54h1",label:"PaginationWrapper"})({name:"1lekzkb",styles:"display:flex;align-items:center;justify-content:space-between;"}),je=Object(D.a)("div",{target:"e1nvp54h2",label:"RowDisplay"})("color:",(function(e){return e.theme.gray400}),";");t.default=Object(F.a)(be)}}]);
//# sourceMappingURL=Events.js.map