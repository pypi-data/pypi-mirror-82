(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[121],{1725:function(e,t,n){"use strict";n(1);var a=n(278),r=n.n(a),i=n(0),o=function(e){var t="".concat(e.title," - ").concat(e.objSlug," - Sentry");return Object(i.f)(r.a,{title:t},e.children)};o.displayName="SentryDocumentTitle",t.a=o},1811:function(e,t,n){"use strict";function a(e){return"string"==typeof e?e.toLowerCase().replace(" ","-"):""}n.d(t,"a",(function(){return a}))},1904:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(15),o=n.n(i),c=(n(1),n(3)),s=n(375),l=n(76),u=n(18),b=n(0),f=function(e){var t=e.access,n=void 0===t?["org:write"]:t,a=o()(e,["access"]);return Object(b.f)(s.a,{access:n},(function(e){return!e.hasAccess&&Object(b.f)(l.b,r()({type:"warning",icon:Object(b.f)(u.Ib,{size:"sm"})},a),Object(c.b)("These settings can only be edited by users with the organization owner or manager role."))}))};f.displayName="PermissionAlert",t.a=f},2086:function(e,t,n){"use strict";n.r(t),n.d(t,"route",(function(){return i}));var a=n(3),r=n(1811),i="/settings/:orgId/",o=[{title:Object(a.b)("General"),fields:[{name:"slug",type:"string",required:!0,label:Object(a.b)("Organization Slug"),help:Object(a.b)("A unique ID used to identify this organization"),transformInput:r.a,saveOnBlur:!1,saveMessageAlertType:"info",saveMessage:Object(a.b)("You will be redirected to the new organization slug after saving")},{name:"name",type:"string",required:!0,label:Object(a.b)("Display Name"),help:Object(a.b)("A human-friendly name for the organization")},{name:"isEarlyAdopter",type:"boolean",label:Object(a.b)("Early Adopter"),help:Object(a.b)("Opt-in to new features before they're released to the public")}]},{title:"Membership",fields:[{name:"defaultRole",type:"array",required:!0,label:Object(a.b)("Default Role"),choices:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.initialData;return null!==(e=null==a?void 0:null===(t=a.availableRoles)||void 0===t?void 0:t.map((function(e){return[e.id,e.name]})))&&void 0!==e?e:[]},help:Object(a.b)("The default role new members will receive"),disabled:function(e){return!e.access.has("org:admin")}},{name:"openMembership",type:"boolean",required:!0,label:Object(a.b)("Open Membership"),help:Object(a.b)("Allow organization members to freely join or leave any team")},{name:"eventsMemberAdmin",type:"boolean",label:Object(a.b)("Grant Members Events Admin"),help:Object(a.b)("Allow members to delete events (including the delete & discard action) by granting them the `event:admin` scope.")},{name:"attachmentsRole",type:"array",choices:function(e){var t,n,a=e.initialData,r=void 0===a?{}:a;return null!==(t=null==r?void 0:null===(n=r.availableRoles)||void 0===n?void 0:n.map((function(e){return[e.id,e.name]})))&&void 0!==t?t:[]},label:Object(a.b)("Attachments Access"),help:Object(a.b)("Permissions required to download event attachments, such as native crash reports or log files."),visible:function(e){return e.features.has("event-attachments")}}]}];t.default=o},2986:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n.n(a),i=n(10),o=n.n(i),c=n(11),s=n.n(c),l=n(12),u=n.n(l),b=n(13),f=n.n(b),d=n(6),p=n.n(d),g=n(8),h=n(1),v=n.n(h),m=n(199),O=n(31),j=n(388),y=n(3),w=n(622),z=n(639),R=n(1904),S=n(1725),A=n(1711),D=n(617),M=n(50),E=n(69),P=n(1712),q=n(2384),I=n(1727),N=n(1726),T=n(2086),G=n(0);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var C=function(e){u()(n,e);var t=k(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getEndpoints",value:function(){var e=this.props.organization;return[["authProvider","/organizations/".concat(e.slug,"/auth-provider/")]]}},{key:"render",value:function(){var e=this.props,t=e.initialData,n=e.organization,a=e.onSave,i=e.access,o=this.state.authProvider,c="/organizations/".concat(n.slug,"/"),s={additionalFieldProps:{hasSsoEnabled:!!o},features:new Set(n.features),access:i,location:this.props.location,disabled:!i.has("org:write")};return Object(G.f)(I.a,{"data-test-id":"organization-settings",apiMethod:"PUT",apiEndpoint:c,saveOnBlur:!0,allowUndo:!0,initialData:t,onSubmitSuccess:function(e,n){"function"==typeof a&&a(t,n.initialData)},onSubmitError:function(){return Object(O.a)("Unable to save change")}},Object(G.f)(N.a,r()({},s,{forms:T.default})),Object(G.f)(q.a,{type:"organization",allowGravatar:!1,endpoint:"".concat(c,"avatar/"),model:t,onSave:j.h,disabled:!i.has("org:write")}))}}]),n}(P.a);C.displayName="OrganizationSettingsForm";var F=Object(E.a)(C);function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var x=function(e){u()(n,e);var t=U(n);function n(){var e;o()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleRemoveOrganization=function(){var t=e.props,n=t.api,a=t.organization,r=t.params;a&&(Object(O.b)(),Object(j.e)(n,{orgId:r.orgId,successMessage:"".concat(a.name," is queued for deletion."),errorMessage:"Error removing the ".concat(a.name," organization")}))},e.handleSave=function(e,t){t.slug&&t.slug!==e.slug?(Object(j.a)(e,t),g.browserHistory.replace("/settings/".concat(t.slug,"/"))):Object(j.h)(t)},e}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.organization,n=e.params.orgId,a=new Set(t.access),i=t.projects&&!!t.projects.length;return Object(G.f)(v.a.Fragment,null,Object(G.f)(S.a,{title:Object(y.b)("General Settings"),objSlug:n}),Object(G.f)("div",null,Object(G.f)(A.a,{title:Object(y.b)("Organization Settings")}),Object(G.f)(R.a,null),Object(G.f)(F,r()({},this.props,{initialData:t,access:a,onSave:this.handleSave})),a.has("org:admin")&&!t.isDefault&&Object(G.f)(m.a,null,Object(G.f)(m.e,null,Object(y.b)("Remove Organization")),Object(G.f)(w.a,{label:Object(y.b)("Remove Organization"),help:Object(y.b)("Removing this organization will delete all data including projects and their associated events.")},Object(G.f)("div",null,Object(G.f)(z.a,{className:"btn btn-danger",priority:"danger",title:Object(y.b)("Remove %s organization",t&&t.name),message:Object(G.f)("div",null,Object(G.f)(D.a,null,Object(y.c)("Removing the organization, [name] is permanent and cannot be undone! Are you sure you want to continue?",{name:t&&Object(G.f)("strong",null,t.name)})),i&&Object(G.f)("div",null,Object(G.f)(D.a,{noMargin:!0},Object(y.b)("This will also remove the following associated projects:")),Object(G.f)("ul",{className:"ref-projects"},t.projects.map((function(e){return Object(G.f)("li",{key:e.slug},e.slug)}))))),onConfirm:this.handleRemoveOrganization},Object(y.b)("Remove Organization")))))))}}]),n}(v.a.Component);x.displayName="OrganizationGeneralSettings";t.default=Object(M.a)(Object(E.a)(x))}}]);
//# sourceMappingURL=OrganizationGeneralSettings.js.map