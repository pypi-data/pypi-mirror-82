(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[51],{1710:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n(10),s=n.n(r),a=n(11),i=n.n(a),c=n(12),o=n.n(c),l=n(13),u=n.n(l),f=n(6),p=n.n(f),h=n(278),d=n.n(h),v=(n(1),n(1712)),b=n(0);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var s=p()(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return u()(this,n)}}var y=function(t){o()(n,t);var e=x(n);function n(){return s()(this,n),e.apply(this,arguments)}return i()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var t=this.getTitle();return Object(b.f)(d.a,{title:"".concat(t?"".concat(t," - "):"","Sentry")},this.renderComponent())}}]),n}(v.a);y.displayName="AsyncView"},2957:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return N}));var r=n(10),s=n.n(r),a=n(11),i=n.n(a),c=n(12),o=n.n(c),l=n(13),u=n.n(l),f=n(6),p=n.n(f),h=(n(1),n(3)),d=n(1710),v=n(32),b=n.n(v),x=n(184),y=n(47),g=n(634),j=n(50),O=n(0),m=b()({displayName:"ApiChart",getInitialState:function(){return{error:!1,loading:!0,rawData:{"client-api.all-versions.responses.2xx":null,"client-api.all-versions.responses.4xx":null,"client-api.all-versions.responses.5xx":null}}},componentWillMount:function(){this.fetchData()},componentWillReceiveProps:function(t){this.props.since!==t.since&&this.setState(this.getInitialState(),this.fetchData)},fetchData:function(){var t=this;["client-api.all-versions.responses.2xx","client-api.all-versions.responses.4xx","client-api.all-versions.responses.5xx"].forEach((function(e){t.props.api.request("/internal/stats/",{method:"GET",data:{since:t.props.since,resolution:t.props.resolution,key:e},success:function(n){t.setState((function(t){var r=t.rawData;return r[e]=n,{rawData:r}}),t.requestFinished)},error:function(){t.setState({error:!0})}})}))},requestFinished:function(){var t=this.state.rawData;t["events.total"]&&t["events.dropped"]&&this.processOrgData(),t["client-api.all-versions.responses.2xx"]&&t["client-api.all-versions.responses.4xx"]&&t["client-api.all-versions.responses.5xx"]&&this.setState({loading:!1})},processRawSeries:function(t){return t.map((function(t){return{x:t[0],y:t[1]}}))},getChartSeries:function(){var t=this.state.rawData;return[{data:this.processRawSeries(t["client-api.all-versions.responses.4xx"]),color:"rgb(86, 175, 232)",shadowSize:0,label:"4xx"},{data:this.processRawSeries(t["client-api.all-versions.responses.5xx"]),color:"rgb(244, 63, 32)",label:"5xx"},{data:this.processRawSeries(t["client-api.all-versions.responses.2xx"]),color:"rgb(78, 222, 73)",label:"2xx"}]},render:function(){return this.state.loading?Object(O.f)(y.default,null):this.state.error?Object(O.f)(x.a,{onRetry:this.fetchData}):Object(O.f)(g.a,{series:this.getChartSeries(),height:150,className:"standard-barchart"})}}),D=Object(j.a)(m),S=b()({displayName:"eventChart",getInitialState:function(){return{error:!1,loading:!0,rawData:{"events.total":null,"events.dropped":null},stats:{received:[],rejected:[]},systemTotal:{received:0,rejected:0,accepted:0}}},componentWillMount:function(){this.fetchData()},componentWillReceiveProps:function(t){this.props.since!==t.since&&this.setState(this.getInitialState(),this.fetchData)},fetchData:function(){var t=this;["events.total","events.dropped"].forEach((function(e){t.props.api.request("/internal/stats/",{method:"GET",data:{since:t.props.since,resolution:t.props.resolution,key:e},success:function(n){t.setState((function(t){var r=t.rawData;return r[e]=n,{rawData:r}}),t.requestFinished)},error:function(){t.setState({error:!0})}})}))},requestFinished:function(){var t=this.state.rawData;t["events.total"]&&t["events.dropped"]&&this.processOrgData()},processOrgData:function(){var t=this.state.rawData,e=0,n=0,r={},s={},a=[0,0];t["events.total"].forEach((function(i,c){var o=i[1],l=t["events.dropped"][c][1],u=i[0];void 0===r[u]?(r[u]=o,s[u]=l):(r[u]+=o,s[u]+=l),e+=o,n+=l,o>0&&(a[0]+=o,a[1]+=1)})),this.setState({systemTotal:{received:e,rejected:n,accepted:e-n,avgRate:parseInt(a[0]/a[1]/60,10)},stats:{rejected:Object.keys(s).map((function(t){return{x:t,y:s[t]||null}})),accepted:Object.keys(r).map((function(t){return{x:t,y:r[t]-s[t]}}))},loading:!1})},getChartSeries:function(){var t=this.state.stats;return[{data:t.accepted,label:"Accepted",color:"rgba(86, 175, 232, 1)"},{data:t.rejected,color:"rgba(244, 63, 32, 1)",label:"Dropped"}]},render:function(){return this.state.loading?Object(O.f)(y.default,null):this.state.error?Object(O.f)(x.a,{onRetry:this.fetchData}):Object(O.f)(g.a,{series:this.getChartSeries(),height:150,className:"standard-barchart"})}}),w=Object(j.a)(S);function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var s=p()(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return u()(this,n)}}var N=function(t){o()(n,t);var e=R(n);function n(){return s()(this,n),e.apply(this,arguments)}return i()(n,[{key:"getTitle",value:function(){return"Admin Overview"}},{key:"getEndpoints",value:function(){return[]}},{key:"renderBody",value:function(){var t=(new Date).getTime()/1e3-604800;return Object(O.f)("div",null,Object(O.f)("h3",null,Object(h.b)("System Overview")),Object(O.f)("div",{className:"box"},Object(O.f)("div",{className:"box-header"},Object(O.f)("h4",null,Object(h.b)("Event Throughput"),Object(O.f)("span",{id:"rate",className:"pull-right"}))),Object(O.f)(w,{since:t,resolution:"1h"})),Object(O.f)("div",{className:"box"},Object(O.f)("div",{className:"box-header"},Object(O.f)("h4",null,Object(h.b)("API Responses"))),Object(O.f)(D,{since:t,resolution:"1h"})))}}]),n}(d.a)}}]);
//# sourceMappingURL=AdminOverview.js.map