(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[139],{1725:function(t,e,r){"use strict";r(1);var n=r(278),a=r.n(n),o=r(0),i=function(t){var e="".concat(t.title," - ").concat(t.objSlug," - Sentry");return Object(o.f)(a.a,{title:e},t.children)};i.displayName="SentryDocumentTitle",e.a=i},1746:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"c",(function(){return i})),r.d(e,"d",(function(){return c})),r.d(e,"b",(function(){return u}));var n=r(4),a=r(9),o=Object(n.a)("div",{target:"e1fmhx4f0",label:"ChartControls"})("display:flex;justify-content:space-between;padding:",Object(a.a)(1)," ",Object(a.a)(3),";border-top:1px solid ",(function(t){return t.theme.borderLight}),";"),i=Object(n.a)("h4",{target:"e1fmhx4f2",label:"SectionHeading"})("display:inline-grid;grid-auto-flow:column;grid-gap:",Object(a.a)(1),";align-items:center;color:",(function(t){return t.theme.gray600}),";font-size:",(function(t){return t.theme.fontSizeMedium}),";margin:",Object(a.a)(1)," 0;line-height:1.3;"),c=Object(n.a)("span",{target:"e1fmhx4f3",label:"SectionValue"})("color:",(function(t){return t.theme.gray600}),";font-size:",(function(t){return t.theme.fontSizeMedium}),";margin-right:",Object(a.a)(1),";"),u=Object(n.a)("div",{target:"e1fmhx4f4",label:"InlineContainer"})("display:flex;align-items:center;margin-right:",Object(a.a)(2),";> h4{margin-right:",Object(a.a)(1),";}&:last-child{margin-right:0;}")},1817:function(t,e,r){"use strict";r.d(e,"b",(function(){return f})),r.d(e,"f",(function(){return p})),r.d(e,"d",(function(){return b})),r.d(e,"c",(function(){return d})),r.d(e,"a",(function(){return O})),r.d(e,"e",(function(){return h}));var n=r(7),a=r.n(n),o=r(82),i=r(66),c=r(79);var u=r(53);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t){return"/organizations/".concat(t.slug,"/performance/")}function p(t){return String(Object(o.d)(t.query.query)||"").trim()}function b(t,e,r,n){return{pathname:"/organizations/".concat(t.slug,"/performance/").concat(e,"/"),query:s({},n,{transaction:r})}}function d(t){var e=t.organization,r=t.baselineEventSlug,n=t.regressionEventSlug,a=t.transaction,o=t.query;return{pathname:"/organizations/".concat(e.slug,"/performance/compare/").concat(r,"/").concat(n,"/"),query:s({},o,{transaction:a})}}function O(t){var e,r,n=null==i?void 0:null===(e=c.c())||void 0===e?void 0:null===(r=e.getScope())||void 0===r?void 0:r.getTransaction(),a=Object(u.p)(t.datetime.period,t.datetime.start,t.datetime.end),o=Math.floor(86400*a);null==n||n.setTag("statsPeriod",o.toString())}function h(t){var e=t.query.transaction;return Object(o.d)(e)}},1860:function(t,e,r){"use strict";var n=r(5),a=r.n(n),o=r(77),i=r.n(o),c=r(10),u=r.n(c),l=r(11),s=r.n(l),f=r(12),p=r.n(f),b=r(13),d=r.n(b),O=r(6),h=r.n(O),y=r(0),g=r(501),v=r.n(g),m=r(971),j=r.n(m),w=r(57),P=r.n(w),D=r(334),x=r.n(D),S=r(118),k=r.n(S),R=r(1),F=r.n(R),T=r(29),E=r(27),C=r(491),V=r(49),z=r(654),q=r(55),A=r(50),L=r(1891);function N(){var t=i()(["\n              max-height: 300px;\n              overflow-y: auto;\n            "]);return N=function(){return t},t}function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var a=h()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d()(this,r)}}var I=new RegExp("^".concat(T.z,"|\\").concat(T.C),"g"),W=function(t){p()(r,t);var e=M(r);function r(){var t;u()(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).getEventFieldValues=x()((function(e,r,n){var a,o=t.props,i=o.api,c=o.organization,u=null===(a=o.projectIds)||void 0===a?void 0:a.map(String);return Object(C.b)(i,c.slug,e.key,r,u,n,!0).then((function(t){return j()(t.filter((function(t){var e=t.name;return Object(E.d)(e)})).map((function(t){return t.name})))}),(function(){throw new Error("Unable to fetch event field values")}))}),(function(t,e){var r=t.key;return"".concat(r,"-").concat(e)})),t.prepareQuery=function(t){return t.replace(I,"")},t}return s()(r,[{key:"componentDidMount",value:function(){var t,e;null===(t=(e=this.getEventFieldValues.cache).clear)||void 0===t||t.call(e)}},{key:"componentDidUpdate",value:function(t){var e,r;P()(this.props.projectIds,t.projectIds)||(null===(e=(r=this.getEventFieldValues.cache).clear)||void 0===e||e.call(r))}},{key:"getTagList",value:function(){var t=this.props,e=t.fields,r=t.organization,n=t.tags,a=t.omitTags,o=e?Object.fromEntries(e.filter((function(t){return!Object.keys(q.c).includes(t.field)})).map((function(t){return[t.field,{key:t.field,name:t.field}]}))):{},i=r.features.includes("performance-view")?Object.assign({},q.c,o):k()(q.c,q.d),c=v()({},n,i);return c.has={key:"has",name:"Has property",values:Object.keys(c),predefined:!0},k()(c,null!=a?a:[])}},{key:"render",value:function(){var t=this,e=this.getTagList();return Object(y.f)(y.b,null,(function(r){var n=r.css;return Object(y.f)(z.a,a()({},t.props,{hasRecentSearches:!0,savedSearchType:V.e.EVENT,onGetTagValues:t.getEventFieldValues,supportedTags:e,prepareQuery:t.prepareQuery,excludeEnvironment:!0,dropdownClassName:n(N())}))}))}}]),r}(F.a.PureComponent);W.displayName="SearchBar",e.a=Object(A.a)(Object(L.a)(W))},1891:function(t,e,r){"use strict";var n=r(7),a=r.n(n),o=r(15),i=r.n(o),c=(r(1),r(23)),u=r.n(c),l=r(32),s=r.n(l),f=r(98),p=r(195),b=r(0);function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}e.a=function(t){return s()({displayName:"withTags(".concat(Object(f.a)(t),")"),mixins:[u.a.listenTo(p.a,"onTagsUpdate")],getInitialState:function(){return{tags:p.a.getAllTags()}},onTagsUpdate:function(t){this.setState({tags:t})},render:function(){var e=this.props,r=e.tags,n=i()(e,["tags"]);return Object(b.f)(t,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({tags:null!=r?r:this.state.tags},n))}})}},1894:function(t,e,r){"use strict";r.d(e,"b",(function(){return f})),r.d(e,"c",(function(){return p})),r.d(e,"e",(function(){return b})),r.d(e,"a",(function(){return d})),r.d(e,"d",(function(){return y})),r.d(e,"f",(function(){return g}));var n,a=r(26),o=r.n(a),i=r(7),c=r.n(i),u=r(3),l=r(55),s=r(25),f=100,p=.75,b=(n={},c()(n,l.e.FP,{slug:"fp",name:Object(u.b)("First Paint"),description:Object(u.b)("Render time of the first pixel loaded in the viewport (may overlap with FCP)."),failureThreshold:4e3,type:Object(l.n)(l.e.FP)}),c()(n,l.e.FCP,{slug:"fcp",name:Object(u.b)("First Contentful Paint"),description:Object(u.b)("Render time of the first image, text or other DOM node in the viewport."),failureThreshold:4e3,type:Object(l.n)(l.e.FCP)}),c()(n,l.e.LCP,{slug:"lcp",name:Object(u.b)("Largest Contentful Paint"),description:Object(u.b)("Render time of the largest image, text or other DOM node in the viewport."),failureThreshold:4e3,type:Object(l.n)(l.e.LCP)}),c()(n,l.e.FID,{slug:"fid",name:Object(u.b)("First Input Delay"),description:Object(u.b)("Response time of the browser to a user interaction (clicking, tapping, etc)."),failureThreshold:300,type:Object(l.n)(l.e.FID)}),c()(n,l.e.CLS,{slug:"cls",name:Object(u.b)("Cumulative Layout Shift"),description:Object(u.b)("The sum total of all individual layout shift scores for every unexpected layout shift that occurs during the entire lifespan of the page."),failureThreshold:.1,type:Object(l.n)(l.e.CLS)}),c()(n,l.e.TTFB,{slug:"ttfb",name:Object(u.b)("Time to First Byte"),description:Object(u.b)("The time that it takes for a user's browser to receive the first byte of page content."),failureThreshold:600,type:Object(l.n)(l.e.TTFB)}),c()(n,l.e.RequestTime,{slug:"ttfb.requesttime",name:Object(u.b)("Request Time"),description:Object(u.b)("Captures the time spent making the request and receiving the first byte of the response."),failureThreshold:600,type:Object(l.n)(l.e.TTFB)}),n),d=[{label:Object(u.b)("Exclude Outliers"),value:"exclude_outliers"},{label:Object(u.b)("View All"),value:"all"}],O=[[l.e.FP,l.e.FCP,l.e.LCP],[l.e.FID]],h=o()(s.a.charts.getColorPalette(O.reduce((function(t,e){return t+e.length}),0)-1)).reverse(),y=O.map((function(t){return{group:t,colors:h.splice(0,t.length)}})),g=O.reduce((function(t,e){return e.forEach((function(e){var r=b[e].slug;t.push("".concat(r,"Start")),t.push("".concat(r,"End"))})),t}),[])},1984:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(7),a=r.n(n);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({symbol:["none","none"]},t)}},2107:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r(7),a=r.n(n);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var i={type:"inside",zoomOnMouseWheel:"shift",throttle:50};function c(t){return t&&Array.isArray(t)?t:[function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},i,{},t)]}},2108:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r(7),a=r.n(n),o=r(15),i=r.n(o);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t){var e=t.dataZoom,r=i()(t,["dataZoom"]);return u({},e?{dataZoom:u({yAxisIndex:"none",title:{zoom:"zoom",back:"undo",restore:"reset"}},e)}:{},{},r)}function s(t,e){return u({right:0,top:0,itemSize:16,feature:l(e)},t)}},2152:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(7),a=r.n(n);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t)}},2939:function(t,e,r){"use strict";r.r(e);var n=r(26),a=r.n(n),o=r(7),i=r.n(o),c=r(10),u=r.n(c),l=r(11),s=r.n(l),f=r(12),p=r.n(f),b=r(13),d=r.n(b),O=r(6),h=r.n(O),y=r(4),g=r(1),v=r.n(g),m=r(8),j=r(76),w=r(140),P=r(682),D=r(628),x=r(627),S=r(1725),k=r(3),R=r(220),F=r(376),T=r(55),E=r(82),C=r(488),V=r(282),z=r(69),q=r(255),A=r(1894),L=r(30),N=r(1747),M=r(149),I=r(9),W=r(1860),B=r(332),H=r(199),_=r(1846),U=r(5),Q=r.n(U),Z=r(148),G=r.n(Z),J=r(57),K=r.n(J),Y=r(1822),X=r(2321);function $(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function tt(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t)}var et=r(1984),rt=r(2152),nt=r(1938),at=r(383),ot=r(668),it=r(97),ct=r(25),ut=r(1746),lt=Object(y.a)(H.f,{target:"e1nxvilv0",label:"Card"})({name:"1lczy7e",styles:"display:grid;grid-template-columns:325px minmax(100px,auto);padding:0;"}),st=Object(y.a)("div",{target:"e1nxvilv1",label:"CardSection"})("padding:",Object(I.a)(3),";"),ft=Object(y.a)(st,{target:"e1nxvilv2",label:"CardSummary"})("position:relative;border-right:1px solid ",(function(t){return t.theme.borderLight}),";grid-column:1/1;display:flex;flex-direction:column;justify-content:space-between;"),pt=Object(y.a)(ut.c,{target:"e1nxvilv3",label:"CardSectionHeading"})({name:"dpoqzr",styles:"margin:0px;"}),bt=Object(y.a)("div",{target:"e1nxvilv4",label:"Description"})("font-size:",(function(t){return t.theme.fontSizeMedium}),";color:",(function(t){return t.theme.gray600}),";"),dt=Object(y.a)("div",{target:"e1nxvilv5",label:"StatNumber"})({name:"idm3bz",styles:"font-size:32px;"}),Ot=r(1952),ht=r(0);function yt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var a=h()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d()(this,r)}}var mt=function(t){p()(r,t);var e=vt(r);function r(){var t;u()(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={refDataRect:null,refPixelRect:null},t.handleFinished=G()((function(e,r){var n=t.props.chartData,a=t.state.refDataRect;if(!(null===a||n.length<1)){var o=null===a?null:Object(Ot.a)(r,a);null===o||K()(o,t.state.refPixelRect)||t.setState({refPixelRect:o})}}),200,{leading:!0,trailing:!0,maxWait:1e3}),t.handleDataZoomCancelled=function(){},t}return s()(r,[{key:"getFormattedStatNumber",value:function(){var t=this.props,e=t.summary,r=t.vital.type;return null===e?"—":"duration"===r?Object(it.j)(e/1e3,2,!0):Object(it.g)(e,2)}},{key:"renderSummary",value:function(){var t=this.props,e=t.summary,r=t.vital,n=t.colors,a=t.eventView,o=t.organization,i=t.min,c=t.max,u=r.slug,l=r.name,s=r.description,f=r.failureThreshold,p="measurements.".concat(u),b=a.withColumns([{kind:"field",field:"transaction"},{kind:"field",field:"user.display"},{kind:"field",field:p}]).withSorts([{kind:"desc",field:p}]);if(void 0!==i||void 0!==c){var d,O=Object(C.c)(null!==(d=b.query)&&void 0!==d?d:"");void 0!==i&&O.addTagValues(p,[">=".concat(i)]),void 0!==c&&O.addTagValues(p,["<=".concat(c)]),b.query=Object(C.b)(O)}return Object(ht.f)(ft,null,Object(ht.f)(jt,{color:n[0]}),Object(ht.f)(pt,null,"".concat(l," (").concat(u.toUpperCase(),")"),null===e?null:e<f?Object(ht.f)(wt,{color:ct.a.purple500},Object(k.b)("pass")):Object(ht.f)(wt,{color:ct.a.red400},Object(k.b)("fail"))),Object(ht.f)(dt,null,this.getFormattedStatNumber()),Object(ht.f)(bt,null,s),Object(ht.f)("div",null,Object(ht.f)(nt.a,{size:"small",to:b.getResultsViewUrlTarget(o.slug)},Object(k.b)("Open in Discover"))))}},{key:"renderHistogram",value:function(){var t=this,e=this.props,r=e.location,n=e.colors,o=e.vital.slug,i=this.getTransformedData(),c={type:"category",truncate:!0,axisLabel:{margin:20},axisTick:{alignWithLabel:!0}},u=i.data.map((function(t){return t.value})),l={type:"value",max:u.length?Math.max.apply(Math,a()(u)):void 0,axisLabel:{color:ct.a.gray400,formatter:it.f}};return Object(ht.f)(X.a,{minZoomWidth:A.b,location:r,paramStart:"".concat(o,"Start"),paramEnd:"".concat(o,"End"),xAxisIndex:[0],buckets:this.computeBuckets(),onDataZoomCancelled:this.handleDataZoomCancelled},(function(e){return Object(ht.f)(Y.a,Q()({series:[i],xAxis:c,yAxis:l,colors:n,onFinished:t.handleFinished,grid:{left:Object(I.a)(3),right:Object(I.a)(3),top:Object(I.a)(3),bottom:Object(I.a)(1.5)}},e))}))}},{key:"bucketWidth",value:function(){var t=this.props.chartData;return t.length>=2?t[1].histogram-t[0].histogram:0}},{key:"computeBuckets",value:function(){var t=this.props.chartData,e=this.bucketWidth();return t.map((function(t){var r=t.histogram;return{start:r,end:r+e}}))}},{key:"getTransformedData",value:function(){var t=this.props,e=t.chartData,r=t.vital,n=this.bucketWidth(),a=e.map((function(t){var e=t.histogram,a=n>1?Math.ceil(e+n/2):e,o="duration"===r.type?function(t){if(t<=1e3)return Object(it.j)(t/1e3,2,!0);return Object(it.j)(t/1e3,3,!0)}(a):Object(it.g)(a,2).toLocaleString();return{value:t.count,name:o}})),o={seriesName:Object(k.b)("Count"),data:a};return this.drawBaselineValue(o),this.drawFailRegion(o),o}},{key:"drawBaselineValue",value:function(t){var e=this.props,r=e.chartData,n=e.summary;if(null!==n&&null!==this.state.refPixelRect){var o=Object(Ot.b)(r,this.bucketWidth(),n);if(null!==o&&-1!==o){var i=Object(Ot.d)({x:o-.5,y:0},this.state.refDataRect,this.state.refPixelRect);if(null!==i){var c=Object(Ot.d)({x:o-.5,y:Math.max.apply(Math,a()(r.map((function(t){return t.count}))))||1},this.state.refDataRect,this.state.refPixelRect);null!==c&&(t.markLine=Object(et.a)({data:[[i,c]],label:{show:!1},lineStyle:{color:ct.a.gray700,type:"solid"}}),t.markLine.tooltip={formatter:function(){return['<div class="tooltip-series tooltip-series-solo">','<span class="tooltip-label">',"<strong>".concat(Object(k.b)("Baseline"),"</strong>"),"</span>","</div>",'<div class="tooltip-arrow"></div>'].join("")}})}}}}},{key:"drawFailRegion",value:function(t){var e=this.props,r=e.chartData,n=e.vital,o=e.failureRate,i=n.failureThreshold;if(null!==this.state.refDataRect&&null!==this.state.refPixelRect){var c=Object(Ot.b)(r,this.bucketWidth(),i);if(null!==c){c=-1===c?0:c;var u=Object(Ot.d)({x:c-.5,y:0},this.state.refDataRect,this.state.refPixelRect);if(null!==u){t.markArea=tt({data:[[{x:u.x,yAxis:0},{x:"max",y:"max"}]],itemStyle:{color:"transparent",borderColor:ct.a.red400,borderWidth:1.5,borderType:"dashed"}}),t.markArea.tooltip={formatter:function(){return['<div class="tooltip-series tooltip-series-solo">','<span class="tooltip-label">',"<strong>",Object(k.b)("Fails threshold at %s.",Object(it.j)(i/1e3)),"</strong>","</span>","</div>",'<div class="tooltip-arrow"></div>'].join("")}};var l=Object(Ot.d)({x:r.length-.5,y:Math.max.apply(Math,a()(r.map((function(t){return t.count}))))||1},this.state.refDataRect,this.state.refPixelRect);null!==l&&(t.markPoint=Object(rt.a)({data:[{x:l.x-16,y:l.y+16}],itemStyle:{color:ct.a.red400},silent:!0,symbol:"path://".concat(ot.a),symbolKeepAspect:!0,symbolSize:[14,16],label:{formatter:Object(it.h)(o,0),position:"left"}}))}}}}},{key:"approxFailureRate",value:function(t){var e=this.props.chartData,r=e.slice(t).reduce((function(t,e){return t+e.count}),0),n=e.reduce((function(t,e){return t+e.count}),0);return 0===n?0:r/n}},{key:"render",value:function(){return Object(ht.f)(lt,null,this.renderSummary(),this.renderHistogram())}}],[{key:"getDerivedStateFromProps",value:function(t,e){var r=t.isLoading,n=t.error,a=t.chartData;if(r||null===n)return gt({},e);var o=Object(Ot.c)(a);return null===e.refDataRect||null!==o&&!K()(o,e.refDataRect)?gt({},e,{refDataRect:o}):gt({},e)}}]),r}(v.a.Component);mt.displayName="VitalCard";var jt=Object(y.a)("div",{target:"e1o7o5w00",label:"Indicator"})("position:absolute;top:20px;left:0px;width:6px;height:18px;border-radius:0 3px 3px 0;background-color:",(function(t){return t.color}),";"),wt=Object(y.a)(at.a,{target:"e1o7o5w01",label:"StyledTag"})("position:absolute;right:",Object(I.a)(3),";background-color:",(function(t){return t.color}),";color:",(function(t){return t.theme.white}),";");var Pt=mt,Dt=r(15),xt=r.n(Dt),St=r(118),kt=r.n(St),Rt=r(1880),Ft=r(50);function Tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Et(t){var e=t.measurements,r=t.numBuckets,n=t.min,a=t.max,o=t.dataFilter,i=t.eventView,c=t.location,u={measurement:e,num_buckets:r,min:n,max:a,dataFilter:o},l=kt()(i.getEventsAPIPayload(c),["field","sort","per_page"]);return Object.assign(u,l)}function Ct(t){t.clear()}function Vt(t,e){var r=t.data,n=e.measurements.reduce((function(t,e){return t["measurements.".concat(e)]=[],t}),{});return null==r||r.forEach((function(t){n["measurements.".concat(t.key)].push({histogram:t.bin,count:t.count})})),n}function zt(t){return Object(ht.f)(Rt.a,Q()({route:"events-measurements-histogram",getRequestPayload:Et,beforeFetch:Ct,afterFetch:Vt},kt()(t,"children")),(function(e){var r=e.tableData,n=xt()(e,["tableData"]);return t.children(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({histograms:r},n))}))}zt.displayName="MeasurementsHistogramQuery";var qt=Object(Ft.a)(zt);function At(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var a=h()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d()(this,r)}}var Lt=function(t){p()(r,t);var e=At(r);function r(){return u()(this,r),e.apply(this,arguments)}return s()(r,[{key:"renderVitalCard",value:function(t,e,r,n,a,o,i,c,u){var l=this.props,s=l.location,f=l.organization,p=l.eventView,b=l.dataFilter,d=A.e[t];return void 0!==c||void 0!==u?Object(ht.f)(qt,{location:s,orgSlug:f.slug,eventView:p,numBuckets:A.b,measurements:[d.slug],dataFilter:b,min:c,max:u},(function(o){var l,b;return Object(ht.f)(Pt,{location:s,isLoading:e||o.isLoading,error:r||null!==o.error,vital:d,summary:n,failureRate:a,chartData:null!==(l=null===(b=o.histograms)||void 0===b?void 0:b[t])&&void 0!==l?l:[],colors:i,eventView:p,organization:f,min:c,max:u})})):Object(ht.f)(Pt,{location:s,isLoading:e,error:r,vital:d,summary:n,failureRate:a,chartData:o,colors:i,eventView:p,organization:f})}},{key:"renderVitalGroup",value:function(t,e,r){var n=this,a=this.props,o=a.location,i=a.organization,c=a.eventView,u=a.dataFilter;return Object(ht.f)(qt,{location:o,orgSlug:i.slug,eventView:c,numBuckets:A.b,measurements:t.map((function(t){return A.e[t].slug})),dataFilter:u},(function(a){var i=e.isLoading||a.isLoading,c=null!==e.error||null!==a.error;return Object(ht.f)(v.a.Fragment,null,t.map((function(t,u){var l,s,f,p,b,d,O,h=A.e[t],y=h.slug,g=null===(l=e.tableData)||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:s[0],m=Object(T.k)("percentile(".concat(t,", ").concat(A.c,")")),j=null!==(f=null==g?void 0:g[m])&&void 0!==f?f:null,w=Object(T.k)("count_at_least(".concat(t,", 0)")),P=Object(T.k)("count_at_least(".concat(t,", ").concat(h.failureThreshold,")")),D=null!==(p=null==g?void 0:g[P])&&void 0!==p?p:0,x=null!==(b=null==g?void 0:g[w])&&void 0!==b?b:0,S=x<=0?0:D/x;return Object(ht.f)(v.a.Fragment,{key:t},n.renderVitalCard(t,i,c,j,S,null!==(d=null===(O=a.histograms)||void 0===O?void 0:O[t])&&void 0!==d?d:[],[r[u]],Object(E.d)(o.query["".concat(y,"Start")]),Object(E.d)(o.query["".concat(y,"End")])))})))}))}},{key:"render",value:function(){var t=this,e=this.props,r=e.location,n=e.organization,a=e.eventView;return Object(ht.f)(H.a,null,Object(ht.f)(_.a,{location:r,orgSlug:n.slug,eventView:a,limit:1},(function(e){return Object(ht.f)(v.a.Fragment,null,A.d.map((function(r){return Object(ht.f)(v.a.Fragment,{key:r.group.join("")},t.renderVitalGroup(r.group,e,r.colors))})))})))}}]),r}(v.a.Component);Lt.displayName="TransactionVitals";var Nt=Lt,Mt=r(2383);function It(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?It(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var a=h()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d()(this,r)}}var Ht=function(t){p()(r,t);var e=Bt(r);function r(){var t;u()(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={incompatibleAlertNotice:null},t.handleSearch=function(e){var r=t.props.location,n=Object(M.a)(Wt({},r.query||{},{query:e}));delete n.cursor,m.browserHistory.push({pathname:r.pathname,query:n})},t.handleIncompatibleQuery=function(e,r){var n=e((function(){return t.setState({incompatibleAlertNotice:null})}));t.setState({incompatibleAlertNotice:n})},t.handleResetView=function(){var e=t.props.location,r=Wt({},e.query);A.f.forEach((function(t){return delete r[t]})),m.browserHistory.push({pathname:e.pathname,query:r})},t.handleFilterChange=function(e){var r=t.props.location,n=Wt({},r.query,{cursor:void 0,dataFilter:e});A.f.forEach((function(t){return delete n[t]})),m.browserHistory.push({pathname:r.pathname,query:n})},t}return s()(r,[{key:"getActiveFilter",value:function(){var t=this.props.location,e=t.query.dataFilter?Object(E.d)(t.query.dataFilter):A.a[0].value;return A.a.find((function(t){return t.value===e}))||A.a[0]}},{key:"render",value:function(){var t=this,e=this.props,r=e.transactionName,n=e.location,a=e.eventView,o=e.projects,i=e.organization,c=this.state.incompatibleAlertNotice,u=Object(E.d)(n.query.query)||"",l=this.getActiveFilter(),s=A.f.map((function(t){return n.query[t]})).some((function(t){return void 0!==t}));return Object(ht.f)(v.a.Fragment,null,Object(ht.f)(Mt.b,{eventView:a,location:n,organization:i,projects:o,transactionName:r,currentTab:Mt.a.RealUserMonitoring,handleIncompatibleQuery:this.handleIncompatibleQuery}),Object(ht.f)(N.a,null,c&&Object(ht.f)(N.e,{fullWidth:!0},c),Object(ht.f)(N.e,{fullWidth:!0},Object(ht.f)(Ut,null,Object(ht.f)(_t,{organization:i,projectIds:a.project,query:u,fields:a.fields,onSearch:this.handleSearch}),Object(ht.f)(B.b,{buttonProps:{prefix:Object(k.b)("Filter")},label:l.label},A.a.map((function(e){var r=e.label,n=e.value;return Object(ht.f)(B.a,{key:n,onSelect:t.handleFilterChange,eventKey:n,isActive:n===l.value},r)}))),Object(ht.f)(L.a,{onClick:this.handleResetView,disabled:!s,"data-test-id":"reset-view"},Object(k.b)("Reset View"))),Object(ht.f)(Nt,{organization:i,location:n,eventView:a,dataFilter:l.value}))))}}]),r}(v.a.Component);Ht.displayName="RumContent";var _t=Object(y.a)(W.a,{target:"ehzdfti0",label:"StyledSearchBar"})({name:"i9gxme",styles:"flex-grow:1;"}),Ut=Object(y.a)("div",{target:"ehzdfti1",label:"StyledActions"})("display:grid;grid-gap:",Object(I.a)(2),";grid-template-columns:auto max-content max-content;align-items:center;margin-bottom:",Object(I.a)(3),";"),Qt=Ht,Zt=r(1817),Gt=r(1799);function Jt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Jt(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var a=h()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d()(this,r)}}var Xt=function(t){p()(r,t);var e=Yt(r);function r(){var t;u()(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={eventView:te(t.props.location,Object(Zt.e)(t.props.location))},t.renderNoAccess=function(){var e=t.props,r=e.router,n=e.organization,a=e.location;if(!n.features.includes("performance-view"))return Object(ht.f)(j.b,{type:"warning"},Object(k.b)("You don't have access to this feature"));var o=Object(Zt.e)(t.props.location);return o?Object(ht.f)(P.a,{router:r,to:Object(Gt.a)({orgSlug:n.slug,transaction:o,projectID:Object(E.d)(a.query.project),query:a.query})}):(m.browserHistory.replace({pathname:"/organizations/".concat(n.slug,"/performance/"),query:Kt({},a.query)}),null)},t}return s()(r,[{key:"getDocumentTitle",value:function(){var t=Object(Zt.e)(this.props.location);return"string"==typeof t&&String(t).trim().length>0?[String(t).trim(),Object(k.b)("RUM")].join(" — "):[Object(k.b)("Summary"),Object(k.b)("RUM")].join(" — ")}},{key:"render",value:function(){var t=this.props,e=t.organization,r=t.projects,n=t.location,a=this.state.eventView,o=Object(Zt.e)(n);return a&&void 0!==o?Object(ht.f)(S.a,{title:this.getDocumentTitle(),objSlug:e.slug},Object(ht.f)(w.a,{features:["measurements"],organization:e,renderDisabled:this.renderNoAccess},Object(ht.f)(x.a,null,Object(ht.f)($t,null,Object(ht.f)(D.a,{organization:e},Object(ht.f)(Qt,{location:n,eventView:a,transactionName:o,organization:e,projects:r})))))):(m.browserHistory.replace({pathname:"/organizations/".concat(e.slug,"/performance/"),query:Kt({},n.query)}),null)}}],[{key:"getDerivedStateFromProps",value:function(t,e){return Kt({},e,{eventView:te(t.location,Object(Zt.e)(t.location))})}}]),r}(v.a.Component);Xt.displayName="RealUserMonitoring";var $t=Object(y.a)(R.b,{target:"e1l6dami0",label:"StyledPageContent"})({name:"y8aj3r",styles:"padding:0;"});function te(t,e){if(void 0!==e){var r=Object(E.d)(t.query.query)||"",n=Object(C.c)(r);n.setTagValues("event.type",["transaction"]).setTagValues("transaction.op",["pageload"]).setTagValues("transaction",[e]),Object.keys(n.tagValues).forEach((function(t){Object(T.l)(t)&&n.removeTag(t)}));var o=A.d.reduce((function(t,e){return t.concat(e.group)}),[]);return F.a.fromNewQueryWithLocation({id:void 0,version:2,name:e,fields:[].concat(a()(o.map((function(t){return"percentile(".concat(t,", ").concat(A.c,")")}))),a()(o.map((function(t){return"count_at_least(".concat(t,", 0)")}))),a()(o.map((function(t){return"count_at_least(".concat(t,", ").concat(A.e[t].failureThreshold,")")})))),query:Object(C.b)(n),projects:[]},t)}}e.default=Object(V.a)(Object(q.a)(Object(z.a)(Xt)))}}]);
//# sourceMappingURL=PerformanceRealUserMonitoring.js.map