{"version":3,"sources":["webpack:///./app/views/asyncView.tsx","webpack:///./app/views/settings/components/settingsPageHeader.tsx","webpack:///./app/plugins/components/pluginIcon.tsx","webpack:///./images/logos/logo-default.svg","webpack:///./images/logos/logo-sentry.svg","webpack:///./images/logos/logo-amixr.svg","webpack:///./images/logos/logo-asana.svg","webpack:///./images/logos/logo-asayer.svg","webpack:///./images/logos/logo-aws.svg","webpack:///./images/logos/logo-bitbucket.svg","webpack:///./images/logos/logo-bitbucket-server.svg","webpack:///./images/logos/logo-campfire.svg","webpack:///./images/logos/logo-clickup.svg","webpack:///./images/logos/logo-clubhouse.svg","webpack:///./images/logos/logo-datadog.svg","webpack:///./images/logos/logo-flowdock.svg","webpack:///./images/logos/logo-fullstory.svg","webpack:///./images/logos/logo-github.svg","webpack:///./images/logos/logo-github-actions.svg","webpack:///./images/logos/logo-github-enterprise.svg","webpack:///./images/logos/logo-gitlab.svg","webpack:///./images/logos/logo-heroku.svg","webpack:///./images/logos/logo-jira.svg","webpack:///./images/logos/logo-jira-server.svg","webpack:///./images/logos/logo-lighthouse.svg","webpack:///./images/logos/logo-linear.svg","webpack:///./images/logos/logo-msteams.svg","webpack:///./images/logos/logo-netlify.svg","webpack:///./images/logos/logo-opsgenie.svg","webpack:///./images/logos/logo-pagerduty.svg","webpack:///./images/logos/logo-phabricator.svg","webpack:///./images/logos/logo-pivotaltracker.svg","webpack:///./images/logos/logo-pushover.svg","webpack:///./images/logos/logo-redmine.svg","webpack:///./images/logos/logo-rocketchat.svg","webpack:///./images/logos/logo-rookout.svg","webpack:///./images/logos/logo-segment.svg","webpack:///./images/logos/logo-slack.svg","webpack:///./images/logos/logo-split.svg","webpack:///./images/logos/logo-taiga.svg","webpack:///./images/logos/logo-teamwork.svg","webpack:///./images/logos/logo-trello.svg","webpack:///./images/logos/logo-twilio.svg","webpack:///./images/logos/logo-visualstudio.svg","webpack:///./images/logos/logo-azure.svg","webpack:///./images/logos/logo-youtrack.svg","webpack:///./images/logos/logo-vercel.svg","webpack:///./images/logos/logo-victorops.svg","webpack:///./images/logos/logo-zulip.svg","webpack:///./app/actionCreators/plugins.tsx","webpack:///./app/actions/pluginActions.tsx","webpack:///./app/components/pluginConfig.jsx","webpack:///./app/stores/pluginsStore.jsx","webpack:///./app/utils/withPlugins.tsx","webpack:///./app/views/settings/projectPlugins/constants.tsx","webpack:///./app/views/settings/projectPlugins/details.jsx"],"names":["AsyncView","title","this","getTitle","renderComponent","AsyncComponent","SettingsPageHeading","props","icon","action","tabs","noTitleStyles","TitleAndActions","Icon","Title","styled","Action","React","Component","defaultProps","p","space","StyledSettingsPageHeading","DEFAULT_ICON","placeholder","ICON_PATHS","_default","sentry","browsers","device","interface_types","os","urls","webhooks","aws","amixr","asana","asayer","bitbucket","bitbucket_pipelines","bitbucket_server","bitbucketserver","campfire","clickup","clubhouse","datadog","flowdock","fullstory","github","github_actions","githubActions","github_enterprise","githubEnterprise","gitlab","heroku","jira","jira_server","jiraserver","lighthouse","linear","msteams","netlify","opsgenie","pagerduty","phabricator","pivotal","pushover","redmine","rocketchat","rookout","segment","slack","split","taiga","teamwork","trello","twilio","visualstudio","vsts","youtrack","vercel","victorops","zulip","PluginIcon","size","pluginId","undefined","propTypes","PropTypes","string","number","module","exports","activeFetch","api","Client","doUpdate","orgId","projectId","update","params","PluginActions","request","requestPromise","then","updateSuccess","resp","err","responseJSON","detail","Error","updateError","fetchPlugins","options","path","fetchAll","method","includeAllArgs","data","jqXHR","fetchAllSuccess","pageLinks","getResponseHeader","fetchAllError","enablePlugin","addLoadingMessage","t","enabled","addSuccessMessage","addErrorMessage","disablePlugin","Reflux","createActions","PluginConfig","state","loading","plugins","isLoaded","testResults","handleDisablePlugin","onDisablePlugin","handleTestPlugin","a","setState","getPluginEndpoint","test","JSON","stringify","loadPlugin","nextProps","nextState","isEqual","load","organization","project","slug","id","__html","doc","className","data-test-id","hasButtons","PluginName","StyledPluginIcon","name","canDisable","Actions","isTestable","TestPluginButton","onClick","status","type","StyledPanelBody","dangerouslySetInnerHTML","createMarkup","get","renderSettings","withApi","Button","PanelBody","PluginsStore","createStore","getInitialState","getState","Array","from","values","init","reset","listenTo","onFetchAll","onFetchAllSuccess","onFetchAllError","onUpdate","onUpdateSuccess","onUpdateError","error","updating","Map","triggerState","trigger","resetLoading","map","plugin","updateObj","newPlugin","set","_updateObj","origPlugin","withPlugins","WrappedComponent","withOrganization","withProject","createReactClass","displayName","getDisplayName","mixins","connect","componentDidMount","componentDidUpdate","prevProps","_prevState","prevContext","prevOrg","prevProject","defined","isOrgSame","isProjectSame","render","store","DEPRECATED_PLUGINS","ProjectPluginDetails","handleReset","trackIntegrationEvent","eventKey","eventName","integration","integration_type","view","project_id","success","pluginDetails","handleEnable","analyticsChangeEnableStatus","handleDisable","arguments","recordDetailsViewed","value","find","getEnabled","disabled","includes","enable","style","marginRight","disable","priority","toggleEnable","renderActions","author","url","href","trimSchema","version","description","resourceLinks","key"],"mappings":"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","file":"ProjectPluginDetails.js","sourcesContent":["import DocumentTitle from 'react-document-title';\nimport React from 'react';\n\nimport AsyncComponent from 'app/components/asyncComponent';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    const title = this.getTitle();\n    return (\n      <DocumentTitle title={`${title ? `${title} - ` : ''}Sentry`}>\n        {this.renderComponent()}\n      </DocumentTitle>\n    );\n  }\n}\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from '@emotion/styled';\n\nimport space from 'app/styles/space';\nimport {HeaderTitle} from 'app/styles/organization';\n\ntype Props = {\n  // The title\n  title: React.ReactNode;\n\n  // Disables font styles in the title. Allows for more custom titles.\n  noTitleStyles?: boolean;\n\n  className?: string;\n\n  // Icon left of title\n  icon?: React.ReactNode;\n\n  // Actions on opposite end of title bar from the title\n  action?: React.ReactNode;\n\n  tabs?: React.ReactNode;\n};\n\nclass SettingsPageHeading extends React.Component<Props> {\n  static propTypes = {\n    icon: PropTypes.node,\n    title: PropTypes.node.isRequired,\n    action: PropTypes.node,\n    tabs: PropTypes.node,\n    // Disables font styles in the title. Allows for more custom titles.\n    noTitleStyles: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    noTitleStyles: false,\n  };\n\n  render() {\n    const {icon, title, action, tabs, noTitleStyles, ...props} = this.props;\n    return (\n      <div {...props}>\n        <TitleAndActions>\n          {icon && <Icon>{icon}</Icon>}\n          {title && (\n            <Title tabs={tabs} styled={noTitleStyles}>\n              <HeaderTitle>{title}</HeaderTitle>\n            </Title>\n          )}\n          {action && <Action tabs={tabs}>{action}</Action>}\n        </TitleAndActions>\n\n        {tabs && <div>{tabs}</div>}\n      </div>\n    );\n  }\n}\n\ntype TitleProps = {\n  styled?: boolean;\n  tabs?: React.ReactNode;\n};\n\nconst TitleAndActions = styled('div')`\n  display: flex;\n  align-items: center;\n`;\n\nconst Title = styled('div')<TitleProps & React.HTMLProps<HTMLDivElement>>`\n  ${p =>\n    !p.styled &&\n    `\n    font-size: 20px;\n    font-weight: bold;`};\n  margin: ${p =>\n    p.tabs\n      ? `${space(4)} ${space(2)} ${space(2)} 0`\n      : `${space(4)} ${space(2)} ${space(4)} 0`};\n  flex: 1;\n`;\n\nconst Icon = styled('div')`\n  margin-right: ${space(1)};\n`;\n\nconst Action = styled('div')<{tabs?: React.ReactNode}>`\n  ${p => (p.tabs ? `margin-top: ${space(2)}` : null)};\n`;\n\nconst StyledSettingsPageHeading = styled(SettingsPageHeading)<\n  Omit<React.HTMLProps<HTMLDivElement>, keyof Props> & Props\n>`\n  font-size: 14px;\n  margin-top: -${space(4)};\n`;\n\nexport default StyledSettingsPageHeading;\n","import PropTypes from 'prop-types';\nimport styled from '@emotion/styled';\n\nimport placeholder from 'app/../images/logos/logo-default.svg';\nimport sentry from 'app/../images/logos/logo-sentry.svg';\nimport amixr from 'app/../images/logos/logo-amixr.svg';\nimport asana from 'app/../images/logos/logo-asana.svg';\nimport asayer from 'app/../images/logos/logo-asayer.svg';\nimport aws from 'app/../images/logos/logo-aws.svg';\nimport bitbucket from 'app/../images/logos/logo-bitbucket.svg';\nimport bitbucketserver from 'app/../images/logos/logo-bitbucket-server.svg';\nimport campfire from 'app/../images/logos/logo-campfire.svg';\nimport clickup from 'app/../images/logos/logo-clickup.svg';\nimport clubhouse from 'app/../images/logos/logo-clubhouse.svg';\nimport datadog from 'app/../images/logos/logo-datadog.svg';\nimport flowdock from 'app/../images/logos/logo-flowdock.svg';\nimport fullstory from 'app/../images/logos/logo-fullstory.svg';\nimport github from 'app/../images/logos/logo-github.svg';\nimport githubActions from 'app/../images/logos/logo-github-actions.svg';\nimport githubEnterprise from 'app/../images/logos/logo-github-enterprise.svg';\nimport gitlab from 'app/../images/logos/logo-gitlab.svg';\nimport heroku from 'app/../images/logos/logo-heroku.svg';\nimport jira from 'app/../images/logos/logo-jira.svg';\nimport jiraserver from 'app/../images/logos/logo-jira-server.svg';\nimport lighthouse from 'app/../images/logos/logo-lighthouse.svg';\nimport linear from 'app/../images/logos/logo-linear.svg';\nimport msteams from 'app/../images/logos/logo-msteams.svg';\nimport netlify from 'app/../images/logos/logo-netlify.svg';\nimport opsgenie from 'app/../images/logos/logo-opsgenie.svg';\nimport pagerduty from 'app/../images/logos/logo-pagerduty.svg';\nimport phabricator from 'app/../images/logos/logo-phabricator.svg';\nimport pivotal from 'app/../images/logos/logo-pivotaltracker.svg';\nimport pushover from 'app/../images/logos/logo-pushover.svg';\nimport redmine from 'app/../images/logos/logo-redmine.svg';\nimport rocketchat from 'app/../images/logos/logo-rocketchat.svg';\nimport rookout from 'app/../images/logos/logo-rookout.svg';\nimport segment from 'app/../images/logos/logo-segment.svg';\nimport slack from 'app/../images/logos/logo-slack.svg';\nimport split from 'app/../images/logos/logo-split.svg';\nimport taiga from 'app/../images/logos/logo-taiga.svg';\nimport teamwork from 'app/../images/logos/logo-teamwork.svg';\nimport trello from 'app/../images/logos/logo-trello.svg';\nimport twilio from 'app/../images/logos/logo-twilio.svg';\nimport visualstudio from 'app/../images/logos/logo-visualstudio.svg';\nimport vsts from 'app/../images/logos/logo-azure.svg';\nimport youtrack from 'app/../images/logos/logo-youtrack.svg';\nimport vercel from 'app/../images/logos/logo-vercel.svg';\nimport victorops from 'app/../images/logos/logo-victorops.svg';\nimport zulip from 'app/../images/logos/logo-zulip.svg';\n\n// Map of plugin id -> logo filename\nexport const DEFAULT_ICON = placeholder;\nexport const ICON_PATHS = {\n  _default: DEFAULT_ICON,\n  sentry,\n  browsers: sentry,\n  device: sentry,\n  interface_types: sentry,\n  os: sentry,\n  urls: sentry,\n  webhooks: sentry,\n\n  'amazon-sqs': aws,\n  amixr,\n  asana,\n  asayer,\n  bitbucket,\n  bitbucket_pipelines: bitbucket,\n  bitbucket_server: bitbucketserver,\n  campfire,\n  clickup,\n  clubhouse,\n  datadog,\n  flowdock,\n  fullstory,\n  github,\n  github_actions: githubActions,\n  github_enterprise: githubEnterprise,\n  gitlab,\n  heroku,\n  jira,\n  'jira-atlassian-connect': jira,\n  'jira-ac': jira,\n  jira_server: jiraserver,\n  lighthouse,\n  linear,\n  msteams,\n  netlify,\n  opsgenie,\n  pagerduty,\n  phabricator,\n  pivotal,\n  pushover,\n  redmine,\n  rocketchat,\n  rookout,\n  segment,\n  slack,\n  split,\n  taiga,\n  teamwork,\n  trello,\n  twilio,\n  visualstudio,\n  vsts,\n  youtrack,\n  vercel,\n  victorops,\n  zulip,\n};\n\ntype Props = {\n  pluginId?: string;\n  size?: number;\n};\n\nconst PluginIcon = styled('div')<Props>`\n  position: relative;\n  height: ${p => p.size}px;\n  width: ${p => p.size}px;\n  border-radius: 2px;\n  border: 0;\n  display: inline-block;\n  background-size: contain;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-image: url(${({pluginId}) =>\n    (pluginId !== undefined && ICON_PATHS[pluginId]) || DEFAULT_ICON});\n`;\n\nPluginIcon.defaultProps = {\n  pluginId: '_default',\n  size: 20,\n};\n\nPluginIcon.propTypes = {\n  pluginId: PropTypes.string,\n  size: PropTypes.number,\n};\n\nexport default PluginIcon;\n","module.exports = __webpack_public_path__ + \"logo-default.8150ae.svg\";","module.exports = __webpack_public_path__ + \"logo-sentry.153773.svg\";","module.exports = __webpack_public_path__ + \"logo-amixr.44700c.svg\";","module.exports = __webpack_public_path__ + \"logo-asana.4b9761.svg\";","module.exports = __webpack_public_path__ + \"logo-asayer.54bf9f.svg\";","module.exports = __webpack_public_path__ + \"logo-aws.4db55a.svg\";","module.exports = __webpack_public_path__ + \"logo-bitbucket.e085f1.svg\";","module.exports = __webpack_public_path__ + \"logo-bitbucket-server.a96954.svg\";","module.exports = __webpack_public_path__ + \"logo-campfire.18b13b.svg\";","module.exports = __webpack_public_path__ + \"logo-clickup.09adc7.svg\";","module.exports = __webpack_public_path__ + \"logo-clubhouse.3851be.svg\";","module.exports = __webpack_public_path__ + \"logo-datadog.31e1a3.svg\";","module.exports = __webpack_public_path__ + \"logo-flowdock.c9a31d.svg\";","module.exports = __webpack_public_path__ + \"logo-fullstory.b94255.svg\";","module.exports = __webpack_public_path__ + \"logo-github.53b0f1.svg\";","module.exports = __webpack_public_path__ + \"logo-github-actions.1b3a17.svg\";","module.exports = __webpack_public_path__ + \"logo-github-enterprise.c7994c.svg\";","module.exports = __webpack_public_path__ + \"logo-gitlab.9e3a4c.svg\";","module.exports = __webpack_public_path__ + \"logo-heroku.464159.svg\";","module.exports = __webpack_public_path__ + \"logo-jira.e5075f.svg\";","module.exports = __webpack_public_path__ + \"logo-jira-server.f8a5de.svg\";","module.exports = __webpack_public_path__ + \"logo-lighthouse.ce2190.svg\";","module.exports = __webpack_public_path__ + \"logo-linear.ae13a6.svg\";","module.exports = __webpack_public_path__ + \"logo-msteams.701683.svg\";","module.exports = __webpack_public_path__ + \"logo-netlify.c4ca8e.svg\";","module.exports = __webpack_public_path__ + \"logo-opsgenie.d768de.svg\";","module.exports = __webpack_public_path__ + \"logo-pagerduty.bc44db.svg\";","module.exports = __webpack_public_path__ + \"logo-phabricator.0c74a0.svg\";","module.exports = __webpack_public_path__ + \"logo-pivotaltracker.d31ffb.svg\";","module.exports = __webpack_public_path__ + \"logo-pushover.18df03.svg\";","module.exports = __webpack_public_path__ + \"logo-redmine.f62150.svg\";","module.exports = __webpack_public_path__ + \"logo-rocketchat.1f1636.svg\";","module.exports = __webpack_public_path__ + \"logo-rookout.4624c8.svg\";","module.exports = __webpack_public_path__ + \"logo-segment.0e616d.svg\";","module.exports = __webpack_public_path__ + \"logo-slack.895972.svg\";","module.exports = __webpack_public_path__ + \"logo-split.ab753a.svg\";","module.exports = __webpack_public_path__ + \"logo-taiga.21e125.svg\";","module.exports = __webpack_public_path__ + \"logo-teamwork.b3cc63.svg\";","module.exports = __webpack_public_path__ + \"logo-trello.eb7a54.svg\";","module.exports = __webpack_public_path__ + \"logo-twilio.9ba49d.svg\";","module.exports = __webpack_public_path__ + \"logo-visualstudio.b4a03e.svg\";","module.exports = __webpack_public_path__ + \"logo-azure.9b9f83.svg\";","module.exports = __webpack_public_path__ + \"logo-youtrack.d171d3.svg\";","module.exports = __webpack_public_path__ + \"logo-vercel.104c17.svg\";","module.exports = __webpack_public_path__ + \"logo-victorops.b62ffa.svg\";","module.exports = __webpack_public_path__ + \"logo-zulip.c07c6e.svg\";","import {Client, RequestOptions} from 'app/api';\nimport {\n  addErrorMessage,\n  addLoadingMessage,\n  addSuccessMessage,\n} from 'app/actionCreators/indicator';\nimport {t} from 'app/locale';\nimport PluginActions from 'app/actions/pluginActions';\nimport {Plugin} from 'app/types';\n\nconst activeFetch = {};\n// PluginsStore always exists, so api client should be independent of component lifecycle\nconst api = new Client();\n\ntype Slugs = {\n  /**\n   * Organization slug\n   */\n  orgId: string;\n\n  /**\n   * Project slug\n   */\n  projectId: string;\n\n  /**\n   * Plugin slug\n   */\n  pluginId: string;\n};\n\ntype DoUpdateParams = Slugs & {\n  update: Partial<Plugin>;\n} & Partial<RequestOptions>;\n\nfunction doUpdate({orgId, projectId, pluginId, update, ...params}: DoUpdateParams) {\n  PluginActions.update(pluginId, update);\n  const request = api.requestPromise(\n    `/projects/${orgId}/${projectId}/plugins/${pluginId}/`,\n    {\n      ...params,\n    }\n  );\n\n  // This is intentionally not chained because we want the unhandled promise to be returned\n  request\n    .then(() => {\n      PluginActions.updateSuccess(pluginId, update);\n    })\n    .catch(resp => {\n      const err =\n        resp && resp.responseJSON && typeof resp.responseJSON.detail === 'string'\n          ? new Error(resp.responseJSON.detail)\n          : new Error('Unable to update plugin');\n      PluginActions.updateError(pluginId, update, err);\n    });\n\n  return request;\n}\n\ntype FetchPluginsOptions = {\n  /**\n   * Reset will set loading state = true\n   */\n  resetLoading?: boolean;\n};\n\n/**\n * Fetches list of available plugins for a project\n */\nexport function fetchPlugins(\n  {orgId, projectId}: Pick<Slugs, 'orgId' | 'projectId'>,\n  options?: FetchPluginsOptions\n) {\n  const path = `/projects/${orgId}/${projectId}/plugins/`;\n\n  // Make sure we throttle fetches\n  if (activeFetch[path]) {\n    return activeFetch[path];\n  }\n\n  PluginActions.fetchAll(options);\n  const request = api.requestPromise(path, {\n    method: 'GET',\n    includeAllArgs: true,\n  });\n\n  activeFetch[path] = request;\n\n  // This is intentionally not chained because we want the unhandled promise to be returned\n  request\n    .then(([data, _, jqXHR]) => {\n      PluginActions.fetchAllSuccess(data, {\n        pageLinks: jqXHR && jqXHR.getResponseHeader('Link'),\n      });\n\n      return data;\n    })\n    .catch(err => {\n      PluginActions.fetchAllError(err);\n      throw new Error('Unable to fetch plugins');\n    })\n    .then(() => (activeFetch[path] = null));\n\n  return request;\n}\n\ntype EnableDisablePluginParams = Slugs;\n\n/**\n * Enables a plugin\n */\nexport function enablePlugin(params: EnableDisablePluginParams) {\n  addLoadingMessage(t('Enabling...'));\n  return doUpdate({...params, update: {enabled: true}, method: 'POST'})\n    .then(() => addSuccessMessage(t('Plugin was enabled')))\n    .catch(() => addErrorMessage(t('Unable to enable plugin')));\n}\n\n/**\n * Disables a plugin\n */\nexport function disablePlugin(params: EnableDisablePluginParams) {\n  addLoadingMessage(t('Disabling...'));\n  return doUpdate({...params, update: {enabled: false}, method: 'DELETE'})\n    .then(() => addSuccessMessage(t('Plugin was disabled')))\n    .catch(() => addErrorMessage(t('Unable to disable plugin')));\n}\n","import Reflux from 'reflux';\n\nconst PluginActions = Reflux.createActions([\n  'update',\n  'updateError',\n  'updateSuccess',\n  'fetchAll',\n  'fetchAllSuccess',\n  'fetchAllError',\n]);\n\nexport default PluginActions;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport isEqual from 'lodash/isEqual';\nimport styled from '@emotion/styled';\n\nimport {Panel, PanelAlert, PanelBody, PanelHeader} from 'app/components/panels';\nimport {\n  addErrorMessage,\n  addLoadingMessage,\n  addSuccessMessage,\n} from 'app/actionCreators/indicator';\nimport {t} from 'app/locale';\nimport Button from 'app/components/button';\nimport LoadingIndicator from 'app/components/loadingIndicator';\nimport PluginIcon from 'app/plugins/components/pluginIcon';\nimport plugins from 'app/plugins';\nimport space from 'app/styles/space';\nimport withApi from 'app/utils/withApi';\n\nclass PluginConfig extends React.Component {\n  static propTypes = {\n    api: PropTypes.object,\n    organization: PropTypes.object.isRequired,\n    project: PropTypes.object.isRequired,\n    data: PropTypes.object.isRequired,\n    onDisablePlugin: PropTypes.func,\n    enabled: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    onDisablePlugin: () => {},\n  };\n\n  state = {\n    loading: !plugins.isLoaded(this.props.data),\n    testResults: '',\n  };\n\n  componentDidMount() {\n    this.loadPlugin(this.props.data);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this.loadPlugin(nextProps.data);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return !isEqual(nextState, this.state) || !isEqual(nextProps.data, this.props.data);\n  }\n\n  loadPlugin(data) {\n    this.setState(\n      {\n        loading: true,\n      },\n      () => {\n        plugins.load(data, () => {\n          this.setState({loading: false});\n        });\n      }\n    );\n  }\n\n  getPluginEndpoint() {\n    const {organization, project, data} = this.props;\n    return `/projects/${organization.slug}/${project.slug}/plugins/${data.id}/`;\n  }\n\n  handleDisablePlugin = () => {\n    this.props.onDisablePlugin(this.props.data);\n  };\n\n  handleTestPlugin = async () => {\n    this.setState({testResults: ''});\n    addLoadingMessage(t('Sending test...'));\n\n    try {\n      const data = await this.props.api.requestPromise(this.getPluginEndpoint(), {\n        method: 'POST',\n        data: {\n          test: true,\n        },\n      });\n\n      this.setState({testResults: JSON.stringify(data.detail)});\n      addSuccessMessage(t('Test Complete!'));\n    } catch (_err) {\n      addErrorMessage(\n        t('An unexpected error occurred while testing your plugin. Please try again.')\n      );\n    }\n  };\n\n  createMarkup() {\n    return {__html: this.props.data.doc};\n  }\n\n  render() {\n    const {data} = this.props;\n    // If passed via props, use that value instead of from `data`\n    const enabled =\n      typeof this.props.enabled !== 'undefined' ? this.props.enabled : data.enabled;\n\n    return (\n      <Panel\n        className={`plugin-config ref-plugin-config-${data.id}`}\n        data-test-id=\"plugin-config\"\n      >\n        <PanelHeader hasButtons>\n          <PluginName>\n            <StyledPluginIcon pluginId={data.id} />\n            <span>{data.name}</span>\n          </PluginName>\n\n          {data.canDisable && enabled && (\n            <Actions>\n              {data.isTestable && (\n                <TestPluginButton onClick={this.handleTestPlugin} size=\"small\">\n                  {t('Test Plugin')}\n                </TestPluginButton>\n              )}\n              <Button size=\"small\" onClick={this.handleDisablePlugin}>\n                {t('Disable')}\n              </Button>\n            </Actions>\n          )}\n        </PanelHeader>\n\n        {data.status === 'beta' && (\n          <PanelAlert type=\"warning\">\n            {t('This plugin is considered beta and may change in the future.')}\n          </PanelAlert>\n        )}\n\n        {this.state.testResults !== '' && (\n          <PanelAlert type=\"info\">\n            <strong>Test Results</strong>\n            <div>{this.state.testResults}</div>\n          </PanelAlert>\n        )}\n\n        <StyledPanelBody>\n          <div dangerouslySetInnerHTML={this.createMarkup()} />\n          {this.state.loading ? (\n            <LoadingIndicator />\n          ) : (\n            plugins.get(data).renderSettings({\n              organization: this.props.organization,\n              project: this.props.project,\n            })\n          )}\n        </StyledPanelBody>\n      </Panel>\n    );\n  }\n}\n\nexport {PluginConfig};\nexport default withApi(PluginConfig);\n\nconst PluginName = styled('div')`\n  display: flex;\n  align-items: center;\n  flex: 1;\n`;\n\nconst StyledPluginIcon = styled(PluginIcon)`\n  margin-right: ${space(1)};\n`;\n\nconst Actions = styled('div')`\n  display: flex;\n`;\nconst TestPluginButton = styled(Button)`\n  margin-right: ${space(1)};\n`;\n\nconst StyledPanelBody = styled(PanelBody)`\n  padding: ${space(2)};\n  padding-bottom: 0;\n`;\n","import Reflux from 'reflux';\n\nimport PluginActions from 'app/actions/pluginActions';\n\nconst PluginsStore = Reflux.createStore({\n  getInitialState() {\n    return this.getState();\n  },\n\n  getState() {\n    const {plugins: _plugins, ...state} = this.state;\n\n    return {\n      ...state,\n      plugins: this.plugins ? Array.from(this.plugins.values()) : [],\n    };\n  },\n\n  init() {\n    this.reset();\n    this.listenTo(PluginActions.fetchAll, this.onFetchAll);\n    this.listenTo(PluginActions.fetchAllSuccess, this.onFetchAllSuccess);\n    this.listenTo(PluginActions.fetchAllError, this.onFetchAllError);\n    this.listenTo(PluginActions.update, this.onUpdate);\n    this.listenTo(PluginActions.updateSuccess, this.onUpdateSuccess);\n    this.listenTo(PluginActions.updateError, this.onUpdateError);\n  },\n\n  reset() {\n    this.plugins = null;\n    this.state = {\n      loading: true,\n      plugins: [],\n      error: null,\n      pageLinks: null,\n    };\n    this.updating = new Map();\n    return this.state;\n  },\n\n  triggerState() {\n    this.trigger(this.getState());\n  },\n\n  onFetchAll({resetLoading} = {}) {\n    if (resetLoading) {\n      this.state.loading = true;\n      this.state.error = null;\n      this.plugins = null;\n    }\n\n    this.triggerState();\n  },\n\n  onFetchAllSuccess(data, {pageLinks}) {\n    this.plugins = new Map(data.map(plugin => [plugin.id, plugin]));\n    this.state.pageLinks = pageLinks;\n    this.state.loading = false;\n    this.triggerState();\n  },\n\n  onFetchAllError(err) {\n    this.plugins = null;\n    this.state.loading = false;\n    this.state.error = err;\n    this.triggerState();\n  },\n\n  onUpdate(id, updateObj) {\n    if (!this.plugins) {\n      return;\n    }\n\n    const plugin = this.plugins.get(id);\n    const newPlugin = {\n      ...plugin,\n      ...updateObj,\n    };\n\n    this.plugins.set(id, newPlugin);\n    this.updating.set(id, plugin);\n    this.triggerState();\n  },\n\n  onUpdateSuccess(id, _updateObj) {\n    this.updating.delete(id);\n  },\n\n  onUpdateError(id, _updateObj, err) {\n    const origPlugin = this.updating.get(id);\n    if (!origPlugin) {\n      return;\n    }\n\n    this.plugins.set(id, origPlugin);\n    this.updating.delete(id);\n    this.state.error = err;\n    this.triggerState();\n  },\n});\n\nexport default PluginsStore;\n","import React from 'react';\nimport Reflux from 'reflux';\nimport createReactClass from 'create-react-class';\n\nimport {defined} from 'app/utils';\nimport {Organization, Project, Plugin} from 'app/types';\nimport {fetchPlugins} from 'app/actionCreators/plugins';\nimport getDisplayName from 'app/utils/getDisplayName';\nimport PluginsStore from 'app/stores/pluginsStore';\nimport SentryTypes from 'app/sentryTypes';\nimport withOrganization from 'app/utils/withOrganization';\nimport withProject from 'app/utils/withProject';\n\ntype WithPluginProps = {\n  organization: Organization;\n  project: Project;\n};\n\ntype InjectedPluginProps = {\n  plugins: Plugin[];\n};\n\n/**\n * Higher order component that fetches list of plugins and\n * passes PluginsStore to component as `plugins`\n */\nconst withPlugins = <P extends InjectedPluginProps>(\n  WrappedComponent: React.ComponentType<P>\n) =>\n  withOrganization(\n    withProject(\n      createReactClass<Omit<P, keyof InjectedPluginProps> & WithPluginProps, {}>({\n        displayName: `withPlugins(${getDisplayName(WrappedComponent)})`,\n        propTypes: {\n          organization: SentryTypes.Organization.isRequired,\n          project: SentryTypes.Project.isRequired,\n        },\n        mixins: [Reflux.connect(PluginsStore, 'store') as any],\n\n        componentDidMount() {\n          this.fetchPlugins();\n        },\n\n        componentDidUpdate(prevProps, _prevState, prevContext) {\n          const {organization, project} = this.props;\n\n          // Only fetch plugins when a org slug or project slug has changed\n          const prevOrg =\n            prevProps.organization || (prevContext && prevContext.organization);\n          const prevProject = prevProps.project || (prevContext && prevContext.project);\n\n          // If previous org/project is undefined then it means:\n          // the HoC has mounted, `fetchPlugins` has been called (via cDM), and\n          // store was updated. We don't need to fetchPlugins again (or it will cause an infinite loop)\n          //\n          // This is for the unusual case where component is mounted and receives a new org/project prop\n          // e.g. when switching projects via breadcrumbs in settings.\n          if (!defined(prevProject) || !defined(prevOrg)) {\n            return;\n          }\n\n          const isOrgSame = prevOrg.slug === organization.slug;\n          const isProjectSame = prevProject.slug === project.slug;\n\n          // Don't do anything if org and project are the same\n          if (isOrgSame && isProjectSame) {\n            return;\n          }\n\n          this.fetchPlugins();\n        },\n\n        fetchPlugins() {\n          const {organization, project} = this.props;\n\n          if (!project || !organization) {\n            return;\n          }\n\n          fetchPlugins({projectId: project.slug, orgId: organization.slug});\n        },\n\n        render() {\n          return (\n            <WrappedComponent\n              {...(this.props as P)}\n              plugins={this.state.store as Plugin[]}\n            />\n          );\n        },\n      })\n    )\n  );\n\nexport default withPlugins;\n","export const DEPRECATED_PLUGINS = ['taiga', 'lighthouse', 'grove-io'] as const;\n","import React from 'react';\n\nimport {\n  addErrorMessage,\n  addLoadingMessage,\n  addSuccessMessage,\n} from 'app/actionCreators/indicator';\nimport {disablePlugin, enablePlugin} from 'app/actionCreators/plugins';\nimport {t} from 'app/locale';\nimport AsyncView from 'app/views/asyncView';\nimport Button from 'app/components/button';\nimport ExternalLink from 'app/components/links/externalLink';\nimport PluginConfig from 'app/components/pluginConfig';\nimport SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';\nimport withPlugins from 'app/utils/withPlugins';\nimport withOrganization from 'app/utils/withOrganization';\nimport withProject from 'app/utils/withProject';\nimport {trackIntegrationEvent} from 'app/utils/integrationUtil';\n\nimport {DEPRECATED_PLUGINS} from './constants';\n\n/**\n * There are currently two sources of truths for plugin details:\n *\n * 1) PluginsStore has a list of plugins, and this is where ENABLED state lives\n * 2) We fetch \"plugin details\" via API and save it to local state as `pluginDetails`.\n *    This is because \"details\" call contains form `config` and the \"list\" endpoint does not.\n *    The more correct way would be to pass `config` to PluginConfig and use plugin from\n *    PluginsStore\n */\nclass ProjectPluginDetails extends AsyncView {\n  componentDidUpdate(prevProps) {\n    super.componentDidUpdate(...arguments);\n    if (prevProps.params.pluginId !== this.props.params.pluginId) {\n      this.recordDetailsViewed();\n    }\n  }\n  componentDidMount() {\n    this.recordDetailsViewed();\n  }\n\n  recordDetailsViewed() {\n    const {pluginId} = this.props.params;\n\n    trackIntegrationEvent(\n      {\n        eventKey: 'integrations.details_viewed',\n        eventName: 'Integrations: Details Viewed',\n        integration: pluginId,\n        integration_type: 'plugin',\n        view: 'plugin_details',\n        project_id: this.props.project.id,\n      },\n      this.props.organization\n    );\n  }\n\n  getTitle() {\n    const {plugin} = this.state;\n    if (plugin && plugin.name) {\n      return plugin.name;\n    } else {\n      return 'Sentry';\n    }\n  }\n\n  getEndpoints() {\n    const {projectId, orgId, pluginId} = this.props.params;\n    return [['pluginDetails', `/projects/${orgId}/${projectId}/plugins/${pluginId}/`]];\n  }\n\n  trimSchema(value) {\n    return value.split('//')[1];\n  }\n\n  handleReset = () => {\n    const {projectId, orgId, pluginId} = this.props.params;\n\n    addLoadingMessage(t('Saving changes\\u2026'));\n    trackIntegrationEvent(\n      {\n        eventKey: 'integrations.uninstall_clicked',\n        eventName: 'Integrations: Uninstall Clicked',\n        integration: pluginId,\n        integration_type: 'plugin',\n        view: 'plugin_details',\n        project_id: this.props.project.id,\n      },\n      this.props.organization\n    );\n\n    this.api.request(`/projects/${orgId}/${projectId}/plugins/${pluginId}/`, {\n      method: 'POST',\n      data: {reset: true},\n      success: pluginDetails => {\n        this.setState({pluginDetails});\n        addSuccessMessage(t('Plugin was reset'));\n        trackIntegrationEvent(\n          {\n            eventKey: 'integrations.uninstall_completed',\n            eventName: 'Integrations: Uninstall Completed',\n            integration: pluginId,\n            integration_type: 'plugin',\n            view: 'plugin_details',\n            project_id: this.props.project.id,\n          },\n          this.props.organization\n        );\n      },\n      error: () => {\n        addErrorMessage(t('An error occurred'));\n      },\n    });\n  };\n\n  handleEnable = () => {\n    enablePlugin(this.props.params);\n    this.analyticsChangeEnableStatus(true);\n  };\n\n  handleDisable = () => {\n    disablePlugin(this.props.params);\n    this.analyticsChangeEnableStatus(false);\n  };\n\n  analyticsChangeEnableStatus = enabled => {\n    const {pluginId} = this.props.params;\n    trackIntegrationEvent(\n      {\n        eventKey: `integrations.${enabled ? 'enabled' : 'disabled'}`,\n        eventName: `Integrations: ${enabled ? 'Enabled' : 'Disabled'}`,\n        integration: pluginId,\n        integration_type: 'plugin',\n        view: 'plugin_details',\n        project_id: this.props.project.id,\n      },\n      this.props.organization\n    );\n  };\n\n  // Enabled state is handled via PluginsStore and not via plugins detail\n  getEnabled() {\n    const {pluginDetails} = this.state;\n    const {plugins} = this.props;\n\n    const plugin =\n      plugins &&\n      plugins.plugins &&\n      plugins.plugins.find(({slug}) => slug === this.props.params.pluginId);\n\n    return plugin ? plugin.enabled : pluginDetails && pluginDetails.enabled;\n  }\n\n  renderActions() {\n    const {pluginDetails} = this.state;\n    const enabled = this.getEnabled();\n    const {pluginId} = this.props.params;\n\n    const disabled = DEPRECATED_PLUGINS.includes(pluginId);\n\n    const enable = (\n      <Button\n        disabled={disabled}\n        size=\"small\"\n        onClick={this.handleEnable}\n        style={{marginRight: '6px'}}\n      >\n        {t('Enable Plugin')}\n      </Button>\n    );\n\n    const disable = (\n      <Button\n        size=\"small\"\n        priority=\"danger\"\n        onClick={this.handleDisable}\n        style={{marginRight: '6px'}}\n      >\n        {t('Disable Plugin')}\n      </Button>\n    );\n\n    const toggleEnable = enabled ? disable : enable;\n\n    return (\n      <div className=\"pull-right\">\n        {pluginDetails.canDisable && toggleEnable}\n        <Button size=\"small\" onClick={this.handleReset}>\n          {t('Reset Configuration')}\n        </Button>\n      </div>\n    );\n  }\n\n  renderBody() {\n    const {organization, project} = this.props;\n    const {pluginDetails} = this.state;\n\n    return (\n      <div>\n        <SettingsPageHeader title={pluginDetails.name} action={this.renderActions()} />\n        <div className=\"row\">\n          <div className=\"col-md-7\">\n            <PluginConfig\n              organization={organization}\n              project={project}\n              data={pluginDetails}\n              enabled={this.getEnabled()}\n              onDisablePlugin={this.handleDisable}\n            />\n          </div>\n          <div className=\"col-md-4 col-md-offset-1\">\n            <div className=\"pluginDetails-meta\">\n              <h4>{t('Plugin Information')}</h4>\n\n              <dl className=\"flat\">\n                <dt>{t('Name')}</dt>\n                <dd>{pluginDetails.name}</dd>\n                <dt>{t('Author')}</dt>\n                <dd>{pluginDetails.author.name}</dd>\n                {pluginDetails.author.url && (\n                  <div>\n                    <dt>{t('URL')}</dt>\n                    <dd>\n                      <ExternalLink href={pluginDetails.author.url}>\n                        {this.trimSchema(pluginDetails.author.url)}\n                      </ExternalLink>\n                    </dd>\n                  </div>\n                )}\n                <dt>{t('Version')}</dt>\n                <dd>{pluginDetails.version}</dd>\n              </dl>\n\n              {pluginDetails.description && (\n                <div>\n                  <h4>{t('Description')}</h4>\n                  <p className=\"description\">{pluginDetails.description}</p>\n                </div>\n              )}\n\n              {pluginDetails.resourceLinks && (\n                <div>\n                  <h4>{t('Resources')}</h4>\n                  <dl className=\"flat\">\n                    {pluginDetails.resourceLinks.map(({title, url}) => (\n                      <dd key={url}>\n                        <ExternalLink href={url}>{title}</ExternalLink>\n                      </dd>\n                    ))}\n                  </dl>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport {ProjectPluginDetails};\n\nexport default withProject(withPlugins(withOrganization(ProjectPluginDetails)));\n"],"sourceRoot":""}