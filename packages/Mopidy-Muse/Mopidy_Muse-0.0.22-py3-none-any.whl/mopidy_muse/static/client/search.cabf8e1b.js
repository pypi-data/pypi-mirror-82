import{S as e,a as l,s as t,e as a,b as s,Q as n,a9 as o,t as r,f as c,g as i,m as d,j as h,k as f,l as u,n as m,d as p,h as g,aj as b,P as v,A as x,B as $,G as w,v as k,w as y,x as E,y as A,p as I,V as D,D as V,C as T,ak as P,u as j,K as N,ae as O,a6 as S,L as C,aa as B,Z as z,ad as U,O as M,ab as q,af as R,i as H,ac as L,aQ as F,H as Q,o as G,T as J,al as K,aq as W,a0 as X,a1 as Y,aR as Z,aS as _,aT as ee,aU as le,as as te,at as ae,aP as se,aO as ne,z as oe,E as re,F as ce,I as ie,J as de,W as he,av as fe,aV as ue,$ as me}from"./client.d588f05d.js";import{f as pe}from"./index.79385e59.js";import{c as ge}from"./clickOutside.69487d64.js";function be(e,l,t){const a=e.slice();return a[11]=l[t],a}function ve(e){let l,t,n,o,p=e[1].name+"";return{c(){l=a("p"),t=r("Add "),n=r(p),o=r(" to a playlist"),this.h()},l(e){l=c(e,"P",{class:!0});var a=i(l);t=d(a,"Add "),n=d(a,p),o=d(a," to a playlist"),a.forEach(h),this.h()},h(){f(l,"class","label")},m(e,a){u(e,l,a),s(l,t),s(l,n),s(l,o)},p(e,l){2&l&&p!==(p=e[1].name+"")&&m(n,p)},d(e){e&&h(l)}}}function xe(e){let l,t=e[15].message+"";return{c(){l=r(t)},l(e){l=d(e,t)},m(e,t){u(e,l,t)},p(e,a){8&a&&t!==(t=e[15].message+"")&&m(l,t)},i:M,o:M,d(e){e&&h(l)}}}function $e(e){let l,t,o,b,v,w,E,D,V,P,j,N,O=(e[14].tracks?e[14].tracks.length:"0")+"";return D=new n({props:{icon:R,class:"icon"}}),{c(){l=a("div"),t=r("("),o=r(O),b=r(")"),v=p(),w=a("div"),E=a("a"),k(D.$$.fragment),this.h()},l(e){l=c(e,"DIV",{class:!0});var a=i(l);t=d(a,"("),o=d(a,O),b=d(a,")"),a.forEach(h),v=g(e),w=c(e,"DIV",{class:!0});var s=i(w);E=c(s,"A",{href:!0});var n=i(E);y(D.$$.fragment,n),n.forEach(h),s.forEach(h),this.h()},h(){f(l,"class","column is-narrow"),f(E,"href",V=null),f(w,"class","column is-narrow")},m(a,n){u(a,l,n),s(l,t),s(l,o),s(l,b),u(a,v,n),u(a,w,n),s(w,E),A(D,E,null),P=!0,j||(N=I(E,"click",function(){H(e[4](e[14]))&&e[4](e[14]).apply(this,arguments)}),j=!0)},p(l,t){e=l,(!P||8&t)&&O!==(O=(e[14].tracks?e[14].tracks.length:"0")+"")&&m(o,O)},i(e){P||(x(D.$$.fragment,e),P=!0)},o(e){$(D.$$.fragment,e),P=!1},d(e){e&&h(l),e&&h(v),e&&h(w),T(D),j=!1,N()}}}function we(e){let l;return{c(){l=r("loading..")},l(e){l=d(e,"loading..")},m(e,t){u(e,l,t)},p:M,i:M,o:M,d(e){e&&h(l)}}}function ke(e){let l,t,n,o,w,k,y,E,A=e[11].name+"",I={ctx:e,current:null,token:null,hasCatch:!0,pending:we,then:$e,catch:xe,value:14,error:15,blocks:[,,,]};return v(k=b(e[11].uri),I),{c(){l=a("div"),t=a("div"),n=a("div"),o=r(A),w=p(),I.block.c(),y=p(),this.h()},l(e){l=c(e,"DIV",{class:!0});var a=i(l);t=c(a,"DIV",{class:!0});var s=i(t);n=c(s,"DIV",{class:!0});var r=i(n);o=d(r,A),r.forEach(h),w=g(s),I.block.l(s),s.forEach(h),y=g(a),a.forEach(h),this.h()},h(){f(n,"class","column"),f(t,"class","columns is-mobile"),f(l,"class","list-item")},m(e,a){u(e,l,a),s(l,t),s(t,n),s(n,o),s(t,w),I.block.m(t,I.anchor=null),I.mount=(()=>t),I.anchor=null,s(l,y),E=!0},p(l,t){if(e=l,(!E||8&t)&&A!==(A=e[11].name+"")&&m(o,A),I.ctx=e,8&t&&k!==(k=b(e[11].uri))&&v(k,I));else{const l=e.slice();l[14]=l[15]=I.resolved,I.block.p(l,t)}},i(e){E||(x(I.block),E=!0)},o(e){for(let e=0;e<3;e+=1){const l=I.blocks[e];$(l)}E=!1},d(e){e&&h(l),I.block.d(),I.token=null,I=null}}}function ye(e){let l,t,a,s={ctx:e,current:null,token:null,hasCatch:!1,pending:Ve,then:Ae,catch:Ee,value:10,blocks:[,,,]};return v(t=e[2],s),{c(){l=w(),s.block.c()},l(e){l=w(),s.block.l(e)},m(e,t){u(e,l,t),s.block.m(e,s.anchor=t),s.mount=(()=>l.parentNode),s.anchor=l,a=!0},p(l,a){if(e=l,s.ctx=e,4&a&&t!==(t=e[2])&&v(t,s));else{const l=e.slice();l[10]=s.resolved,s.block.p(l,a)}},i(e){a||(x(s.block),a=!0)},o(e){for(let e=0;e<3;e+=1){const l=s.blocks[e];$(l)}a=!1},d(e){e&&h(l),s.block.d(e),s.token=null,s=null}}}function Ee(e){return{c:M,l:M,m:M,p:M,i:M,o:M,d:M}}function Ae(e){let l,t,a,s;const n=[De,Ie],o=[];function r(e,l){return e[10]?0:1}return l=r(e),t=o[l]=n[l](e),{c(){t.c(),a=w()},l(e){t.l(e),a=w()},m(e,t){o[l].m(e,t),u(e,a,t),s=!0},p(e,s){let c=l;(l=r(e))===c?o[l].p(e,s):(D(),$(o[c],1,1,()=>{o[c]=null}),V(),(t=o[l])||(t=o[l]=n[l](e)).c(),x(t,1),t.m(a.parentNode,a))},i(e){s||(x(t),s=!0)},o(e){$(t),s=!1},d(e){o[l].d(e),e&&h(a)}}}function Ie(e){let l;return{c(){l=r("Error")},l(e){l=d(e,"Error")},m(e,t){u(e,l,t)},p:M,i:M,o:M,d(e){e&&h(l)}}}function De(e){let l,t,s,o;return t=new n({props:{icon:L,class:"icon"}}),{c(){l=a("a"),k(t.$$.fragment),this.h()},l(e){l=c(e,"A",{class:!0,href:!0});var a=i(l);y(t.$$.fragment,a),a.forEach(h),this.h()},h(){f(l,"class","button svelte-xd5b65"),f(l,"href",s=null)},m(e,a){u(e,l,a),A(t,l,null),o=!0},p:M,i(e){o||(x(t.$$.fragment,e),o=!0)},o(e){$(t.$$.fragment,e),o=!1},d(e){e&&h(l),T(t)}}}function Ve(e){let l,t,o,m,b,v,w;return t=new n({props:{icon:q,spin:!0,class:"icon"}}),{c(){l=a("a"),k(t.$$.fragment),m=p(),b=a("button"),v=r("Save changes"),this.h()},l(e){l=c(e,"A",{class:!0,href:!0});var a=i(l);y(t.$$.fragment,a),a.forEach(h),m=g(e),b=c(e,"BUTTON",{class:!0});var s=i(b);v=d(s,"Save changes"),s.forEach(h),this.h()},h(){f(l,"class","button svelte-xd5b65"),f(l,"href",o=null),f(b,"class","button is-success svelte-xd5b65")},m(e,a){u(e,l,a),A(t,l,null),u(e,m,a),u(e,b,a),s(b,v),w=!0},p:M,i(e){w||(x(t.$$.fragment,e),w=!0)},o(e){$(t.$$.fragment,e),w=!1},d(e){e&&h(l),T(t),e&&h(m),e&&h(b)}}}function Te(e){let l,t,m,b,v,w,N,O,S,C,B,z,U,M,q,R,H,L,F,Q,G,J,K;C=new n({props:{icon:o,class:"icon"}});let W=e[1]&&ve(e),X=e[3],Y=[];for(let l=0;l<X.length;l+=1)Y[l]=ke(be(e,X,l));const Z=e=>$(Y[e],1,1,()=>{Y[e]=null});let _=e[2]&&ye(e);return{c(){l=a("div"),t=a("div"),m=p(),b=a("div"),v=a("header"),w=a("p"),N=r("Add to playlist"),O=p(),S=a("a"),k(C.$$.fragment),z=p(),U=a("section"),W&&W.c(),M=p(),q=a("div");for(let e=0;e<Y.length;e+=1)Y[e].c();R=r("\n       "),H=p(),L=a("footer"),_&&_.c(),F=p(),Q=a("button"),this.h()},l(e){l=c(e,"DIV",{class:!0});var a=i(l);t=c(a,"DIV",{class:!0}),i(t).forEach(h),m=g(a),b=c(a,"DIV",{class:!0});var s=i(b);v=c(s,"HEADER",{class:!0});var n=i(v);w=c(n,"P",{class:!0});var o=i(w);N=d(o,"Add to playlist"),o.forEach(h),O=g(n),S=c(n,"A",{href:!0,"aria-label":!0});var r=i(S);y(C.$$.fragment,r),r.forEach(h),n.forEach(h),z=g(s),U=c(s,"SECTION",{class:!0});var f=i(U);W&&W.l(f),M=g(f),q=c(f,"DIV",{class:!0});var u=i(q);for(let e=0;e<Y.length;e+=1)Y[e].l(u);u.forEach(h),R=d(f,"\n       "),f.forEach(h),H=g(s),L=c(s,"FOOTER",{class:!0});var p=i(L);_&&_.l(p),p.forEach(h),s.forEach(h),F=g(a),Q=c(a,"BUTTON",{class:!0,"aria-label":!0}),i(Q).forEach(h),a.forEach(h),this.h()},h(){f(t,"class","modal-background svelte-xd5b65"),f(w,"class","modal-card-title svelte-xd5b65"),f(S,"href",B=null),f(S,"aria-label","close"),f(v,"class","modal-card-head svelte-xd5b65"),f(q,"class","list is-hoverable"),f(U,"class","modal-card-body svelte-xd5b65"),f(L,"class","modal-card-foot svelte-xd5b65"),f(b,"class","modal-card svelte-xd5b65"),f(Q,"class","modal-close is-large svelte-xd5b65"),f(Q,"aria-label","close"),f(l,"class","modal svelte-xd5b65"),E(l,"is-active",e[0])},m(a,n){u(a,l,n),s(l,t),s(l,m),s(l,b),s(b,v),s(v,w),s(w,N),s(v,O),s(v,S),A(C,S,null),s(b,z),s(b,U),W&&W.m(U,null),s(U,M),s(U,q);for(let e=0;e<Y.length;e+=1)Y[e].m(q,null);s(U,R),s(b,H),s(b,L),_&&_.m(L,null),s(l,F),s(l,Q),G=!0,J||(K=[I(t,"click",e[5]),I(S,"click",e[6]),I(Q,"click",e[7])],J=!0)},p(e,[t]){if(e[1]?W?W.p(e,t):((W=ve(e)).c(),W.m(U,M)):W&&(W.d(1),W=null),24&t){let l;for(X=e[3],l=0;l<X.length;l+=1){const a=be(e,X,l);Y[l]?(Y[l].p(a,t),x(Y[l],1)):(Y[l]=ke(a),Y[l].c(),x(Y[l],1),Y[l].m(q,null))}for(D(),l=X.length;l<Y.length;l+=1)Z(l);V()}e[2]?_?(_.p(e,t),4&t&&x(_,1)):((_=ye(e)).c(),x(_,1),_.m(L,null)):_&&(D(),$(_,1,1,()=>{_=null}),V()),1&t&&E(l,"is-active",e[0])},i(e){if(!G){x(C.$$.fragment,e);for(let e=0;e<X.length;e+=1)x(Y[e]);x(_),G=!0}},o(e){$(C.$$.fragment,e),Y=Y.filter(Boolean);for(let e=0;e<Y.length;e+=1)$(Y[e]);$(_),G=!1},d(e){e&&h(l),T(C),W&&W.d(),P(Y,e),_&&_.d(),J=!1,j(K)}}}function Pe(e,l,t){let a,s;N(e,O,e=>t(3,a=e)),N(e,S,e=>t(8,s=e));let n,{showAddToPlaylistModal:o}=l,{track:r}=l;C(async()=>{const e=await B();console.log("in playlist",e),z(O,a=await U(),a)});const c=async e=>{return e.tracks?e.tracks.push(r):e.tracks=[r],!!await s.playlists.save({playlist:e})&&(z(O,a=await U(),a),t(0,o=!o),!0)};return e.$$set=(e=>{"showAddToPlaylistModal"in e&&t(0,o=e.showAddToPlaylistModal),"track"in e&&t(1,r=e.track)}),[o,r,n,a,e=>{t(2,n=c(e))},()=>t(0,o=!o),()=>t(0,o=!o),()=>t(0,o=!o)]}class je extends e{constructor(e){var n;super(),document.getElementById("svelte-xd5b65-style")||((n=a("style")).id="svelte-xd5b65-style",n.textContent='.modal.svelte-xd5b65.svelte-xd5b65,.modal-background.svelte-xd5b65.svelte-xd5b65{bottom:0;left:0;position:absolute;right:0;top:0}.modal-close.svelte-xd5b65.svelte-xd5b65{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10, 10, 10, 0.2);border:none;border-radius:290486px;cursor:pointer;pointer-events:auto;display:inline-block;flex-grow:0;flex-shrink:0;font-size:0;height:20px;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:none;position:relative;vertical-align:top;width:20px}.modal-close.svelte-xd5b65.svelte-xd5b65::before,.modal-close.svelte-xd5b65.svelte-xd5b65::after{background-color:white;content:"";display:block;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%) rotate(45deg);transform-origin:center center}.modal-close.svelte-xd5b65.svelte-xd5b65::before{height:2px;width:50%}.modal-close.svelte-xd5b65.svelte-xd5b65::after{height:50%;width:2px}.modal-close.svelte-xd5b65.svelte-xd5b65:hover,.modal-close.svelte-xd5b65.svelte-xd5b65:focus{background-color:rgba(10, 10, 10, 0.3)}.modal-close.svelte-xd5b65.svelte-xd5b65:active{background-color:rgba(10, 10, 10, 0.4)}.is-large.modal-close.svelte-xd5b65.svelte-xd5b65{height:32px;max-height:32px;max-width:32px;min-height:32px;min-width:32px;width:32px}.modal.svelte-xd5b65.svelte-xd5b65{align-items:center;display:none;flex-direction:column;justify-content:center;overflow:hidden;position:fixed;z-index:40}.modal.is-active.svelte-xd5b65.svelte-xd5b65{display:flex}.modal-background.svelte-xd5b65.svelte-xd5b65{background-color:rgba(10, 10, 10, 0.86)}.modal-card.svelte-xd5b65.svelte-xd5b65{margin:0 20px;max-height:calc(100vh - 160px);overflow:auto;position:relative;width:100%}@media screen and (min-width: 769px), print{.modal-card.svelte-xd5b65.svelte-xd5b65{margin:0 auto;max-height:calc(100vh - 40px);width:640px}}.modal-close.svelte-xd5b65.svelte-xd5b65{background:none;height:40px;position:fixed;right:20px;top:20px;width:40px}.modal-card.svelte-xd5b65.svelte-xd5b65{display:flex;flex-direction:column;max-height:calc(100vh - 40px);overflow:hidden;overflow-y:visible;-ms-overflow-y:visible}.modal-card-head.svelte-xd5b65.svelte-xd5b65,.modal-card-foot.svelte-xd5b65.svelte-xd5b65{align-items:center;background-color:whitesmoke;display:flex;flex-shrink:0;justify-content:flex-start;padding:20px;position:relative}.modal-card-head.svelte-xd5b65.svelte-xd5b65{border-bottom:1px solid #dbdbdb;border-top-left-radius:6px;border-top-right-radius:6px}.modal-card-title.svelte-xd5b65.svelte-xd5b65{color:#363636;flex-grow:1;flex-shrink:0;font-size:1.5rem;line-height:1}.modal-card-foot.svelte-xd5b65.svelte-xd5b65{border-bottom-left-radius:6px;border-bottom-right-radius:6px;border-top:1px solid #dbdbdb}.modal-card-foot.svelte-xd5b65 .button.svelte-xd5b65:not(:last-child){margin-right:0.5em}.modal-card-body.svelte-xd5b65.svelte-xd5b65{-webkit-overflow-scrolling:touch;background-color:white;flex-grow:1;flex-shrink:1;overflow:auto;padding:20px}',s(document.head,n)),l(this,e,Pe,Te,t,{showAddToPlaylistModal:0,track:1})}}function Ne(e,l,t){const a=e.slice();return a[33]=l[t],a[35]=t,a}function Oe(e,l,t){const a=e.slice();return a[37]=l[t],a}function Se(e){return{c:M,l:M,m:M,p:M,i:M,o:M,d:M}}function Ce(e){let l,t,s=e[1],n=[];for(let l=0;l<s.length;l+=1)n[l]=Ue(Oe(e,s,l));const o=e=>$(n[e],1,1,()=>{n[e]=null});return{c(){l=a("div");for(let e=0;e<n.length;e+=1)n[e].c();this.h()},l(e){l=c(e,"DIV",{class:!0});var t=i(l);for(let e=0;e<n.length;e+=1)n[e].l(t);t.forEach(h),this.h()},h(){f(l,"class","tags svelte-1ixbxod")},m(e,a){u(e,l,a);for(let e=0;e<n.length;e+=1)n[e].m(l,null);t=!0},p(e,t){if(4099&t[0]){let a;for(s=e[1],a=0;a<s.length;a+=1){const o=Oe(e,s,a);n[a]?(n[a].p(o,t),x(n[a],1)):(n[a]=Ue(o),n[a].c(),x(n[a],1),n[a].m(l,null))}for(D(),a=s.length;a<n.length;a+=1)o(a);V()}},i(e){if(!t){for(let e=0;e<s.length;e+=1)x(n[e]);t=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)$(n[e]);t=!1},d(e){e&&h(l),P(n,e)}}}function Be(e){let l,t,a,s,o=e[37]+"";return l=new n({props:{icon:ue,class:"icon is-small"}}),{c(){k(l.$$.fragment),t=r("   "),a=r(o)},l(e){y(l.$$.fragment,e),t=d(e,"   "),a=d(e,o)},m(e,n){A(l,e,n),u(e,t,n),u(e,a,n),s=!0},p(e,l){(!s||2&l[0])&&o!==(o=e[37]+"")&&m(a,o)},i(e){s||(x(l.$$.fragment,e),s=!0)},o(e){$(l.$$.fragment,e),s=!1},d(e){T(l,e),e&&h(t),e&&h(a)}}}function ze(e){let l,t,a,s,o=e[37]+"";return l=new n({props:{icon:e[12][e[37]],class:"icon is-small"}}),{c(){k(l.$$.fragment),t=r("   "),a=r(o)},l(e){y(l.$$.fragment,e),t=d(e,"   "),a=d(e,o)},m(e,n){A(l,e,n),u(e,t,n),u(e,a,n),s=!0},p(e,t){const n={};2&t[0]&&(n.icon=e[12][e[37]]),l.$set(n),(!s||2&t[0])&&o!==(o=e[37]+"")&&m(a,o)},i(e){s||(x(l.$$.fragment,e),s=!0)},o(e){$(l.$$.fragment,e),s=!1},d(e){T(l,e),e&&h(t),e&&h(a)}}}function Ue(e){let l,t,n,o,r,d,m;const b=[ze,Be],v=[];function w(e,l){return e[37]in e[12]?0:1}function k(...l){return e[24](e[37],...l)}return t=w(e),n=v[t]=b[t](e),{c(){l=a("span"),n.c(),o=p(),this.h()},l(e){l=c(e,"SPAN",{class:!0});var t=i(l);n.l(t),o=g(t),t.forEach(h),this.h()},h(){f(l,"class","tag svelte-1ixbxod"),E(l,"is-primary",e[0][e[37]])},m(e,a){u(e,l,a),v[t].m(l,null),s(l,o),r=!0,d||(m=I(l,"click",k),d=!0)},p(a,s){let r=t;(t=w(e=a))===r?v[t].p(e,s):(D(),$(v[r],1,1,()=>{v[r]=null}),V(),(n=v[t])||(n=v[t]=b[t](e)).c(),x(n,1),n.m(l,o)),3&s[0]&&E(l,"is-primary",e[0][e[37]])},i(e){r||(x(n),r=!0)},o(e){$(n),r=!1},d(e){e&&h(l),v[t].d(),d=!1,m()}}}function Me(e){let l,t,a,s;const n=[Re,qe],o=[];function r(e,l){return e[11]?0:1}return l=r(e),t=o[l]=n[l](e),{c(){t.c(),a=w()},l(e){t.l(e),a=w()},m(e,t){o[l].m(e,t),u(e,a,t),s=!0},p(e,s){let c=l;(l=r(e))===c?o[l].p(e,s):(D(),$(o[c],1,1,()=>{o[c]=null}),V(),(t=o[l])||(t=o[l]=n[l](e)).c(),x(t,1),t.m(a.parentNode,a))},i(e){s||(x(t),s=!0)},o(e){$(t),s=!1},d(e){o[l].d(e),e&&h(a)}}}function qe(e){let l,t,o,m;return o=new n({props:{icon:q,spin:!0,class:"icon"}}),{c(){l=a("button"),t=r("Connecting to mopidy     \n              "),k(o.$$.fragment),this.h()},l(e){l=c(e,"BUTTON",{class:!0,disabled:!0});var a=i(l);t=d(a,"Connecting to mopidy     \n              "),y(o.$$.fragment,a),a.forEach(h),this.h()},h(){f(l,"class","button"),l.disabled=!0},m(e,a){u(e,l,a),s(l,t),A(o,l,null),m=!0},p:M,i(e){m||(x(o.$$.fragment,e),m=!0)},o(e){$(o.$$.fragment,e),m=!1},d(e){e&&h(l),T(o)}}}function Re(e){let l,t,o,m;return o=new n({props:{icon:q,spin:!0,class:"icon"}}),{c(){l=a("button"),t=r("Loading sources    \n              "),k(o.$$.fragment),this.h()},l(e){l=c(e,"BUTTON",{class:!0,disabled:!0});var a=i(l);t=d(a,"Loading sources    \n              "),y(o.$$.fragment,a),a.forEach(h),this.h()},h(){f(l,"class","button"),l.disabled=!0},m(e,a){u(e,l,a),s(l,t),A(o,l,null),m=!0},p:M,i(e){m||(x(o.$$.fragment,e),m=!0)},o(e){$(o.$$.fragment,e),m=!1},d(e){e&&h(l),T(o)}}}function He(e){let l,t,o,m,b,v,w,P,N,O,S,C,B,z,U,M,q,R,L,F,Q,G,X,Y,Z;const _=[Fe,Le],ee=[];function le(e,l){return e[5]?0:1}return m=le(e),b=ee[m]=_[m](e),O=new n({props:{icon:J,class:"icon is-small"}}),U=new n({props:{icon:K,class:"icon is-small"}}),F=new n({props:{icon:W,class:"icon is-small"}}),{c(){l=a("div"),t=a("div"),o=a("div"),b.c(),v=p(),w=a("div"),P=a("div"),N=a("a"),k(O.$$.fragment),S=r(" \n                  Play All"),B=p(),z=a("a"),k(U.$$.fragment),M=r(" \n                  Shuffle & Play All"),R=p(),L=a("a"),k(F.$$.fragment),Q=r(" \n                  Add to queue"),this.h()},l(e){l=c(e,"DIV",{class:!0});var a=i(l);t=c(a,"DIV",{class:!0});var s=i(t);o=c(s,"DIV",{class:!0});var n=i(o);b.l(n),n.forEach(h),v=g(s),w=c(s,"DIV",{class:!0,id:!0,role:!0});var r=i(w);P=c(r,"DIV",{class:!0});var f=i(P);N=c(f,"A",{href:!0,class:!0});var u=i(N);y(O.$$.fragment,u),S=d(u," \n                  Play All"),u.forEach(h),B=g(f),z=c(f,"A",{href:!0,class:!0});var m=i(z);y(U.$$.fragment,m),M=d(m," \n                  Shuffle & Play All"),m.forEach(h),R=g(f),L=c(f,"A",{href:!0,class:!0});var p=i(L);y(F.$$.fragment,p),Q=d(p," \n                  Add to queue"),p.forEach(h),f.forEach(h),r.forEach(h),s.forEach(h),a.forEach(h),this.h()},h(){f(o,"class","dropdown-trigger"),f(N,"href",C=null),f(N,"class","dropdown-item"),f(z,"href",q=null),f(z,"class","dropdown-item"),f(L,"href",G=null),f(L,"class","dropdown-item"),f(P,"class","dropdown-content"),f(w,"class","dropdown-menu"),f(w,"id","dropdown-menu"),f(w,"role","menu"),f(t,"class","dropdown is-right"),E(t,"is-active",e[5]),f(l,"class","column is-narrow")},m(a,n){u(a,l,n),s(l,t),s(t,o),ee[m].m(o,null),s(t,v),s(t,w),s(w,P),s(P,N),A(O,N,null),s(N,S),s(P,B),s(P,z),A(U,z,null),s(z,M),s(P,R),s(P,L),A(F,L,null),s(L,Q),X=!0,Y||(Z=[I(o,"click",e[25]),I(N,"click",function(){H(e[18](e[8]))&&e[18](e[8]).apply(this,arguments)}),I(z,"click",function(){H(e[21](e[8]))&&e[21](e[8]).apply(this,arguments)}),I(L,"click",function(){H(e[22](e[8]))&&e[22](e[8]).apply(this,arguments)})],Y=!0)},p(l,a){let s=m;(m=le(e=l))===s?ee[m].p(e,a):(D(),$(ee[s],1,1,()=>{ee[s]=null}),V(),(b=ee[m])||(b=ee[m]=_[m](e)).c(),x(b,1),b.m(o,null)),32&a[0]&&E(t,"is-active",e[5])},i(e){X||(x(b),x(O.$$.fragment,e),x(U.$$.fragment,e),x(F.$$.fragment,e),X=!0)},o(e){$(b),$(O.$$.fragment,e),$(U.$$.fragment,e),$(F.$$.fragment,e),X=!1},d(e){e&&h(l),ee[m].d(),T(O),T(U),T(F),Y=!1,j(Z)}}}function Le(e){let l,t,s,o;return t=new n({props:{icon:X,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){l=a("a"),k(t.$$.fragment),this.h()},l(e){l=c(e,"A",{href:!0,class:!0});var a=i(l);y(t.$$.fragment,a),a.forEach(h),this.h()},h(){f(l,"href",s=null),f(l,"class","button")},m(e,a){u(e,l,a),A(t,l,null),o=!0},p:M,i(e){o||(x(t.$$.fragment,e),o=!0)},o(e){$(t.$$.fragment,e),o=!1},d(e){e&&h(l),T(t)}}}function Fe(e){let l,t,s,o;return t=new n({props:{icon:Y,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){l=a("a"),k(t.$$.fragment),this.h()},l(e){l=c(e,"A",{href:!0,class:!0});var a=i(l);y(t.$$.fragment,a),a.forEach(h),this.h()},h(){f(l,"href",s=null),f(l,"class","button")},m(e,a){u(e,l,a),A(t,l,null),o=!0},p:M,i(e){o||(x(t.$$.fragment,e),o=!0)},o(e){$(t.$$.fragment,e),o=!1},d(e){e&&h(l),T(t)}}}function Qe(e){let l,t,a={ctx:e,current:null,token:null,hasCatch:!0,pending:We,then:Ke,catch:Je,error:36};return v(t=e[2],a),{c(){l=w(),a.block.c()},l(e){l=w(),a.block.l(e)},m(e,t){u(e,l,t),a.block.m(e,a.anchor=t),a.mount=(()=>l.parentNode),a.anchor=l},p(l,s){if(e=l,a.ctx=e,4&s[0]&&t!==(t=e[2])&&v(t,a));else{const l=e.slice();l[36]=a.resolved,a.block.p(l,s)}},i:M,o:M,d(e){e&&h(l),a.block.d(e),a.token=null,a=null}}}function Ge(e){let l,t,s,n,o,r=[],d=new Map,m=e[8];const p=e=>e[35]+1;for(let l=0;l<m.length;l+=1){let t=Ne(e,m,l),a=p(t);d.set(a,r[l]=el(a,t))}return{c(){l=a("div");for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){l=c(e,"DIV",{class:!0});var t=i(l);for(let e=0;e<r.length;e+=1)r[e].l(t);t.forEach(h),this.h()},h(){f(l,"class","list is-hoverable")},m(a,c){u(a,l,c);for(let e=0;e<r.length;e+=1)r[e].m(l,null);s=!0,n||(o=[ie(t=ge.call(null,l)),I(l,"click_outside",e[29])],n=!0)},p(e,t){if(2065280&t[0]){const a=e[8];D();for(let e=0;e<r.length;e+=1)r[e].r();r=de(r,t,p,1,e,a,d,l,he,el,null,Ne);for(let e=0;e<r.length;e+=1)r[e].a();V()}},i(e){if(!s){for(let e=0;e<m.length;e+=1)x(r[e]);s=!0}},o(e){for(let e=0;e<r.length;e+=1)$(r[e]);s=!1},d(e){e&&h(l);for(let e=0;e<r.length;e+=1)r[e].d();n=!1,j(o)}}}function Je(e){let l,t,n=e[36].message+"";return{c(){l=a("p"),t=r(n),this.h()},l(e){l=c(e,"P",{class:!0,style:!0});var a=i(l);t=d(a,n),a.forEach(h),this.h()},h(){f(l,"class","list-item"),me(l,"color","red")},m(e,a){u(e,l,a),s(l,t)},p(e,l){4&l[0]&&n!==(n=e[36].message+"")&&m(t,n)},d(e){e&&h(l)}}}function Ke(e){let l,t,n;return{c(){l=a("a"),t=r("no tracks found"),this.h()},l(e){l=c(e,"A",{class:!0,href:!0});var a=i(l);t=d(a,"no tracks found"),a.forEach(h),this.h()},h(){f(l,"class","list-item"),f(l,"href",n=null)},m(e,a){u(e,l,a),s(l,t)},p:M,d(e){e&&h(l)}}}function We(e){let l,t;return{c(){l=a("p"),t=r("loading ..."),this.h()},l(e){l=c(e,"P",{class:!0});var a=i(l);t=d(a,"loading ..."),a.forEach(h),this.h()},h(){f(l,"class","list-item")},m(e,a){u(e,l,a),s(l,t)},p:M,d(e){e&&h(l)}}}function Xe(e){let l;return{c(){l=r("unknown artist")},l(e){l=d(e,"unknown artist")},m(e,t){u(e,l,t)},p:M,d(e){e&&h(l)}}}function Ye(e){let l,t,a,s=e[33].artists.map(tl).join(", ")+"",n=e[33].name+"";return{c(){l=r(s),t=r(" - "),a=r(n)},l(e){l=d(e,s),t=d(e," - "),a=d(e,n)},m(e,s){u(e,l,s),u(e,t,s),u(e,a,s)},p(e,t){256&t[0]&&s!==(s=e[33].artists.map(tl).join(", ")+"")&&m(l,s),256&t[0]&&n!==(n=e[33].name+"")&&m(a,n)},d(e){e&&h(l),e&&h(t),e&&h(a)}}}function Ze(e){let l,t;return l=new n({props:{icon:X,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){k(l.$$.fragment)},l(e){y(l.$$.fragment,e)},m(e,a){A(l,e,a),t=!0},p:M,i(e){t||(x(l.$$.fragment,e),t=!0)},o(e){$(l.$$.fragment,e),t=!1},d(e){T(l,e)}}}function _e(e){let l,t;return l=new n({props:{icon:Y,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){k(l.$$.fragment)},l(e){y(l.$$.fragment,e)},m(e,a){A(l,e,a),t=!0},p:M,i(e){t||(x(l.$$.fragment,e),t=!0)},o(e){$(l.$$.fragment,e),t=!1},d(e){T(l,e)}}}function el(e,l){let t,o,m,b,v,w,P,N,O,S,C,B,z,U,q,L,F,Q,G,K,X,Y,Z,_,ee,le,te,ae,se,ne,ie,de,he,ue,me,ge,be,ve,xe=M;function $e(e,l){return e[33].artists?Ye:Xe}let we=$e(l),ke=we(l);const ye=[_e,Ze],Ee=[];function Ae(e,l){return e[7]==e[35]?0:1}function Ie(...e){return l[26](l[35],...e)}function De(...e){return l[28](l[35],...e)}return N=Ae(l),O=Ee[N]=ye[N](l),U=new n({props:{icon:J,class:"icon is-small"}}),G=new n({props:{icon:fe,class:"icon is-small"}}),_=new n({props:{icon:W,class:"icon is-small"}}),se=new n({props:{icon:R,class:"icon is-small"}}),{key:e,first:null,c(){t=a("a"),o=a("div"),m=a("div"),ke.c(),b=p(),v=a("div"),w=a("div"),P=a("div"),O.c(),S=p(),C=a("div"),B=a("div"),z=a("a"),k(U.$$.fragment),q=r(" \n                      Play now"),F=p(),Q=a("a"),k(G.$$.fragment),K=r(" \n                      Play next"),Y=p(),Z=a("a"),k(_.$$.fragment),ee=r(" \n                      Add to queue"),te=p(),ae=a("a"),k(se.$$.fragment),ne=r(" \n                      Add to a playlist"),de=p(),this.h()},l(e){t=c(e,"A",{class:!0,href:!0,draggable:!0,ondragover:!0});var l=i(t);o=c(l,"DIV",{class:!0});var a=i(o);m=c(a,"DIV",{class:!0});var s=i(m);ke.l(s),s.forEach(h),b=g(a),v=c(a,"DIV",{class:!0});var n=i(v);w=c(n,"DIV",{class:!0});var r=i(w);P=c(r,"DIV",{class:!0});var f=i(P);O.l(f),f.forEach(h),S=g(r),C=c(r,"DIV",{class:!0,id:!0,role:!0});var u=i(C);B=c(u,"DIV",{class:!0});var p=i(B);z=c(p,"A",{href:!0,class:!0});var x=i(z);y(U.$$.fragment,x),q=d(x," \n                      Play now"),x.forEach(h),F=g(p),Q=c(p,"A",{href:!0,class:!0});var $=i(Q);y(G.$$.fragment,$),K=d($," \n                      Play next"),$.forEach(h),Y=g(p),Z=c(p,"A",{href:!0,class:!0});var k=i(Z);y(_.$$.fragment,k),ee=d(k," \n                      Add to queue"),k.forEach(h),te=g(p),ae=c(p,"A",{href:!0,class:!0});var E=i(ae);y(se.$$.fragment,E),ne=d(E," \n                      Add to a playlist"),E.forEach(h),p.forEach(h),u.forEach(h),r.forEach(h),n.forEach(h),a.forEach(h),de=g(l),l.forEach(h),this.h()},h(){f(m,"class","column"),f(P,"class","dropdown-trigger"),f(z,"href",L=null),f(z,"class","dropdown-item"),f(Q,"href",X=null),f(Q,"class","dropdown-item"),f(Z,"href",le=null),f(Z,"class","dropdown-item"),f(ae,"href",ie=null),f(ae,"class","dropdown-item"),f(B,"class","dropdown-content"),f(C,"class","dropdown-menu"),f(C,"id","dropdown-menu"),f(C,"role","menu"),f(w,"class","dropdown is-right is-up"),E(w,"is-active",l[7]==l[35]),f(v,"class","column is-narrow"),f(o,"class","columns is-mobile"),f(t,"class","list-item"),f(t,"href",he=null),f(t,"draggable",ue=!0),f(t,"ondragover","return false"),E(t,"is-active",l[9]===l[35]),this.first=t},m(e,a){u(e,t,a),s(t,o),s(o,m),ke.m(m,null),s(o,b),s(o,v),s(v,w),s(w,P),Ee[N].m(P,null),s(w,S),s(w,C),s(C,B),s(B,z),A(U,z,null),s(z,q),s(B,F),s(B,Q),A(G,Q,null),s(Q,K),s(B,Y),s(B,Z),A(_,Z,null),s(Z,ee),s(B,te),s(B,ae),A(se,ae,null),s(ae,ne),s(t,de),ge=!0,be||(ve=[I(z,"click",function(){H(l[18](l[33].uri))&&l[18](l[33].uri).apply(this,arguments)}),I(Q,"click",function(){H(l[19](l[33].uri))&&l[19](l[33].uri).apply(this,arguments)}),I(Z,"click",function(){H(l[20](l[33].uri))&&l[20](l[33].uri).apply(this,arguments)}),I(ae,"click",function(){H(l[15](l[33]))&&l[15](l[33]).apply(this,arguments)}),I(o,"click",function(){H(l[16](l[35]))&&l[16](l[35]).apply(this,arguments)}),I(t,"dragstart",Ie),I(t,"drop",oe(l[27])),I(t,"dragenter",De)],be=!0)},p(e,a){we===(we=$e(l=e))&&ke?ke.p(l,a):(ke.d(1),(ke=we(l))&&(ke.c(),ke.m(m,null)));let s=N;(N=Ae(l))===s?Ee[N].p(l,a):(D(),$(Ee[s],1,1,()=>{Ee[s]=null}),V(),(O=Ee[N])||(O=Ee[N]=ye[N](l)).c(),x(O,1),O.m(P,null)),384&a[0]&&E(w,"is-active",l[7]==l[35]),768&a[0]&&E(t,"is-active",l[9]===l[35])},r(){me=t.getBoundingClientRect()},f(){re(t),xe()},a(){xe(),xe=ce(t,me,pe,{duration:300})},i(e){ge||(x(O),x(U.$$.fragment,e),x(G.$$.fragment,e),x(_.$$.fragment,e),x(se.$$.fragment,e),ge=!0)},o(e){$(O),$(U.$$.fragment,e),$(G.$$.fragment,e),$(_.$$.fragment,e),$(se.$$.fragment,e),ge=!1},d(e){e&&h(t),ke.d(),Ee[N].d(),T(U),T(G),T(_),T(se),be=!1,j(ve)}}}function ll(e){let l,t,o,m,b,E,P,N,O,S,C,B,z,U,M,q,R,H,L,J,K,W,X,Y,Z,_,ee={ctx:e,current:null,token:null,hasCatch:!1,pending:Me,then:Ce,catch:Se,blocks:[,,,]};v(B=e[3],ee),q=new n({props:{icon:F,class:"icon"}});let le=e[8].length>0&&He(e);L=new je({props:{showAddToPlaylistModal:e[4],track:e[6]}});const te=[Ge,Qe],ae=[];function se(e,l){return e[8].length>0?0:e[2]?1:-1}return~(K=se(e))&&(W=ae[K]=te[K](e)),{c(){l=p(),t=a("h1"),o=r("Search"),m=p(),b=a("div"),E=a("div"),P=a("input"),N=p(),O=a("div"),S=a("div"),C=a("div"),ee.block.c(),z=p(),U=a("div"),M=a("button"),k(q.$$.fragment),R=p(),le&&le.c(),H=p(),k(L.$$.fragment),J=p(),W&&W.c(),X=w(),this.h()},l(e){Q('[data-svelte="svelte-3s7lyl"]',document.head).forEach(h),l=g(e),t=c(e,"H1",{class:!0});var a=i(t);o=d(a,"Search"),a.forEach(h),m=g(e),b=c(e,"DIV",{class:!0});var s=i(b);E=c(s,"DIV",{class:!0});var n=i(E);P=c(n,"INPUT",{class:!0,type:!0,placeholder:!0}),n.forEach(h),N=g(s),O=c(s,"DIV",{class:!0});var r=i(O);S=c(r,"DIV",{class:!0});var f=i(S);C=c(f,"DIV",{class:!0});var u=i(C);ee.block.l(u),u.forEach(h),z=g(f),U=c(f,"DIV",{class:!0});var p=i(U);M=c(p,"BUTTON",{class:!0});var v=i(M);y(q.$$.fragment,v),v.forEach(h),p.forEach(h),R=g(f),le&&le.l(f),f.forEach(h),r.forEach(h),s.forEach(h),H=g(e),y(L.$$.fragment,e),J=g(e),W&&W.l(e),X=w(),this.h()},h(){document.title="Search",f(t,"class","title"),f(P,"class","input is-rounded svelte-1ixbxod"),f(P,"type","text"),f(P,"placeholder","Search for music"),f(E,"class","column"),f(C,"class","column"),f(M,"class","button"),f(U,"class","column is-narrow"),f(S,"class","columns is-mobile"),f(O,"class","column is-narrow"),f(b,"class","columns")},m(a,n){u(a,l,n),u(a,t,n),s(t,o),u(a,m,n),u(a,b,n),s(b,E),s(E,P),G(P,e[10]),s(b,N),s(b,O),s(O,S),s(S,C),ee.block.m(C,ee.anchor=null),ee.mount=(()=>C),ee.anchor=null,s(S,z),s(S,U),s(U,M),A(q,M,null),s(S,R),le&&le.m(S,null),u(a,H,n),A(L,a,n),u(a,J,n),~K&&ae[K].m(a,n),u(a,X,n),Y=!0,Z||(_=[I(P,"keydown",e[14]),I(P,"input",e[23]),I(M,"click",e[13])],Z=!0)},p(l,t){if(e=l,1024&t[0]&&P.value!==e[10]&&G(P,e[10]),ee.ctx=e,8&t[0]&&B!==(B=e[3])&&v(B,ee));else{const l=e.slice();ee.block.p(l,t)}e[8].length>0?le?(le.p(e,t),256&t[0]&&x(le,1)):((le=He(e)).c(),x(le,1),le.m(S,null)):le&&(D(),$(le,1,1,()=>{le=null}),V());const a={};16&t[0]&&(a.showAddToPlaylistModal=e[4]),64&t[0]&&(a.track=e[6]),L.$set(a);let s=K;(K=se(e))===s?~K&&ae[K].p(e,t):(W&&(D(),$(ae[s],1,1,()=>{ae[s]=null}),V()),~K?((W=ae[K])||(W=ae[K]=te[K](e)).c(),x(W,1),W.m(X.parentNode,X)):W=null)},i(e){Y||(x(ee.block),x(q.$$.fragment,e),x(le),x(L.$$.fragment,e),x(W),Y=!0)},o(e){for(let e=0;e<3;e+=1){const l=ee.blocks[e];$(l)}$(q.$$.fragment,e),$(le),$(L.$$.fragment,e),$(W),Y=!1},d(e){e&&h(l),e&&h(t),e&&h(m),e&&h(b),ee.block.d(),ee.token=null,ee=null,T(q),le&&le.d(),e&&h(H),T(L,e),e&&h(J),~K&&ae[K].d(e),e&&h(X),Z=!1,j(_)}}}const tl=e=>e.name;function al(e,l,t){let a;N(e,S,e=>t(30,a=e));let s,n,o,r,c,i={},d=["http","https","mms","rtmp","rtmps","rtsp","podcast+file","podcast+http","podcast+https"],h={local:Z,podcast:_,subidy:ee,tunein:le},f=[],u=!1,m=!1,p=[],g=!1,b="";C(async()=>{t(3,n=v())});const v=async()=>{t(11,c=await B()),console.log("in search",c);const e=await a.getUriSchemes();e&&(t(1,f=e.filter(e=>-1===d.indexOf(e))),f.forEach(e=>t(0,i[e]=!0,i)))},x=async()=>{t(8,p=[]);const e=Object.entries(i).filter(e=>e[1]).map(e=>`${e[0]}:`),l=await a.library.search({query:{any:[b]},uris:[`${e}`]});if(l&&l.length>0){let{tracks:e}=l.pop();return e&&t(8,p=e),!0}};function $(e){e.dataTransfer.dropEffect="move",t(9,g=null)}return[i,f,s,n,u,m,o,r,p,g,b,c,h,x,function(e){13===e.which&&t(2,s=x())},e=>{t(6,o=e),t(4,u=!u)},e=>{t(7,r=r===e?null:e)},$,e=>{t(7,r=null),t(5,m=!1),te(e)},e=>{t(7,r=null),ae(e)},e=>{t(7,r=null),se(e)},e=>{t(5,m=!1),ne(e)},e=>{t(5,m=!1),se(e)},function(){b=this.value,t(10,b)},e=>t(0,i[e]=!i[e],i),()=>t(5,m=!m),(e,l)=>(function(e,l){e.dataTransfer.effectAllowed="move",e.dataTransfer.dropEffect="move";const t=l;e.dataTransfer.setData("text/plain",t)})(l,e),e=>$(e),e=>t(9,g=e),()=>t(7,r=null)]}export default class extends e{constructor(e){var n;super(),document.getElementById("svelte-1ixbxod-style")||((n=a("style")).id="svelte-1ixbxod-style",n.textContent=".input.svelte-1ixbxod.svelte-1ixbxod{-moz-appearance:none;-webkit-appearance:none;align-items:center;border:1px solid transparent;border-radius:4px;box-shadow:none;display:inline-flex;font-size:1rem;height:2.5em;justify-content:flex-start;line-height:1.5;padding-bottom:calc(0.5em - 1px);padding-left:calc(0.75em - 1px);padding-right:calc(0.75em - 1px);padding-top:calc(0.5em - 1px);position:relative;vertical-align:top}.input.is-rounded.svelte-1ixbxod.svelte-1ixbxod{border-radius:290486px;padding-left:calc(calc(0.75em - 1px) + 0.375em);padding-right:calc(calc(0.75em - 1px) + 0.375em)}.input.svelte-1ixbxod.svelte-1ixbxod{background-color:white;border-color:#dbdbdb;border-radius:4px;color:#363636}.input.svelte-1ixbxod.svelte-1ixbxod::-moz-placeholder{color:rgba(54, 54, 54, 0.3)}.input.svelte-1ixbxod.svelte-1ixbxod::-webkit-input-placeholder{color:rgba(54, 54, 54, 0.3)}.input.svelte-1ixbxod.svelte-1ixbxod:-moz-placeholder{color:rgba(54, 54, 54, 0.3)}.input.svelte-1ixbxod.svelte-1ixbxod:-ms-input-placeholder{color:rgba(54, 54, 54, 0.3)}.input.svelte-1ixbxod.svelte-1ixbxod:hover{border-color:#b5b5b5}.input.svelte-1ixbxod.svelte-1ixbxod:focus{border-color:#3273dc;box-shadow:0 0 0 0.125em rgba(50, 115, 220, 0.25)}.input.svelte-1ixbxod.svelte-1ixbxod{box-shadow:inset 0 0.0625em 0.125em rgba(10, 10, 10, 0.05);max-width:100%;width:100%}.tags.svelte-1ixbxod.svelte-1ixbxod{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-start}.tags.svelte-1ixbxod .tag.svelte-1ixbxod{margin-bottom:0.5rem}.tags.svelte-1ixbxod .tag.svelte-1ixbxod:not(:last-child){margin-right:0.5rem}.tags.svelte-1ixbxod.svelte-1ixbxod:last-child{margin-bottom:-0.5rem}.tags.svelte-1ixbxod.svelte-1ixbxod:not(:last-child){margin-bottom:1rem}.tag.svelte-1ixbxod.svelte-1ixbxod:not(body){align-items:center;background-color:whitesmoke;border-radius:4px;color:#4a4a4a;display:inline-flex;font-size:0.75rem;height:2em;justify-content:center;line-height:1.5;padding-left:0.75em;padding-right:0.75em;white-space:nowrap}.tag:not(body).is-primary.svelte-1ixbxod.svelte-1ixbxod{background-color:#DA9C20;color:#fff}",s(document.head,n)),l(this,e,al,ll,t,{},[-1,-1])}}
