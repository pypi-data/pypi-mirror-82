CHANGES
=======

2.0.0
-----

* Replace assertItemsEqual with assertCountEqual
* Add \*.pyc files to .gitignore
* Use unittest.mock instead of third party mock
* Add Python3 victoria unit tests

1.0.0
-----

* Cleanup py27 support
* [ussuri][goal] Drop python 2.7 support and testing
* Switch to Ussuri jobs
* Update the constraints url
* Blacklist sphinx 2.1.0 (autodoc bug)

0.18.0
------

* Add Python 3 Train unit tests
* do not set INFLUXDB\_VERSION
* Update hacking version to latest
* Update sphinx version in test-requirement.txt
* Replace git.openstack.org URLs with opendev.org URLs
* OpenDev Migration Patch
* Dropping the py35 testing
* Fix Swift Rate Calculation

0.17.1
------

* Replace openstack.org git:// URLs with https://
* add python 3.7 unit test job
* Change openstack-dev to openstack-discuss
* Don't quote {posargs} in tox.ini
* Remove setup.py check from pep8 job
* Add coverage check to Zuul configuration

0.17.0
------

* Import docs build job
* fix tox python3 overrides
* Fix PEP8 tests for Python 3
* Update links in README
* Update the governance link
* add python 3.6 unit test job
* import zuul job settings from project-config

0.16.0
------

* Fix README.rst and add syntax check
* Enable mutable config in monasca\_transform
* Remove pykafka from lower-constraints
* Remove service\_id from pre-transform spec
* Remove testrepository and .testr.conf
* Switch to using stestr
* Convert README.md to ReStructuredTest format
* Cleanup pre transform and transform specs
* fix misspelling of 'monasca'
* Updated from global requirements

0.15.0
------

* Update pep8 checks
* Update monasca-transform devstack plugin
* Refresh monasca transform docs
* Set region in metric meta from config file
* Clean up tox.ini
* add lower-constraints job

0.14.0
------

* Updated from global requirements

0.13.0
------

* Updated from global requirements
* Use generic user for both zuul v2 and v3

0.12.0
------

* Updated from global requirements
* Remove vestigate HUDSON\_PUBLISH\_DOCS reference
* Updated from global requirements
* Switch to using Spark version 2.2.0
* Updated from global requirements
* Stop using deprecated 'message' attribute in Exception
* Enable some off-by-default checks

0.11.0
------

* Check periodically if host is leader
* Updated from global requirements
* Updated from global requirements
* Fix html\_last\_updated\_fmt for Python3
* Update refresh monasca transfom script to systemd

0.10.0
------

* Updated from global requirements
* Updated from global requirements
* Changes to setup cfg

0.9.0
-----

* Enable monasca transform functional tests
* Monasca Transform devstack rotate spark logs in /var/run/spark
* Enhanced refresh monasca transform script
* Hourly aggregation account for early arrving metrics
* Add Constraints support
* Updated from global requirements
* Fix development environment and functional tests
* Optimize the link address
* Replaces uuid.uuid4 with uuidutils.generate\_uuid()
* Updated from global requirements
* Updated from global requirements
* Delete doc/build/html/.root-marker
* Updated from global requirements
* Use to kafka\_lib library in monasca common
* Change Spark version to 1.6.3
* Started adding kubernetes metrics aggregation
* [Fix gate]Update test requirement
* Reuse existing spark sql context
* Remove unused logging import
* Corrected catch up aggregation logic
* Replaced e.message with str(e)
* Updated from global requirements
* Update monasca-transform git path in README
* Adjust proxy port parsing to only return number
* Delete hourly offsets from offsets table
* Updated from global requirements
* Fix ci
* Addressed proxy issues for maven in vagrant
* Added tools/vagrant/.vagrant file to .gitignore
* Delete deprecated Hacking in tox.ini
* Manual sync with openstack/requirements
* Show team and repo badges on README
* Refactored vagrant environment for xenial
* Added blank test hooks for ci
* Add configurable amnesty period for late metrics
* Remove unique metric count aggregation
* Fixed vagrant provision script
* Corrected test environment
* Populate the project id for kafka publish
* Fixed the refresh script
* Enable cleanup for spark-worker
* Remove metric filters from transform-spec
* Fixed minor issues in unstack
* Use database password from variable
* Validate metrics before publishing to kafka
* Added aggregation results to application log
* Changed hourly storage.objects.size\_agg operation
* Eliminated ceiling function for utilization metrics
* Made corrections such that swiftlm.diskusage.rate\_agg is now correctly based on swiftlm.diskusage.host.val.avail (instead of incorrectly being based on swiftlm.diskusage.host.val.size)
* Made changes to prevent multiple metrics in the same batch
* Eliminated processing\_meta from hourly metrics
* Added aggregation of storage-objects.size
* Modifications to include processing\_meta in pre-hourly metrics
* Modifications to make rate calculations work with two-stage aggregation
* Reintroduced some aggregations which were apparently lost when we transitioned to the upstream Monasca-Transform OpenStack repo. Specifically, the missing aggregations were those for the nova.vm.cpu.total\_allocated and nova.vm.mem.total\_allocated\_mb source metrics. This set of changes also includes the resolution of a couple pre-existing pep8 errors
* add test\_fetch\_quantity\_util\_agg
* Removed version from monasca-common dependency
* add test cases for first and second stage of host and vm cpu usage processing
* Removed 'device' as an expected dimension on incoming Swift metrics (since it is no longer included in them)
* Add TLS/SSL capability to database connection
* add test cases for fetch\_quantity\_prehourly\_instance\_usage
* add 'string' to all firstrecord\_timestamp and lastrecord\_timestamp to fix bug
* Added filter capability for transform specs
* timestamp parsed into utc instead of localtime(which was default) Closes Bug:#160531
* Change to monasca-common simport
* Change jdbc driver to drizzle
* Added some bulletproofing to catch invalid configuration entries for caching levels.  Also changed the calculate\_rate component to use values from instance usage if available (rather than using 'all')
* Update kafka-python version to 0.9.5
* fix no\_proxy bug in tools/vagrant/Vagrantfile
* Corrected log file name
* Two stage transformation
* Added several Swift aggregations (including a new usage component for calculating rate changes).  Also fixed some pep8 issues
* Removed spark-events from config
* Vagrant to use local branch for devstack
* Removed patch for monasca-api plugin
* Added aggregation for vm.mem.used\_mb and swiftlm.diskusage.host.val.size.  Also renamed disk.allocation to vm.disk.allocation and resolved a problem with resource\_id not being found for certain aggregations
* Added aggregation for cpu.total\_logical\_cores and cpu.utilized\_logical\_cores by host
* Allow configurable SPARK\_HOME
* Implemented aggregation for disk.allocation.  Also set the apache download source to use the archive site to ensure that the dependency package does not disappear.  Also brought the vagrant environment inline with monasca-api (i.e., use the same values for private network, add substitution for kafka brokers ip address to the conf).  Also parameterised dependency sources (i.e., added settings to parameterise the maven and apache repositories for the devstack plugin)
* monasca-transform initial commit
* Added .gitreview
