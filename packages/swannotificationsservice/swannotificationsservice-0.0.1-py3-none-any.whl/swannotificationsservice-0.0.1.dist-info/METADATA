Metadata-Version: 2.1
Name: swannotificationsservice
Version: 0.0.1
Summary: JupyterHub service to expose notifications for Jupyter
Home-page: https://github.com/swan-cern/jupyterhub-extensions
Author: SWAN Admins
License: AGPL-3.0
Keywords: JupyterHub,SWAN,CERN
Platform: Linux
Platform: Mac OS X
Classifier: License :: OSI Approved :: GNU Affero General Public License v3
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: System Administrators
Classifier: Intended Audience :: Science/Research
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Description-Content-Type: text/markdown
Requires-Dist: jupyterhub

# SwanNotificationsService

JupyterHub service that exposes an API with notifications for the logged in user.
The notifications are specified in a json file. If a "maintenance file" exists, a notification will be given that the service is under maintenance.

This extension works in conjunction with [SwanNotifications](https://github.com/swan-cern/jupyter-extensions/tree/master/SwanNotifications).

## Requirements

This module requires and installs JupyterHub.

## Installation

Install the package:

```bash
pip install swannotificationsservice
```

## Usage

Call the binary and specify configuration parameters:
```bash
swannotificationsservice --notifications_file /srv/jupyterhub/notifications.json
```

Configuration parameters:

* port (default: 8888)
* notifications_file (default: /srv/jupyterhub/notifications.json)
* maintenance_file (default: /etc/nologin)
* prefix (default: /)

Notifications file example:

```json
[
    {
        "user": "*",
        "id": "notif1",
        "level": "info",
        "dismissible": 0,
        "message": "This is a notification"
    }
]
```

Explanation:
* user: username or '*' for all users;
* id: unique identifier;
* level: type of the notification (notice, info, success, or error)
* dismissible: wether the user will be able to permanently hide the notification (0 or 1)
* message: the text/html message


