stages:
    - setup
    - test
    - extra

before_script:   
    - export PYENV_ROOT="$HOME/.pyenv"   
    - export PATH="$PYENV_ROOT/bin:$PATH"   
    - export LC_ALL=C.UTF-8   
    - export LANG=C.UTF-8   
    - eval "$(pyenv init -)"   
    - pyenv local 3.6.10 3.7.6 3.8.1   
    - pip install tox   
    - pwd 

check-setup:
    stage: setup
    script: 
        - pip install -U tox tox-pyenv
        - tox -v -e  check
docs:   
    stage: extra
    script:     
        - tox -v -e docs 
py36:   
    stage: test
    script:     
        - tox -v -e py36
py37:
    stage: test
    script:
        - tox -v -e py37
py38:
    stage: test
    script:
        - tox -v -e py38
