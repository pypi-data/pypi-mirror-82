[tox]
envlist = py27,py34,py35,py36,py37,{py27,py36,py37}-pandas
minversion = 2.4
skip_missing_interpreters = true

[testenv]
deps =
	setuptools>=31.0.1
    pandas: pandas
	# workaround for yaml/pyyaml#126
	# git+https://github.com/yaml/pyyaml@master#egg=pyyaml;python_version=="3.7"
   git+https://github.com/Crunch-io/pycrunch#pycrunch
commands =
    py.test {posargs}
    python setup.py checkdocs

usedevelop = True
extras =
    testing

[testenv:pandas]
deps =
	setuptools>=31.0.1
	# workaround for yaml/pyyaml#126
	# git+https://github.com/yaml/pyyaml@master#egg=pyyaml;python_version=="3.7"
   git+https://github.com/Crunch-io/pycrunch#pycrunch
commands =
    py.test {posargs}
    python setup.py checkdocs
usedevelop = True
extras =
    testing
    pandas

[testenv:build-docs]
extras =
    docs
    testing
changedir = docs
commands =
    python -m sphinx . {toxinidir}/build/html
